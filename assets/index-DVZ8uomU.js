(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var kf={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function pT(){if(vy)return jl;vy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return jl.Fragment=e,jl.jsx=i,jl.jsxs=i,jl}var Ey;function yT(){return Ey||(Ey=1,kf.exports=pT()),kf.exports}var ct=yT(),Bf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function _T(){if(Ty)return bt;Ty=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,X={};function H(V,W,at){this.props=V,this.context=W,this.refs=X,this.updater=at||q}H.prototype.isReactComponent={},H.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function J(){}J.prototype=H.prototype;function st(V,W,at){this.props=V,this.context=W,this.refs=X,this.updater=at||q}var it=st.prototype=new J;it.constructor=st,G(it,H.prototype),it.isPureReactComponent=!0;var At=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},Ot=Object.prototype.hasOwnProperty;function O(V,W,at,et,mt,wt){return at=wt.ref,{$$typeof:a,type:V,key:W,ref:at!==void 0?at:null,props:wt}}function A(V,W){return O(V.type,W,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function N(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(at){return W[at]})}var M=/\/+/g;function U(V,W){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):W.toString(36)}function D(){}function xe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function se(V,W,at,et,mt){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var Et=!1;if(V===null)Et=!0;else switch(wt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(V.$$typeof){case a:case e:Et=!0;break;case T:return Et=V._init,se(Et(V._payload),W,at,et,mt)}}if(Et)return mt=mt(V),Et=et===""?"."+U(V,0):et,At(mt)?(at="",Et!=null&&(at=Et.replace(M,"$&/")+"/"),se(mt,W,at,"",function(zn){return zn})):mt!=null&&(w(mt)&&(mt=A(mt,at+(mt.key==null||V&&V.key===mt.key?"":(""+mt.key).replace(M,"$&/")+"/")+Et)),W.push(mt)),1;Et=0;var Ce=et===""?".":et+":";if(At(V))for(var $t=0;$t<V.length;$t++)et=V[$t],wt=Ce+U(et,$t),Et+=se(et,W,at,wt,mt);else if($t=C(V),typeof $t=="function")for(V=$t.call(V),$t=0;!(et=V.next()).done;)et=et.value,wt=Ce+U(et,$t++),Et+=se(et,W,at,wt,mt);else if(wt==="object"){if(typeof V.then=="function")return se(xe(V),W,at,et,mt);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Et}function F(V,W,at){if(V==null)return V;var et=[],mt=0;return se(V,et,"","",function(wt){return W.call(at,wt,mt++)}),et}function rt(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(at){(V._status===0||V._status===-1)&&(V._status=1,V._result=at)},function(at){(V._status===0||V._status===-1)&&(V._status=2,V._result=at)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var dt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function kt(){}return bt.Children={map:F,forEach:function(V,W,at){F(V,function(){W.apply(this,arguments)},at)},count:function(V){var W=0;return F(V,function(){W++}),W},toArray:function(V){return F(V,function(W){return W})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=H,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=st,bt.StrictMode=s,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ft.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,W,at){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var et=G({},V.props),mt=V.key,wt=void 0;if(W!=null)for(Et in W.ref!==void 0&&(wt=void 0),W.key!==void 0&&(mt=""+W.key),W)!Ot.call(W,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&W.ref===void 0||(et[Et]=W[Et]);var Et=arguments.length-2;if(Et===1)et.children=at;else if(1<Et){for(var Ce=Array(Et),$t=0;$t<Et;$t++)Ce[$t]=arguments[$t+2];et.children=Ce}return O(V.type,mt,void 0,void 0,wt,et)},bt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},bt.createElement=function(V,W,at){var et,mt={},wt=null;if(W!=null)for(et in W.key!==void 0&&(wt=""+W.key),W)Ot.call(W,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(mt[et]=W[et]);var Et=arguments.length-2;if(Et===1)mt.children=at;else if(1<Et){for(var Ce=Array(Et),$t=0;$t<Et;$t++)Ce[$t]=arguments[$t+2];mt.children=Ce}if(V&&V.defaultProps)for(et in Et=V.defaultProps,Et)mt[et]===void 0&&(mt[et]=Et[et]);return O(V,wt,void 0,void 0,null,mt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:g,render:V}},bt.isValidElement=w,bt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:rt}},bt.memo=function(V,W){return{$$typeof:p,type:V,compare:W===void 0?null:W}},bt.startTransition=function(V){var W=ft.T,at={};ft.T=at;try{var et=V(),mt=ft.S;mt!==null&&mt(at,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(kt,dt)}catch(wt){dt(wt)}finally{ft.T=W}},bt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},bt.use=function(V){return ft.H.use(V)},bt.useActionState=function(V,W,at){return ft.H.useActionState(V,W,at)},bt.useCallback=function(V,W){return ft.H.useCallback(V,W)},bt.useContext=function(V){return ft.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,W){return ft.H.useDeferredValue(V,W)},bt.useEffect=function(V,W,at){var et=ft.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(V,W)},bt.useId=function(){return ft.H.useId()},bt.useImperativeHandle=function(V,W,at){return ft.H.useImperativeHandle(V,W,at)},bt.useInsertionEffect=function(V,W){return ft.H.useInsertionEffect(V,W)},bt.useLayoutEffect=function(V,W){return ft.H.useLayoutEffect(V,W)},bt.useMemo=function(V,W){return ft.H.useMemo(V,W)},bt.useOptimistic=function(V,W){return ft.H.useOptimistic(V,W)},bt.useReducer=function(V,W,at){return ft.H.useReducer(V,W,at)},bt.useRef=function(V){return ft.H.useRef(V)},bt.useState=function(V){return ft.H.useState(V)},bt.useSyncExternalStore=function(V,W,at){return ft.H.useSyncExternalStore(V,W,at)},bt.useTransition=function(){return ft.H.useTransition()},bt.version="19.1.1",bt}var Sy;function wd(){return Sy||(Sy=1,Bf.exports=_T()),Bf.exports}var K=wd(),qf={exports:{}},Hl={},jf={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function vT(){return Ay||(Ay=1,function(a){function e(F,rt){var dt=F.length;F.push(rt);t:for(;0<dt;){var kt=dt-1>>>1,V=F[kt];if(0<o(V,rt))F[kt]=rt,F[dt]=V,dt=kt;else break t}}function i(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var rt=F[0],dt=F.pop();if(dt!==rt){F[0]=dt;t:for(var kt=0,V=F.length,W=V>>>1;kt<W;){var at=2*(kt+1)-1,et=F[at],mt=at+1,wt=F[mt];if(0>o(et,dt))mt<V&&0>o(wt,et)?(F[kt]=wt,F[mt]=dt,kt=mt):(F[kt]=et,F[at]=dt,kt=at);else if(mt<V&&0>o(wt,dt))F[kt]=wt,F[mt]=dt,kt=mt;else break t}}return rt}function o(F,rt){var dt=F.sortIndex-rt.sortIndex;return dt!==0?dt:F.id-rt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],p=[],T=1,b=null,C=3,q=!1,G=!1,X=!1,H=!1,J=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function At(F){for(var rt=i(p);rt!==null;){if(rt.callback===null)s(p);else if(rt.startTime<=F)s(p),rt.sortIndex=rt.expirationTime,e(y,rt);else break;rt=i(p)}}function ft(F){if(X=!1,At(F),!G)if(i(y)!==null)G=!0,Ot||(Ot=!0,U());else{var rt=i(p);rt!==null&&se(ft,rt.startTime-F)}}var Ot=!1,O=-1,A=5,w=-1;function N(){return H?!0:!(a.unstable_now()-w<A)}function M(){if(H=!1,Ot){var F=a.unstable_now();w=F;var rt=!0;try{t:{G=!1,X&&(X=!1,st(O),O=-1),q=!0;var dt=C;try{e:{for(At(F),b=i(y);b!==null&&!(b.expirationTime>F&&N());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,C=b.priorityLevel;var V=kt(b.expirationTime<=F);if(F=a.unstable_now(),typeof V=="function"){b.callback=V,At(F),rt=!0;break e}b===i(y)&&s(y),At(F)}else s(y);b=i(y)}if(b!==null)rt=!0;else{var W=i(p);W!==null&&se(ft,W.startTime-F),rt=!1}}break t}finally{b=null,C=dt,q=!1}rt=void 0}}finally{rt?U():Ot=!1}}}var U;if(typeof it=="function")U=function(){it(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,xe=D.port2;D.port1.onmessage=M,U=function(){xe.postMessage(null)}}else U=function(){J(M,0)};function se(F,rt){O=J(function(){F(a.unstable_now())},rt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(F){F.callback=null},a.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},a.unstable_getCurrentPriorityLevel=function(){return C},a.unstable_next=function(F){switch(C){case 1:case 2:case 3:var rt=3;break;default:rt=C}var dt=C;C=rt;try{return F()}finally{C=dt}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function(F,rt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var dt=C;C=F;try{return rt()}finally{C=dt}},a.unstable_scheduleCallback=function(F,rt,dt){var kt=a.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?kt+dt:kt):dt=kt,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=dt+V,F={id:T++,callback:rt,priorityLevel:F,startTime:dt,expirationTime:V,sortIndex:-1},dt>kt?(F.sortIndex=dt,e(p,F),i(y)===null&&F===i(p)&&(X?(st(O),O=-1):X=!0,se(ft,dt-kt))):(F.sortIndex=V,e(y,F),G||q||(G=!0,Ot||(Ot=!0,U()))),F},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(F){var rt=C;return function(){var dt=C;C=rt;try{return F.apply(this,arguments)}finally{C=dt}}}}(Hf)),Hf}var by;function ET(){return by||(by=1,jf.exports=vT()),jf.exports}var Gf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function TT(){if(Ry)return Qe;Ry=1;var a=wd();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,p,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:y,containerInfo:p,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return h(y,p,null,T)},Qe.flushSync=function(y){var p=d.T,T=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=T,s.d.f()}},Qe.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Qe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Qe.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,b=g(T,p.crossOrigin),C=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:q}):T==="script"&&s.d.X(y,{crossOrigin:b,integrity:C,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qe.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Qe.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,b=g(T,p.crossOrigin);s.d.L(y,T,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qe.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Qe.requestFormReset=function(y){s.d.r(y)},Qe.unstable_batchedUpdates=function(y,p){return y(p)},Qe.useFormState=function(y,p,T){return d.H.useFormState(y,p,T)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var wy;function ST(){if(wy)return Gf.exports;wy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Gf.exports=TT(),Gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function AT(){if(Cy)return Hl;Cy=1;var a=ET(),e=wd(),i=ST();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===r){v=!0,r=c,l=f;break}if(E===l){v=!0,l=c,r=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===r){v=!0,r=f,l=c;break}if(E===l){v=!0,l=f,r=c;break}E=E.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),st=Symbol.for("react.consumer"),it=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case H:return"Profiler";case X:return"StrictMode";case ft:return"Suspense";case Ot:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case it:return(t.displayName||"Context")+".Provider";case st:return(t._context.displayName||"Context")+".Consumer";case At:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:xe(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return xe(t(n))}catch{}}return null}var se=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},kt=[],V=-1;function W(t){return{current:t}}function at(t){0>V||(t.current=kt[V],kt[V]=null,V--)}function et(t,n){V++,kt[V]=t.current,t.current=n}var mt=W(null),wt=W(null),Et=W(null),Ce=W(null);function $t(t,n){switch(et(Et,n),et(wt,t),et(mt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Yp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Yp(n),t=Kp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}at(mt),et(mt,t)}function zn(){at(mt),at(wt),at(Et)}function ji(t){t.memoizedState!==null&&et(Ce,t);var n=mt.current,r=Kp(n,t.type);n!==r&&(et(wt,t),et(mt,r))}function ui(t){wt.current===t&&(at(mt),at(wt)),Ce.current===t&&(at(Ce),Pl._currentValue=dt)}var Vr=Object.prototype.hasOwnProperty,Ir=a.unstable_scheduleCallback,Nr=a.unstable_cancelCallback,xs=a.unstable_shouldYield,_o=a.unstable_requestPaint,mn=a.unstable_now,zc=a.unstable_getCurrentPriorityLevel,Us=a.unstable_ImmediatePriority,Sa=a.unstable_UserBlockingPriority,Or=a.unstable_NormalPriority,kc=a.unstable_LowPriority,Aa=a.unstable_IdlePriority,Ls=a.log,vo=a.unstable_setDisableYieldValue,le=null,Ht=null;function an(t){if(typeof Ls=="function"&&vo(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(le,t)}catch{}}var Ge=Math.clz32?Math.clz32:Mr,Eo=Math.log,Bc=Math.LN2;function Mr(t){return t>>>=0,t===0?32:31-(Eo(t)/Bc|0)|0}var xr=256,Ur=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ba(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=In(l):(v&=E,v!==0?c=In(v):r||(r=E&~t,r!==0&&(c=In(r))))):(E=l&~f,E!==0?c=In(E):v!==0?c=In(v):r||(r=l&~t,r!==0&&(c=In(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Lr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ps(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zs(){var t=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),t}function ks(){var t=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),t}function ci(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function hi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bs(t,n,r,l,c,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(r=v&~r;0<r;){var Q=31-Ge(r),Z=1<<Q;E[Q]=0,R[Q]=-1;var k=z[Q];if(k!==null)for(z[Q]=null,Q=0;Q<k.length;Q++){var B=k[Q];B!==null&&(B.lane&=-536870913)}r&=~Z}l!==0&&kn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function kn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ge(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function qs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ge(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Hi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ra(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gi(){var t=rt.p;return t!==0?t:(t=window.event,t===void 0?32:dy(t.type))}function To(t,n){var r=rt.p;try{return rt.p=t,n()}finally{rt.p=r}}var ee=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ee,me="__reactProps$"+ee,gn="__reactContainer$"+ee,js="__reactEvents$"+ee,qc="__reactListeners$"+ee,Fi="__reactHandles$"+ee,So="__reactResources$"+ee,Pr="__reactMarker$"+ee;function Qi(t){delete t[Ee],delete t[me],delete t[js],delete t[qc],delete t[Fi]}function fi(t){var n=t[Ee];if(n)return n;for(var r=t.parentNode;r;){if(n=r[gn]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Jp(t);t!==null;){if(r=t[Ee])return r;t=Jp(t)}return n}t=r,r=t.parentNode}return null}function Bn(t){if(t=t[Ee]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function qn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ze(t){var n=t[So];return n||(n=t[So]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Pr]=!0}var Hs=new Set,wa={};function Nn(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(wa[t]=n,t=0;t<n.length;t++)Hs.add(n[t])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},zr={};function Ro(t){return Vr.call(zr,t)?!0:Vr.call(bo,t)?!1:Ao.test(t)?zr[t]=!0:(bo[t]=!0,!1)}function Yi(t,n,r){if(Ro(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function jn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ue(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var kr,wo;function mi(t){if(kr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);kr=n&&n[1]||"",wo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kr+t+wo}var Ca=!1;function Da(t,n){if(!t||Ca)return"";Ca=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(B){var k=B}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(B){k=B}t.call(Z.prototype)}}else{try{throw Error()}catch(B){k=B}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(B){if(B&&k&&typeof B.stack=="string")return[B.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),z=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===z.length)for(l=R.length-1,c=z.length-1;1<=l&&0<=c&&R[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==z[c]){var Q=`
`+R[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Ca=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?mi(r):""}function Gs(t){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Da(t.type,!1);case 11:return Da(t.type.render,!1);case 1:return Da(t.type,!0);case 31:return mi("Activity");default:return""}}function Va(t){try{var n="";do n+=Gs(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function $e(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jc(t){var n=Fs(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ia(t){t._valueTracker||(t._valueTracker=jc(t))}function Qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Fs(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Br(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hc=/[\n"\\]/g;function ge(t){return t.replace(Hc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,r,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+$e(n)):t.value!==""+$e(n)&&(t.value=""+$e(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Ki(t,v,$e(n)):r!=null?Ki(t,v,$e(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+$e(E):t.removeAttribute("name")}function qr(t,n,r,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+$e(r):"",n=n!=null?""+$e(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ki(t,n,r){n==="number"&&Br(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function gi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+$e(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+$e(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+$e(r):""}function jr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=$e(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Hr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ys(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Co(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Co(t,f,n[f])}function Ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Fc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pi=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yi=null,_i=null;function Xs(t){var n=Bn(t);if(n&&(t=n.stateNode)){var r=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[me]||null;if(!c)throw Error(s(90));sn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Qs(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&gi(t,!!r.multiple,n,!1)}}}var Hn=!1;function Do(t,n,r){if(Hn)return t(n,r);Hn=!0;try{var l=t(n);return l}finally{if(Hn=!1,(yi!==null||_i!==null)&&(Tu(),yi&&(n=yi,t=_i,_i=yi=null,Xs(n),t)))for(n=0;n<t.length;n++)Xs(t[n])}}function Gr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[me]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(On)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{_n=!1}var Gn=null,Xi=null,vi=null;function Zs(){if(vi)return vi;var t,n=Xi,r=n.length,l,c="value"in Gn?Gn.value:Gn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===c[f-l];l++);return vi=c.slice(t,1<l?1-l:void 0)}function Fn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function $s(){return!1}function De(t){function n(r,l,c,f,v){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:$s,this.isPropagationStopped=$s,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=De(qt),Qr=T({},qt,{view:0,detail:0}),Vo=De(Qr),Ma,xa,Yn,Yr=T({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Ma=t.screenX-Yn.screenX,xa=t.screenY-Yn.screenY):xa=Ma=0,Yn=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),vn=De(Yr),Io=T({},Yr,{dataTransfer:0}),Qc=De(Io),Kr=T({},Qr,{relatedTarget:0}),Ua=De(Kr),Js=T({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),La=De(Js),No=T({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pa=De(No),Yc=T({},qt,{data:0}),Ws=De(Yc),Xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mo[t])?!!n[t]:!1}function Zr(){return tl}var xo=T({},Qr,{key:function(t){if(t.key){var n=Xr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Oo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(t){return t.type==="keypress"?Fn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),za=De(xo),Uo=T({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=De(Uo),Ei=T({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),Lo=De(Ei),Po=T({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),zo=De(Po),ko=T({},Yr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=De(ko),Je=T({},qt,{newState:0,oldState:0}),Bo=De(Je),qo=[9,13,27,32],Kn=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,_=On&&(!Kn||u&&8<u&&11>=u),S=" ",L=!1;function j(t,n){switch(t){case"keyup":return qo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function Te(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(L=!0,S);case"textInput":return t=n.data,t===S&&L?null:t;default:return null}}function xt(t,n){if(Mt)return t==="compositionend"||!Kn&&j(t,n)?(t=Zs(),vi=Xi=Gn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function Ti(t,n,r,l){yi?_i?_i.push(l):_i=[l]:yi=l,n=Cu(n,"onChange"),0<n.length&&(r=new Oa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Le=null,Xn=null;function nl(t){jp(t,0)}function jo(t){var n=qn(t);if(Qs(n))return t}function um(t,n){if(t==="change")return n}var cm=!1;if(On){var Kc;if(On){var Xc="oninput"in document;if(!Xc){var hm=document.createElement("div");hm.setAttribute("oninput","return;"),Xc=typeof hm.oninput=="function"}Kc=Xc}else Kc=!1;cm=Kc&&(!document.documentMode||9<document.documentMode)}function fm(){Le&&(Le.detachEvent("onpropertychange",dm),Xn=Le=null)}function dm(t){if(t.propertyName==="value"&&jo(Xn)){var n=[];Ti(n,Xn,t,yn(t)),Do(nl,n)}}function QE(t,n,r){t==="focusin"?(fm(),Le=n,Xn=r,Le.attachEvent("onpropertychange",dm)):t==="focusout"&&fm()}function YE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jo(Xn)}function KE(t,n){if(t==="click")return jo(n)}function XE(t,n){if(t==="input"||t==="change")return jo(n)}function ZE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:ZE;function il(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Vr.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function mm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gm(t,n){var r=mm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=mm(r)}}function pm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?pm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ym(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Br(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Br(t.document)}return n}function Zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var $E=On&&"documentMode"in document&&11>=document.documentMode,Ba=null,$c=null,rl=null,Jc=!1;function _m(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jc||Ba==null||Ba!==Br(l)||(l=Ba,"selectionStart"in l&&Zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Cu($c,"onSelect"),0<l.length&&(n=new Oa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ba)))}function $r(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var qa={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Wc={},vm={};On&&(vm=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Jr(t){if(Wc[t])return Wc[t];if(!qa[t])return t;var n=qa[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in vm)return Wc[t]=n[r];return t}var Em=Jr("animationend"),Tm=Jr("animationiteration"),Sm=Jr("animationstart"),JE=Jr("transitionrun"),WE=Jr("transitionstart"),t0=Jr("transitioncancel"),Am=Jr("transitionend"),bm=new Map,th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");th.push("scrollEnd");function Mn(t,n){bm.set(t,n),Nn(n,[t])}var Rm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=Rm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Va(n)},Rm.set(t,n),n)}return{value:t,source:n,stack:Va(n)}}var Tn=[],ja=0,eh=0;function Ho(){for(var t=ja,n=eh=ja=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&wm(r,c,f)}}function Go(t,n,r,l){Tn[ja++]=t,Tn[ja++]=n,Tn[ja++]=r,Tn[ja++]=l,eh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nh(t,n,r,l){return Go(t,n,r,l),Fo(t)}function Ha(t,n){return Go(t,null,null,n),Fo(t)}function wm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ge(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Fo(t){if(50<Vl)throw Vl=0,uf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ga={};function e0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,r,l){return new e0(t,n,r,l)}function ih(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Si(t,n){var r=t.alternate;return r===null?(r=on(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Cm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Qo(t,n,r,l,c,f){var v=0;if(l=t,typeof t=="function")ih(t)&&(v=1);else if(typeof t=="string")v=iT(t,r,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=on(31,r,n,c),t.elementType=w,t.lanes=f,t;case G:return Wr(r.children,c,f,n);case X:v=8,c|=24;break;case H:return t=on(12,r,n,c|2),t.elementType=H,t.lanes=f,t;case ft:return t=on(13,r,n,c),t.elementType=ft,t.lanes=f,t;case Ot:return t=on(19,r,n,c),t.elementType=Ot,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:case it:v=10;break t;case st:v=9;break t;case At:v=11;break t;case O:v=14;break t;case A:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(v,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Wr(t,n,r,l){return t=on(7,t,l,n),t.lanes=r,t}function rh(t,n,r){return t=on(6,t,null,n),t.lanes=r,t}function ah(t,n,r){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Fa=[],Qa=0,Yo=null,Ko=0,Sn=[],An=0,ta=null,Ai=1,bi="";function ea(t,n){Fa[Qa++]=Ko,Fa[Qa++]=Yo,Yo=t,Ko=n}function Dm(t,n,r){Sn[An++]=Ai,Sn[An++]=bi,Sn[An++]=ta,ta=t;var l=Ai;t=bi;var c=32-Ge(l)-1;l&=~(1<<c),r+=1;var f=32-Ge(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ai=1<<32-Ge(n)+c|r<<c|l,bi=f+t}else Ai=1<<f|r<<c|l,bi=t}function sh(t){t.return!==null&&(ea(t,1),Dm(t,1,0))}function lh(t){for(;t===Yo;)Yo=Fa[--Qa],Fa[Qa]=null,Ko=Fa[--Qa],Fa[Qa]=null;for(;t===ta;)ta=Sn[--An],Sn[An]=null,bi=Sn[--An],Sn[An]=null,Ai=Sn[--An],Sn[An]=null}var We=null,oe=null,Bt=!1,na=null,Zn=!1,oh=Error(s(519));function ia(t){var n=Error(s(418,""));throw ll(En(n,t)),oh}function Vm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[me]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Nl.length;r++)Vt(Nl[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),qr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ia(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),jr(n,l.value,l.defaultValue,l.children),Ia(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Qp(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Du),n=!0):n=!1,n||ia(t)}function Im(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:We=We.return}}function al(t){if(t!==We)return!1;if(!Bt)return Im(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Rf(t.type,t.memoizedProps)),r=!r),r&&oe&&ia(t),Im(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){oe=Un(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}oe=null}}else n===27?(n=oe,hr(t.type)?(t=Vf,Vf=null,oe=t):oe=n):oe=We?Un(t.stateNode.nextSibling):null;return!0}function sl(){oe=We=null,Bt=!1}function Nm(){var t=na;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),na=null),t}function ll(t){na===null?na=[t]:na.push(t)}var uh=W(null),ra=null,Ri=null;function Zi(t,n,r){et(uh,n._currentValue),n._currentValue=r}function wi(t){t._currentValue=uh.current,at(uh)}function ch(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function hh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),ch(f.return,r,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),ch(v,r,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function ol(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=c.type;ln(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ce.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}c=c.return}t!==null&&hh(n,t,r,l),n.flags|=262144}function Xo(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function aa(t){ra=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Fe(t){return Om(ra,t)}function Zo(t,n){return ra===null&&aa(t),Om(t,n)}function Om(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ri===null){if(t===null)throw Error(s(308));Ri=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ri=Ri.next=n;return r}var n0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},i0=a.unstable_scheduleCallback,r0=a.unstable_NormalPriority,Ae={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fh(){return{controller:new n0,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&i0(r0,function(){t.controller.abort()})}var cl=null,dh=0,Ya=0,Ka=null;function a0(t,n){if(cl===null){var r=cl=[];dh=0,Ya=pf(),Ka={status:"pending",value:void 0,then:function(l){r.push(l)}}}return dh++,n.then(Mm,Mm),n}function Mm(){if(--dh===0&&cl!==null){Ka!==null&&(Ka.status="fulfilled");var t=cl;cl=null,Ya=0,Ka=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function s0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var xm=F.S;F.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&a0(t,n),xm!==null&&xm(t,n)};var sa=W(null);function mh(){var t=sa.current;return t!==null?t:Jt.pooledCache}function $o(t,n){n===null?et(sa,sa.current):et(sa,n.pool)}function Um(){var t=mh();return t===null?null:{parent:Ae._currentValue,pool:t}}var hl=Error(s(460)),Lm=Error(s(474)),Jo=Error(s(542)),gh={then:function(){}};function Pm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wo(){}function zm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Wo,Wo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bm(t),t;default:if(typeof n.status=="string")n.then(Wo,Wo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bm(t),t}throw fl=n,hl}}var fl=null;function km(){if(fl===null)throw Error(s(459));var t=fl;return fl=null,t}function Bm(t){if(t===hl||t===Jo)throw Error(s(483))}var $i=!1;function ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Fo(t),wm(t,null,r),n}return Go(t,l,n,r),Fo(t)}function dl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qs(t,r)}}function _h(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var vh=!1;function ml(){if(vh){var t=Ka;if(t!==null)throw t}}function gl(t,n,r,l){vh=!1;var c=t.updateQueue;$i=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,z=R.next;R.next=null,v===null?f=z:v.next=z,v=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=R))}if(f!==null){var Z=c.baseState;v=0,Q=z=R=null,E=f;do{var k=E.lane&-536870913,B=k!==E.lane;if(B?(Ut&k)===k:(l&k)===k){k!==0&&k===Ya&&(vh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var vt=t,pt=E;k=n;var Xt=r;switch(pt.tag){case 1:if(vt=pt.payload,typeof vt=="function"){Z=vt.call(Xt,Z,k);break t}Z=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=pt.payload,k=typeof vt=="function"?vt.call(Xt,Z,k):vt,k==null)break t;Z=T({},Z,k);break t;case 2:$i=!0}}k=E.callback,k!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[k]:B.push(k))}else B={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=B,R=Z):Q=Q.next=B,v|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);Q===null&&(R=Z),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),lr|=v,t.lanes=v,t.memoizedState=Z}}function qm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function jm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)qm(r[t],n)}var Xa=W(null),tu=W(0);function Hm(t,n){t=Mi,et(tu,t),et(Xa,n),Mi=t|n.baseLanes}function Eh(){et(tu,Mi),et(Xa,Xa.current)}function Th(){Mi=tu.current,at(Xa),at(tu)}var tr=0,Rt=null,Yt=null,pe=null,eu=!1,Za=!1,la=!1,nu=0,pl=0,$a=null,l0=0;function he(){throw Error(s(321))}function Sh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function Ah(t,n,r,l,c,f){return tr=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?wg:Cg,la=!1,f=r(l,c),la=!1,Za&&(f=Fm(n,r,l,c)),Gm(t),f}function Gm(t){F.H=ou;var n=Yt!==null&&Yt.next!==null;if(tr=0,pe=Yt=Rt=null,eu=!1,pl=0,$a=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&Xo(t)&&(Ie=!0))}function Fm(t,n,r,l){Rt=t;var c=0;do{if(Za&&($a=null),pl=0,Za=!1,25<=c)throw Error(s(301));if(c+=1,pe=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=m0,f=n(r,l)}while(Za);return f}function o0(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?yl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function bh(){var t=nu!==0;return nu=0,t}function Rh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function wh(t){if(eu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}eu=!1}tr=0,pe=Yt=Rt=null,Za=!1,pl=nu=0,$a=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?Rt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Yt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=pe===null?Rt.memoizedState:pe.next;if(n!==null)pe=n,Yt=t;else{if(t===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},pe===null?Rt.memoizedState=pe=t:pe=pe.next=t}return pe}function Ch(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var n=pl;return pl+=1,$a===null&&($a=[]),t=zm($a,t,n),n=Rt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?wg:Cg),t}function iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===it)return Fe(t)}throw Error(s(438,String(t)))}function Dh(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ch(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function Ci(t,n){return typeof n=="function"?n(t):n}function ru(t){var n=ye();return Vh(n,Yt,t)}function Vh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,R=null,z=n,Q=!1;do{var Z=z.lane&-536870913;if(Z!==z.lane?(Ut&Z)===Z:(tr&Z)===Z){var k=z.revertLane;if(k===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Z===Ya&&(Q=!0);else if((tr&k)===k){z=z.next,k===Ya&&(Q=!0);continue}else Z={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Z,v=f):R=R.next=Z,Rt.lanes|=k,lr|=k;Z=z.action,la&&r(f,Z),f=z.hasEagerState?z.eagerState:r(f,Z)}else k={lane:Z,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=k,v=f):R=R.next=k,Rt.lanes|=Z,lr|=Z;z=z.next}while(z!==null&&z!==n);if(R===null?v=f:R.next=E,!ln(f,t.memoizedState)&&(Ie=!0,Q&&(r=Ka,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ih(t){var n=ye(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);ln(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Qm(t,n,r){var l=Rt,c=ye(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!ln((Yt||c).memoizedState,r);v&&(c.memoizedState=r,Ie=!0),c=c.queue;var E=Xm.bind(null,l,c,t);if(_l(2048,8,E,[t]),c.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,Ja(9,au(),Km.bind(null,l,c,r,n),null),Jt===null)throw Error(s(349));f||(tr&124)!==0||Ym(l,n,r)}return r}function Ym(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Ch(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Km(t,n,r,l){n.value=r,n.getSnapshot=l,Zm(n)&&$m(t)}function Xm(t,n,r){return r(function(){Zm(n)&&$m(t)})}function Zm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function $m(t){var n=Ha(t,2);n!==null&&dn(n,t,2)}function Nh(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),la){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},n}function Jm(t,n,r,l){return t.baseState=r,Vh(t,Yt,typeof l=="function"?l:Ci)}function u0(t,n,r,l,c){if(lu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};F.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Wm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Wm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=F.T,v={};F.T=v;try{var E=r(c,l),R=F.S;R!==null&&R(v,E),tg(t,n,E)}catch(z){Oh(t,n,z)}finally{F.T=f}}else try{f=r(c,l),tg(t,n,f)}catch(z){Oh(t,n,z)}}function tg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){eg(t,n,l)},function(l){return Oh(t,n,l)}):eg(t,n,r)}function eg(t,n,r){n.status="fulfilled",n.value=r,ng(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Wm(t,r)))}function Oh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ng(n),n=n.next;while(n!==l)}t.action=null}function ng(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function ig(t,n){return n}function rg(t,n){if(Bt){var r=Jt.formState;if(r!==null){t:{var l=Rt;if(Bt){if(oe){e:{for(var c=oe,f=Zn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){oe=Un(c.nextSibling),l=c.data==="F!";break t}}ia(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ig,lastRenderedState:n},r.queue=l,r=Ag.bind(null,Rt,l),l.dispatch=r,l=Nh(!1),f=Ph.bind(null,Rt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=u0.bind(null,Rt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function ag(t){var n=ye();return sg(n,Yt,t)}function sg(t,n,r){if(n=Vh(t,n,ig)[0],t=ru(Ci)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(v){throw v===hl?Jo:v}else l=n;n=ye();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(Rt.flags|=2048,Ja(9,au(),c0.bind(null,c,r),null)),[l,f,t]}function c0(t,n){t.action=n}function lg(t){var n=ye(),r=Yt;if(r!==null)return sg(n,r,t);ye(),n=n.memoizedState,r=ye();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ja(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Ch(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function au(){return{destroy:void 0,resource:void 0}}function og(){return ye().memoizedState}function su(t,n,r,l){var c=tn();l=l===void 0?null:l,Rt.flags|=t,c.memoizedState=Ja(1|n,au(),r,l)}function _l(t,n,r,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Yt!==null&&l!==null&&Sh(l,Yt.memoizedState.deps)?c.memoizedState=Ja(n,f,r,l):(Rt.flags|=t,c.memoizedState=Ja(1|n,f,r,l))}function ug(t,n){su(8390656,8,t,n)}function cg(t,n){_l(2048,8,t,n)}function hg(t,n){return _l(4,2,t,n)}function fg(t,n){return _l(4,4,t,n)}function dg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function mg(t,n,r){r=r!=null?r.concat([t]):null,_l(4,4,dg.bind(null,n,t),r)}function Mh(){}function gg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Sh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function pg(t,n){var r=ye();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Sh(n,l[1]))return l[0];if(l=t(),la){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function xh(t,n,r){return r===void 0||(tr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=vp(),Rt.lanes|=t,lr|=t,r)}function yg(t,n,r,l){return ln(r,n)?r:Xa.current!==null?(t=xh(t,r,l),ln(t,n)||(Ie=!0),t):(tr&42)===0?(Ie=!0,t.memoizedState=r):(t=vp(),Rt.lanes|=t,lr|=t,n)}function _g(t,n,r,l,c){var f=rt.p;rt.p=f!==0&&8>f?f:8;var v=F.T,E={};F.T=E,Ph(t,!1,n,r);try{var R=c(),z=F.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=s0(R,l);vl(t,n,Q,fn(t))}else vl(t,n,l,fn(t))}catch(Z){vl(t,n,{then:function(){},status:"rejected",reason:Z},fn())}finally{rt.p=f,F.T=v}}function h0(){}function Uh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=vg(t).queue;_g(t,c,n,dt,r===null?h0:function(){return Eg(t),r(l)})}function vg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:dt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Eg(t){var n=vg(t).next.queue;vl(t,n,{},fn())}function Lh(){return Fe(Pl)}function Tg(){return ye().memoizedState}function Sg(){return ye().memoizedState}function f0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=fn();t=Ji(r);var l=Wi(n,t,r);l!==null&&(dn(l,n,r),dl(l,n,r)),n={cache:fh()},t.payload=n;return}n=n.return}}function d0(t,n,r){var l=fn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},lu(t)?bg(n,r):(r=nh(t,n,r,l),r!==null&&(dn(r,t,l),Rg(r,n,l)))}function Ag(t,n,r){var l=fn();vl(t,n,r,l)}function vl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(lu(t))bg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,v))return Go(t,n,c,0),Jt===null&&Ho(),!1}catch{}finally{}if(r=nh(t,n,c,l),r!==null)return dn(r,t,l),Rg(r,n,l),!0}return!1}function Ph(t,n,r,l){if(l={lane:2,revertLane:pf(),action:l,hasEagerState:!1,eagerState:null,next:null},lu(t)){if(n)throw Error(s(479))}else n=nh(t,r,l,2),n!==null&&dn(n,t,2)}function lu(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function bg(t,n){Za=eu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Rg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,qs(t,r)}}var ou={readContext:Fe,use:iu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},wg={readContext:Fe,use:iu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:Fe,useEffect:ug,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,su(4194308,4,dg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return su(4194308,4,t,n)},useInsertionEffect:function(t,n){su(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(la){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(la){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=d0.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Nh(t);var n=t.queue,r=Ag.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Mh,useDeferredValue:function(t,n){var r=tn();return xh(r,t,n)},useTransition:function(){var t=Nh(!1);return t=_g.bind(null,Rt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=tn();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Jt===null)throw Error(s(349));(Ut&124)!==0||Ym(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,ug(Xm.bind(null,l,f,t),[t]),l.flags|=2048,Ja(9,au(),Km.bind(null,l,f,r,n),null),r},useId:function(){var t=tn(),n=Jt.identifierPrefix;if(Bt){var r=bi,l=Ai;r=(l&~(1<<32-Ge(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=nu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=l0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Lh,useFormState:rg,useActionState:rg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Ph.bind(null,Rt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Dh,useCacheRefresh:function(){return tn().memoizedState=f0.bind(null,Rt)}},Cg={readContext:Fe,use:iu,useCallback:gg,useContext:Fe,useEffect:cg,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:pg,useReducer:ru,useRef:og,useState:function(){return ru(Ci)},useDebugValue:Mh,useDeferredValue:function(t,n){var r=ye();return yg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=ru(Ci)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Qm,useId:Tg,useHostTransitionStatus:Lh,useFormState:ag,useActionState:ag,useOptimistic:function(t,n){var r=ye();return Jm(r,Yt,t,n)},useMemoCache:Dh,useCacheRefresh:Sg},m0={readContext:Fe,use:iu,useCallback:gg,useContext:Fe,useEffect:cg,useImperativeHandle:mg,useInsertionEffect:hg,useLayoutEffect:fg,useMemo:pg,useReducer:Ih,useRef:og,useState:function(){return Ih(Ci)},useDebugValue:Mh,useDeferredValue:function(t,n){var r=ye();return Yt===null?xh(r,t,n):yg(r,Yt.memoizedState,t,n)},useTransition:function(){var t=Ih(Ci)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:yl(t),n]},useSyncExternalStore:Qm,useId:Tg,useHostTransitionStatus:Lh,useFormState:lg,useActionState:lg,useOptimistic:function(t,n){var r=ye();return Yt!==null?Jm(r,Yt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Dh,useCacheRefresh:Sg},Wa=null,El=0;function uu(t){var n=El;return El+=1,Wa===null&&(Wa=[]),zm(Wa,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function cu(t,n){throw n.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Dg(t){var n=t._init;return n(t._payload)}function Vg(t){function n(x,I){if(t){var P=x.deletions;P===null?(x.deletions=[I],x.flags|=16):P.push(I)}}function r(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function c(x,I){return x=Si(x,I),x.index=0,x.sibling=null,x}function f(x,I,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<I?(x.flags|=67108866,I):P):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,I,P,Y){return I===null||I.tag!==6?(I=rh(P,x.mode,Y),I.return=x,I):(I=c(I,P),I.return=x,I)}function R(x,I,P,Y){var ot=P.type;return ot===G?Q(x,I,P.props.children,Y,P.key):I!==null&&(I.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===A&&Dg(ot)===I.type)?(I=c(I,P.props),Tl(I,P),I.return=x,I):(I=Qo(P.type,P.key,P.props,null,x.mode,Y),Tl(I,P),I.return=x,I)}function z(x,I,P,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=ah(P,x.mode,Y),I.return=x,I):(I=c(I,P.children||[]),I.return=x,I)}function Q(x,I,P,Y,ot){return I===null||I.tag!==7?(I=Wr(P,x.mode,Y,ot),I.return=x,I):(I=c(I,P),I.return=x,I)}function Z(x,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=rh(""+I,x.mode,P),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case C:return P=Qo(I.type,I.key,I.props,null,x.mode,P),Tl(P,I),P.return=x,P;case q:return I=ah(I,x.mode,P),I.return=x,I;case A:var Y=I._init;return I=Y(I._payload),Z(x,I,P)}if(se(I)||U(I))return I=Wr(I,x.mode,P,null),I.return=x,I;if(typeof I.then=="function")return Z(x,uu(I),P);if(I.$$typeof===it)return Z(x,Zo(x,I),P);cu(x,I)}return null}function k(x,I,P,Y){var ot=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ot!==null?null:E(x,I,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case C:return P.key===ot?R(x,I,P,Y):null;case q:return P.key===ot?z(x,I,P,Y):null;case A:return ot=P._init,P=ot(P._payload),k(x,I,P,Y)}if(se(P)||U(P))return ot!==null?null:Q(x,I,P,Y,null);if(typeof P.then=="function")return k(x,I,uu(P),Y);if(P.$$typeof===it)return k(x,I,Zo(x,P),Y);cu(x,P)}return null}function B(x,I,P,Y,ot){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(P)||null,E(I,x,""+Y,ot);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return x=x.get(Y.key===null?P:Y.key)||null,R(I,x,Y,ot);case q:return x=x.get(Y.key===null?P:Y.key)||null,z(I,x,Y,ot);case A:var Ct=Y._init;return Y=Ct(Y._payload),B(x,I,P,Y,ot)}if(se(Y)||U(Y))return x=x.get(P)||null,Q(I,x,Y,ot,null);if(typeof Y.then=="function")return B(x,I,P,uu(Y),ot);if(Y.$$typeof===it)return B(x,I,P,Zo(I,Y),ot);cu(I,Y)}return null}function vt(x,I,P,Y){for(var ot=null,Ct=null,ht=I,yt=I=0,Oe=null;ht!==null&&yt<P.length;yt++){ht.index>yt?(Oe=ht,ht=null):Oe=ht.sibling;var zt=k(x,ht,P[yt],Y);if(zt===null){ht===null&&(ht=Oe);break}t&&ht&&zt.alternate===null&&n(x,ht),I=f(zt,I,yt),Ct===null?ot=zt:Ct.sibling=zt,Ct=zt,ht=Oe}if(yt===P.length)return r(x,ht),Bt&&ea(x,yt),ot;if(ht===null){for(;yt<P.length;yt++)ht=Z(x,P[yt],Y),ht!==null&&(I=f(ht,I,yt),Ct===null?ot=ht:Ct.sibling=ht,Ct=ht);return Bt&&ea(x,yt),ot}for(ht=l(ht);yt<P.length;yt++)Oe=B(ht,x,yt,P[yt],Y),Oe!==null&&(t&&Oe.alternate!==null&&ht.delete(Oe.key===null?yt:Oe.key),I=f(Oe,I,yt),Ct===null?ot=Oe:Ct.sibling=Oe,Ct=Oe);return t&&ht.forEach(function(pr){return n(x,pr)}),Bt&&ea(x,yt),ot}function pt(x,I,P,Y){if(P==null)throw Error(s(151));for(var ot=null,Ct=null,ht=I,yt=I=0,Oe=null,zt=P.next();ht!==null&&!zt.done;yt++,zt=P.next()){ht.index>yt?(Oe=ht,ht=null):Oe=ht.sibling;var pr=k(x,ht,zt.value,Y);if(pr===null){ht===null&&(ht=Oe);break}t&&ht&&pr.alternate===null&&n(x,ht),I=f(pr,I,yt),Ct===null?ot=pr:Ct.sibling=pr,Ct=pr,ht=Oe}if(zt.done)return r(x,ht),Bt&&ea(x,yt),ot;if(ht===null){for(;!zt.done;yt++,zt=P.next())zt=Z(x,zt.value,Y),zt!==null&&(I=f(zt,I,yt),Ct===null?ot=zt:Ct.sibling=zt,Ct=zt);return Bt&&ea(x,yt),ot}for(ht=l(ht);!zt.done;yt++,zt=P.next())zt=B(ht,x,yt,zt.value,Y),zt!==null&&(t&&zt.alternate!==null&&ht.delete(zt.key===null?yt:zt.key),I=f(zt,I,yt),Ct===null?ot=zt:Ct.sibling=zt,Ct=zt);return t&&ht.forEach(function(gT){return n(x,gT)}),Bt&&ea(x,yt),ot}function Xt(x,I,P,Y){if(typeof P=="object"&&P!==null&&P.type===G&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case C:t:{for(var ot=P.key;I!==null;){if(I.key===ot){if(ot=P.type,ot===G){if(I.tag===7){r(x,I.sibling),Y=c(I,P.props.children),Y.return=x,x=Y;break t}}else if(I.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===A&&Dg(ot)===I.type){r(x,I.sibling),Y=c(I,P.props),Tl(Y,P),Y.return=x,x=Y;break t}r(x,I);break}else n(x,I);I=I.sibling}P.type===G?(Y=Wr(P.props.children,x.mode,Y,P.key),Y.return=x,x=Y):(Y=Qo(P.type,P.key,P.props,null,x.mode,Y),Tl(Y,P),Y.return=x,x=Y)}return v(x);case q:t:{for(ot=P.key;I!==null;){if(I.key===ot)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){r(x,I.sibling),Y=c(I,P.children||[]),Y.return=x,x=Y;break t}else{r(x,I);break}else n(x,I);I=I.sibling}Y=ah(P,x.mode,Y),Y.return=x,x=Y}return v(x);case A:return ot=P._init,P=ot(P._payload),Xt(x,I,P,Y)}if(se(P))return vt(x,I,P,Y);if(U(P)){if(ot=U(P),typeof ot!="function")throw Error(s(150));return P=ot.call(P),pt(x,I,P,Y)}if(typeof P.then=="function")return Xt(x,I,uu(P),Y);if(P.$$typeof===it)return Xt(x,I,Zo(x,P),Y);cu(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,I!==null&&I.tag===6?(r(x,I.sibling),Y=c(I,P),Y.return=x,x=Y):(r(x,I),Y=rh(P,x.mode,Y),Y.return=x,x=Y),v(x)):r(x,I)}return function(x,I,P,Y){try{El=0;var ot=Xt(x,I,P,Y);return Wa=null,ot}catch(ht){if(ht===hl||ht===Jo)throw ht;var Ct=on(29,ht,null,x.mode);return Ct.lanes=Y,Ct.return=x,Ct}finally{}}}var ts=Vg(!0),Ig=Vg(!1),bn=W(null),$n=null;function er(t){var n=t.alternate;et(be,be.current&1),et(bn,t),$n===null&&(n===null||Xa.current!==null||n.memoizedState!==null)&&($n=t)}function Ng(t){if(t.tag===22){if(et(be,be.current),et(bn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else nr()}function nr(){et(be,be.current),et(bn,bn.current)}function Di(t){at(bn),$n===t&&($n=null),at(be)}var be=W(0);function hu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Df(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function zh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:T({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var kh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Ji(l);c.payload=n,r!=null&&(c.callback=r),n=Wi(t,c,l),n!==null&&(dn(n,t,l),dl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=fn(),c=Ji(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Wi(t,c,l),n!==null&&(dn(n,t,l),dl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=fn(),l=Ji(r);l.tag=2,n!=null&&(l.callback=n),n=Wi(t,l,r),n!==null&&(dn(n,t,r),dl(n,t,r))}};function Og(t,n,r,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!il(r,l)||!il(c,f):!0}function Mg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&kh.enqueueReplaceState(n,n.state,null)}function oa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=T({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xg(t){fu(t)}function Ug(t){console.error(t)}function Lg(t){fu(t)}function du(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Bh(t,n,r){return r=Ji(r),r.tag=3,r.payload={element:null},r.callback=function(){du(t,n)},r}function zg(t){return t=Ji(t),t.tag=3,t}function kg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Pg(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Pg(n,r,l),typeof c!="function"&&(or===null?or=new Set([this]):or.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function g0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ol(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return $n===null?hf():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===gh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),df(t,l,c)),!1;case 22:return r.flags|=65536,l===gh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),df(t,l,c)),!1}throw Error(s(435,r.tag))}return df(t,l,c),hf(),!1}if(Bt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==oh&&(t=Error(s(422),{cause:l}),ll(En(t,r)))):(l!==oh&&(n=Error(s(423),{cause:l}),ll(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=Bh(t.stateNode,l,c),_h(t,c),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=En(f,r),Dl===null?Dl=[f]:Dl.push(f),ue!==4&&(ue=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Bh(r.stateNode,l,t),_h(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(or===null||!or.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=zg(c),kg(c,t,r,l),_h(r,c),!1}r=r.return}while(r!==null);return!1}var Bg=Error(s(461)),Ie=!1;function Pe(t,n,r,l){n.child=t===null?Ig(n,null,r,l):ts(n,t.child,r,l)}function qg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return aa(n),l=Ah(t,n,r,v,f,c),E=bh(),t!==null&&!Ie?(Rh(t,n,c),Vi(t,n,c)):(Bt&&E&&sh(n),n.flags|=1,Pe(t,n,l,c),n.child)}function jg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!ih(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Hg(t,n,f,l,c)):(t=Qo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Kh(t,c)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:il,r(v,l)&&t.ref===n.ref)return Vi(t,n,c)}return n.flags|=1,t=Si(f,l),t.ref=n.ref,t.return=n,n.child=t}function Hg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,Kh(t,c))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Vi(t,n,c)}return qh(t,n,r,l,c)}function Gg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Fg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&$o(n,f!==null?f.cachePool:null),f!==null?Hm(n,f):Eh(),Ng(n);else return n.lanes=n.childLanes=536870912,Fg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?($o(n,f.cachePool),Hm(n,f),nr(),n.memoizedState=null):(t!==null&&$o(n,null),Eh(),nr());return Pe(t,n,c,r),n.child}function Fg(t,n,r,l){var c=mh();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&$o(n,null),Eh(),Ng(n),t!==null&&ol(t,n,l,!0),null}function mu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function qh(t,n,r,l,c){return aa(n),r=Ah(t,n,r,l,void 0,c),l=bh(),t!==null&&!Ie?(Rh(t,n,c),Vi(t,n,c)):(Bt&&l&&sh(n),n.flags|=1,Pe(t,n,r,c),n.child)}function Qg(t,n,r,l,c,f){return aa(n),n.updateQueue=null,r=Fm(n,l,r,c),Gm(t),l=bh(),t!==null&&!Ie?(Rh(t,n,f),Vi(t,n,f)):(Bt&&l&&sh(n),n.flags|=1,Pe(t,n,r,f),n.child)}function Yg(t,n,r,l,c){if(aa(n),n.stateNode===null){var f=Ga,v=r.contextType;typeof v=="object"&&v!==null&&(f=Fe(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ph(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?Fe(v):Ga,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(zh(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&kh.enqueueReplaceState(f,f.state,null),gl(n,l,f,c),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=oa(r,E);f.props=R;var z=f.context,Q=r.contextType;v=Ga,typeof Q=="object"&&Q!==null&&(v=Fe(Q));var Z=r.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==v)&&Mg(n,f,l,v),$i=!1;var k=n.memoizedState;f.state=k,gl(n,l,f,c),ml(),z=n.memoizedState,E||k!==z||$i?(typeof Z=="function"&&(zh(n,r,Z,l),z=n.memoizedState),(R=$i||Og(n,r,R,l,k,z,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=v,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,yh(t,n),v=n.memoizedProps,Q=oa(r,v),f.props=Q,Z=n.pendingProps,k=f.context,z=r.contextType,R=Ga,typeof z=="object"&&z!==null&&(R=Fe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||k!==R)&&Mg(n,f,l,R),$i=!1,k=n.memoizedState,f.state=k,gl(n,l,f,c),ml();var B=n.memoizedState;v!==Z||k!==B||$i||t!==null&&t.dependencies!==null&&Xo(t.dependencies)?(typeof E=="function"&&(zh(n,r,E,l),B=n.memoizedState),(Q=$i||Og(n,r,Q,l,k,B,R)||t!==null&&t.dependencies!==null&&Xo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=R,l=Q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,mu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ts(n,t.child,null,c),n.child=ts(n,null,r,c)):Pe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Vi(t,n,c),t}function Kg(t,n,r,l){return sl(),n.flags|=256,Pe(t,n,r,l),n.child}var jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hh(t){return{baseLanes:t,cachePool:Um()}}function Gh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Rn),t}function Xg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?er(n):nr(),Bt){var E=oe,R;if(R=E){t:{for(R=E,E=Zn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Un(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:ta!==null?{id:Ai,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},R=on(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,We=n,oe=null,R=!0):R=!1}R||ia(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Df(E)?n.lanes=32:n.lanes=536870912,null;Di(n)}return E=l.children,l=l.fallback,c?(nr(),c=n.mode,E=gu({mode:"hidden",children:E},c),l=Wr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Hh(r),c.childLanes=Gh(t,v,r),n.memoizedState=jh,l):(er(n),Fh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(er(n),n.flags&=-257,n=Qh(t,n,r)):n.memoizedState!==null?(nr(),n.child=t.child,n.flags|=128,n=null):(nr(),c=l.fallback,E=n.mode,l=gu({mode:"visible",children:l.children},E),c=Wr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ts(n,t.child,null,r),l=n.child,l.memoizedState=Hh(r),l.childLanes=Gh(t,v,r),n.memoizedState=jh,n=c);else if(er(n),Df(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,ll({value:l,source:null,stack:null}),n=Qh(t,n,r)}else if(Ie||ol(t,n,r,!1),v=(r&t.childLanes)!==0,Ie||v){if(v=Jt,v!==null&&(l=r&-r,l=(l&42)!==0?1:Hi(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Ha(t,l),dn(v,t,l),Bg;E.data==="$?"||hf(),n=Qh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,oe=Un(E.nextSibling),We=n,Bt=!0,na=null,Zn=!1,t!==null&&(Sn[An++]=Ai,Sn[An++]=bi,Sn[An++]=ta,Ai=t.id,bi=t.overflow,ta=n),n=Fh(n,l.children),n.flags|=4096);return n}return c?(nr(),c=l.fallback,E=n.mode,R=t.child,z=R.sibling,l=Si(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?c=Si(z,c):(c=Wr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Hh(r):(R=E.cachePool,R!==null?(z=Ae._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Um(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=Gh(t,v,r),n.memoizedState=jh,l):(er(n),r=t.child,t=r.sibling,r=Si(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function Fh(t,n){return n=gu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function gu(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qh(t,n,r){return ts(n,t.child,null,r),t=Fh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Zg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ch(t.return,n,r)}function Yh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function $g(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Pe(t,n,l.children,r),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zg(t,r,n);else if(t.tag===19)Zg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(et(be,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&hu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Yh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&hu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Yh(n,!0,r,null,f);break;case"together":Yh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),lr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ol(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Si(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Si(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Kh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Xo(t)))}function p0(t,n,r){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),Zi(n,Ae,t.memoizedState.cache),sl();break;case 27:case 5:ji(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:Zi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Xg(t,n,r):(er(n),t=Vi(t,n,r),t!==null?t.sibling:null);er(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ol(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return $g(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),et(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,Gg(t,n,r);case 24:Zi(n,Ae,t.memoizedState.cache)}return Vi(t,n,r)}function Jg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Kh(t,r)&&(n.flags&128)===0)return Ie=!1,p0(t,n,r);Ie=(t.flags&131072)!==0}else Ie=!1,Bt&&(n.flags&1048576)!==0&&Dm(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")ih(l)?(t=oa(l,t),n.tag=1,n=Yg(null,n,l,t,r)):(n.tag=0,n=qh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===At){n.tag=11,n=qg(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=jg(null,n,l,t,r);break t}}throw n=xe(l)||l,Error(s(306,n,""))}}return n;case 0:return qh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=oa(l,n.pendingProps),Yg(t,n,l,c,r);case 3:t:{if($t(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,yh(t,n),gl(n,l,null,r);var v=n.memoizedState;if(l=v.cache,Zi(n,Ae,l),l!==f.cache&&hh(n,[Ae],r,!0),ml(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kg(t,n,l,r);break t}else if(l!==c){c=En(Error(s(424)),n),ll(c),n=Kg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=Un(t.firstChild),We=n,Bt=!0,na=null,Zn=!0,r=Ig(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(sl(),l===c){n=Vi(t,n,r);break t}Pe(t,n,l,r)}n=n.child}return n;case 26:return mu(t,n),t===null?(r=ny(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=Vu(Et.current).createElement(r),l[Ee]=n,l[me]=t,ke(l,r,t),ce(l),n.stateNode=l):n.memoizedState=ny(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ji(n),t===null&&Bt&&(l=n.stateNode=Wp(n.type,n.pendingProps,Et.current),We=n,Zn=!0,c=oe,hr(n.type)?(Vf=c,oe=Un(l.firstChild)):oe=c),Pe(t,n,n.pendingProps.children,r),mu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=oe)&&(l=G0(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,We=n,oe=Un(l.firstChild),Zn=!1,c=!0):c=!1),c||ia(n)),ji(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Rf(c,f)?l=null:v!==null&&Rf(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=Ah(t,n,o0,null,null,r),Pl._currentValue=c),mu(t,n),Pe(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=oe)&&(r=F0(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,We=n,oe=null,t=!0):t=!1),t||ia(n)),null;case 13:return Xg(t,n,r);case 4:return $t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ts(n,null,l,r):Pe(t,n,l,r),n.child;case 11:return qg(t,n,n.type,n.pendingProps,r);case 7:return Pe(t,n,n.pendingProps,r),n.child;case 8:return Pe(t,n,n.pendingProps.children,r),n.child;case 12:return Pe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Zi(n,n.type,l.value),Pe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,aa(n),c=Fe(c),l=l(c),n.flags|=1,Pe(t,n,l,r),n.child;case 14:return jg(t,n,n.type,n.pendingProps,r);case 15:return Hg(t,n,n.type,n.pendingProps,r);case 19:return $g(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=gu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Si(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Gg(t,n,r);case 24:return aa(n),l=Fe(Ae),t===null?(c=mh(),c===null&&(c=Jt,f=fh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ph(n),Zi(n,Ae,c)):((t.lanes&r)!==0&&(yh(t,n),gl(n,null,null,r),ml()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Zi(n,Ae,l)):(l=f.cache,Zi(n,Ae,l),l!==c.cache&&hh(n,[Ae],r,!0))),Pe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ii(t){t.flags|=4}function Wg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ly(n)){if(n=bn.current,n!==null&&((Ut&4194048)===Ut?$n!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==$n))throw fl=gh,Lm;t.flags|=8192}}function pu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ks():536870912,t.lanes|=n,rs|=n)}function Sl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function y0(t,n,r){var l=n.pendingProps;switch(lh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wi(Ae),zn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(al(n)?Ii(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Nm())),ie(n),null;case 26:return r=n.memoizedState,t===null?(Ii(n),r!==null?(ie(n),Wg(n,r)):(ie(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ii(n),ie(n),Wg(n,r)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ii(n),ie(n),n.flags&=-16777217),null;case 27:ui(n),r=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=mt.current,al(n)?Vm(n):(t=Wp(c,l,r),n.stateNode=t,Ii(n))}return ie(n),null;case 5:if(ui(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=mt.current,al(n))Vm(n);else{switch(c=Vu(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Ee]=n,t[me]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ke(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ii(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,al(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Qp(t.nodeValue,r)),t||ia(n)}else t=Vu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ee]=n}else sl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),c=!1}else c=Nm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Di(n),n):(Di(n),null)}if(Di(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),pu(n,n.updateQueue),ie(n),null;case 4:return zn(),t===null&&Ef(n.stateNode.containerInfo),ie(n),null;case 10:return wi(n.type),ie(n),null;case 19:if(at(be),c=n.memoizedState,c===null)return ie(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Sl(c,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=hu(t),f!==null){for(n.flags|=128,Sl(c,!1),t=f.updateQueue,n.updateQueue=t,pu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Cm(r,t),r=r.sibling;return et(be,be.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>vu&&(n.flags|=128,l=!0,Sl(c,!1),n.lanes=4194304)}else{if(!l)if(t=hu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,pu(n,t),Sl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ie(n),null}else 2*mn()-c.renderingStartTime>vu&&r!==536870912&&(n.flags|=128,l=!0,Sl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=be.current,et(be,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return Di(n),Th(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),r=n.updateQueue,r!==null&&pu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&at(sa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),wi(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function _0(t,n){switch(lh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return wi(Ae),zn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ui(n),null;case 13:if(Di(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return at(be),null;case 4:return zn(),null;case 10:return wi(n.type),null;case 22:case 23:return Di(n),Th(),t!==null&&at(sa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return wi(Ae),null;case 25:return null;default:return null}}function tp(t,n){switch(lh(n),n.tag){case 3:wi(Ae),zn();break;case 26:case 27:case 5:ui(n);break;case 4:zn();break;case 13:Di(n);break;case 19:at(be);break;case 10:wi(n.type);break;case 22:case 23:Di(n),Th(),t!==null&&at(sa);break;case 24:wi(Ae)}}function Al(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==c)}}catch(E){Zt(n,n.return,E)}}function ir(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var R=r,z=E;try{z()}catch(Q){Zt(c,R,Q)}}}l=l.next}while(l!==f)}}catch(Q){Zt(n,n.return,Q)}}function ep(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{jm(n,r)}catch(l){Zt(t,t.return,l)}}}function np(t,n,r){r.props=oa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Zt(t,n,l)}}function bl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Zt(t,n,c)}}function Jn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Zt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Zt(t,n,c)}else r.current=null}function ip(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Zt(t,t.return,c)}}function Xh(t,n,r){try{var l=t.stateNode;k0(l,t.type,r,n),l[me]=n}catch(c){Zt(t,t.return,c)}}function rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hr(t.type)||t.tag===4}function Zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $h(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Du));else if(l!==4&&(l===27&&hr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for($h(t,n,r),t=t.sibling;t!==null;)$h(t,n,r),t=t.sibling}function yu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&hr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(yu(t,n,r),t=t.sibling;t!==null;)yu(t,n,r),t=t.sibling}function ap(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,r),n[Ee]=t,n[me]=r}catch(f){Zt(t,t.return,f)}}var Ni=!1,fe=!1,Jh=!1,sp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function v0(t,n){if(t=t.containerInfo,Af=Uu,t=ym(t),Zc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,E=-1,R=-1,z=0,Q=0,Z=t,k=null;e:for(;;){for(var B;Z!==r||c!==0&&Z.nodeType!==3||(E=v+c),Z!==f||l!==0&&Z.nodeType!==3||(R=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(B=Z.firstChild)!==null;)k=Z,Z=B;for(;;){if(Z===t)break e;if(k===r&&++z===c&&(E=v),k===f&&++Q===l&&(R=v),(B=Z.nextSibling)!==null)break;Z=k,k=Z.parentNode}Z=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(bf={focusedElem:t,selectionRange:r},Uu=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var vt=oa(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(vt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Zt(r,r.return,pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Cf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}}function lp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:rr(t,r),l&4&&Al(5,r);break;case 1:if(rr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){Zt(r,r.return,v)}else{var c=oa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(r,r.return,v)}}l&64&&ep(r),l&512&&bl(r,r.return);break;case 3:if(rr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{jm(t,n)}catch(v){Zt(r,r.return,v)}}break;case 27:n===null&&l&4&&ap(r);case 26:case 5:rr(t,r),n===null&&l&4&&ip(r),l&512&&bl(r,r.return);break;case 12:rr(t,r);break;case 13:rr(t,r),l&4&&cp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=D0.bind(null,r),Q0(t,r))));break;case 22:if(l=r.memoizedState!==null||Ni,!l){n=n!==null&&n.memoizedState!==null||fe,c=Ni;var f=fe;Ni=l,(fe=n)&&!f?ar(t,r,(r.subtreeFlags&8772)!==0):rr(t,r),Ni=c,fe=f}break;case 30:break;default:rr(t,r)}}function op(t){var n=t.alternate;n!==null&&(t.alternate=null,op(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,en=!1;function Oi(t,n,r){for(r=r.child;r!==null;)up(t,n,r),r=r.sibling}function up(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(le,r)}catch{}switch(r.tag){case 26:fe||Jn(r,n),Oi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||Jn(r,n);var l=ne,c=en;hr(r.type)&&(ne=r.stateNode,en=!1),Oi(t,n,r),Ml(r.stateNode),ne=l,en=c;break;case 5:fe||Jn(r,n);case 6:if(l=ne,c=en,ne=null,Oi(t,n,r),ne=l,en=c,ne!==null)if(en)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{ne.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:ne!==null&&(en?(t=ne,$p(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ql(t)):$p(ne,r.stateNode));break;case 4:l=ne,c=en,ne=r.stateNode.containerInfo,en=!0,Oi(t,n,r),ne=l,en=c;break;case 0:case 11:case 14:case 15:fe||ir(2,r,n),fe||ir(4,r,n),Oi(t,n,r);break;case 1:fe||(Jn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&np(r,n,l)),Oi(t,n,r);break;case 21:Oi(t,n,r);break;case 22:fe=(l=fe)||r.memoizedState!==null,Oi(t,n,r),fe=l;break;default:Oi(t,n,r)}}function cp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ql(t)}catch(r){Zt(n,n.return,r)}}function E0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new sp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new sp),n;default:throw Error(s(435,t.tag))}}function Wh(t,n){var r=E0(t);n.forEach(function(l){var c=V0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function un(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(hr(E.type)){ne=E.stateNode,en=!1;break t}break;case 5:ne=E.stateNode,en=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ne===null)throw Error(s(160));up(f,v,c),ne=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)hp(n,t),n=n.sibling}var xn=null;function hp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(ir(3,t,t.return),Al(3,t),ir(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(fe||r===null||Jn(r,r.return)),l&64&&Ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=xn;if(un(n,t),cn(t),l&512&&(fe||r===null||Jn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Pr]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,r),f[Ee]=t,ce(f),l=f;break t;case"link":var v=ay("link","href",c).get(l+(r.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),ke(f,l,r),c.head.appendChild(f);break;case"meta":if(v=ay("meta","content",c).get(l+(r.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(E,1);break e}}f=c.createElement(l),ke(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ee]=t,ce(f),l=f}t.stateNode=l}else sy(c,t.type,t.stateNode);else t.stateNode=ry(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?sy(c,t.type,t.stateNode):ry(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xh(t,t.memoizedProps,r.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(fe||r===null||Jn(r,r.return)),r!==null&&l&4&&Xh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(fe||r===null||Jn(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(B){Zt(t,t.return,B)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Xh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Jh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(B){Zt(t,t.return,B)}}break;case 3:if(Ou=null,c=xn,xn=Iu(n.containerInfo),un(n,t),xn=c,cn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ql(n.containerInfo)}catch(B){Zt(t,t.return,B)}Jh&&(Jh=!1,fp(t));break;case 4:l=xn,xn=Iu(t.stateNode.containerInfo),un(n,t),cn(t),xn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sf=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wh(t,l)));break;case 22:c=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=Ni,Q=fe;if(Ni=z||c,fe=Q||R,un(n,t),fe=Q,Ni=z,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||Ni||fe||ua(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var Z=R.memoizedProps.style,k=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(B){Zt(R,R.return,B)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(B){Zt(R,R.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Wh(t,r))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Wh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(rp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Zh(t);yu(t,f,c);break;case 5:var v=r.stateNode;r.flags&32&&(pn(v,""),r.flags&=-33);var E=Zh(t);yu(t,E,v);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Zh(t);$h(t,z,R);break;default:throw Error(s(161))}}catch(Q){Zt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function fp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;fp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function rr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)lp(t,n.alternate,n),n=n.sibling}function ua(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ir(4,n,n.return),ua(n);break;case 1:Jn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&np(n,n.return,r),ua(n);break;case 27:Ml(n.stateNode);case 26:case 5:Jn(n,n.return),ua(n);break;case 22:n.memoizedState===null&&ua(n);break;case 30:ua(n);break;default:ua(n)}t=t.sibling}}function ar(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:ar(c,f,r),Al(4,f);break;case 1:if(ar(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)qm(R[c],E)}catch(z){Zt(l,l.return,z)}}r&&v&64&&ep(f),bl(f,f.return);break;case 27:ap(f);case 26:case 5:ar(c,f,r),r&&l===null&&v&4&&ip(f),bl(f,f.return);break;case 12:ar(c,f,r);break;case 13:ar(c,f,r),r&&v&4&&cp(c,f);break;case 22:f.memoizedState===null&&ar(c,f,r),bl(f,f.return);break;case 30:break;default:ar(c,f,r)}n=n.sibling}}function tf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ul(r))}function ef(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t))}function Wn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dp(t,n,r,l),n=n.sibling}function dp(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,r,l),c&2048&&Al(9,n);break;case 1:Wn(t,n,r,l);break;case 3:Wn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ul(t)));break;case 12:if(c&2048){Wn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else Wn(t,n,r,l);break;case 13:Wn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(t,n,r,l):Rl(t,n):f._visibility&2?Wn(t,n,r,l):(f._visibility|=2,es(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&tf(v,n);break;case 24:Wn(t,n,r,l),c&2048&&ef(n.alternate,n);break;default:Wn(t,n,r,l)}}function es(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=r,R=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:es(f,v,E,R,c),Al(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?es(f,v,E,R,c):Rl(f,v):(Q._visibility|=2,es(f,v,E,R,c)),c&&z&2048&&tf(v.alternate,v);break;case 24:es(f,v,E,R,c),c&&z&2048&&ef(v.alternate,v);break;default:es(f,v,E,R,c)}n=n.sibling}}function Rl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Rl(r,l),c&2048&&tf(l.alternate,l);break;case 24:Rl(r,l),c&2048&&ef(l.alternate,l);break;default:Rl(r,l)}n=n.sibling}}var wl=8192;function ns(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)mp(t),t=t.sibling}function mp(t){switch(t.tag){case 26:ns(t),t.flags&wl&&t.memoizedState!==null&&aT(xn,t.memoizedState,t.memoizedProps);break;case 5:ns(t);break;case 3:case 4:var n=xn;xn=Iu(t.stateNode.containerInfo),ns(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=wl,wl=16777216,ns(t),wl=n):ns(t));break;default:ns(t)}}function gp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,yp(l,t)}gp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)pp(t),t=t.sibling}function pp(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&ir(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,_u(t)):Cl(t);break;default:Cl(t)}}function _u(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,yp(l,t)}gp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ir(8,n,n.return),_u(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,_u(n));break;default:_u(n)}t=t.sibling}}function yp(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:ir(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(op(l),l===r){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}var T0={getCacheForType:function(t){var n=Fe(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},S0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Dt=null,Ut=0,Ft=0,hn=null,sr=!1,is=!1,nf=!1,Mi=0,ue=0,lr=0,ca=0,rf=0,Rn=0,rs=0,Dl=null,nn=null,af=!1,sf=0,vu=1/0,Eu=null,or=null,ze=0,ur=null,as=null,ss=0,lf=0,of=null,_p=null,Vl=0,uf=null;function fn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(F.T!==null){var t=Ya;return t!==0?t:pf()}return Gi()}function vp(){Rn===0&&(Rn=(Ut&536870912)===0||Bt?zs():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function dn(t,n,r){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(ls(t,0),cr(t,Ut,Rn,!1)),hi(t,r),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(ca|=r),ue===4&&cr(t,Ut,Rn,!1)),ti(t))}function Ep(t,n,r){if((Gt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Lr(t,n),c=l?R0(t,n):ff(t,n,!0),f=l;do{if(c===0){is&&!l&&cr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!A0(r)){c=ff(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Dl;var R=E.current.memoizedState.isDehydrated;if(R&&(ls(E,v).flags|=256),v=ff(E,v,!1),v!==2){if(nf&&!R){E.errorRecoveryDisabledLanes|=f,ca|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){ls(t,0),cr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:cr(l,n,Rn,!sr);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=sf+300-mn(),10<c)){if(cr(l,n,Rn,!sr),ba(l,0,!0)!==0)break t;l.timeoutHandle=Xp(Tp.bind(null,l,r,nn,Eu,af,n,Rn,ca,rs,sr,f,2,-0,0),c);break t}Tp(l,r,nn,Eu,af,n,Rn,ca,rs,sr,f,0,-0,0)}}break}while(!0);ti(t)}function Tp(t,n,r,l,c,f,v,E,R,z,Q,Z,k,B){if(t.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:rT},mp(n),Z=sT(),Z!==null)){t.cancelPendingCommit=Z(Dp.bind(null,t,n,f,r,l,c,v,E,R,Q,1,k,B)),cr(t,f,v,!z);return}Dp(t,n,f,r,l,c,v,E,R)}function A0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function cr(t,n,r,l){n&=~rf,n&=~ca,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ge(c),v=1<<f;l[f]=-1,c&=~v}r!==0&&kn(t,r,n)}function Tu(){return(Gt&6)===0?(Il(0),!1):!0}function cf(){if(Dt!==null){if(Ft===0)var t=Dt.return;else t=Dt,Ri=ra=null,wh(t),Wa=null,El=0,t=Dt;for(;t!==null;)tp(t.alternate,t),t=t.return;Dt=null}}function ls(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,q0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),cf(),Jt=t,Dt=r=Si(t.current,null),Ut=n,Ft=0,hn=null,sr=!1,is=Lr(t,n),nf=!1,rs=Rn=rf=ca=lr=ue=0,nn=Dl=null,af=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ge(l),f=1<<c;n|=t[c],l&=~f}return Mi=n,Ho(),r}function Sp(t,n){Rt=null,F.H=ou,n===hl||n===Jo?(n=km(),Ft=3):n===Lm?(n=km(),Ft=4):Ft=n===Bg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Dt===null&&(ue=1,du(t,En(n,t.current)))}function Ap(){var t=F.H;return F.H=ou,t===null?ou:t}function bp(){var t=F.A;return F.A=T0,t}function hf(){ue=4,sr||(Ut&4194048)!==Ut&&bn.current!==null||(is=!0),(lr&134217727)===0&&(ca&134217727)===0||Jt===null||cr(Jt,Ut,Rn,!1)}function ff(t,n,r){var l=Gt;Gt|=2;var c=Ap(),f=bp();(Jt!==t||Ut!==n)&&(Eu=null,ls(t,n)),n=!1;var v=ue;t:do try{if(Ft!==0&&Dt!==null){var E=Dt,R=hn;switch(Ft){case 8:cf(),v=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var z=Ft;if(Ft=0,hn=null,os(t,E,R,z),r&&is){v=0;break t}break;default:z=Ft,Ft=0,hn=null,os(t,E,R,z)}}b0(),v=ue;break}catch(Q){Sp(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Ri=ra=null,Gt=l,F.H=c,F.A=f,Dt===null&&(Jt=null,Ut=0,Ho()),v}function b0(){for(;Dt!==null;)Rp(Dt)}function R0(t,n){var r=Gt;Gt|=2;var l=Ap(),c=bp();Jt!==t||Ut!==n?(Eu=null,vu=mn()+500,ls(t,n)):is=Lr(t,n);t:do try{if(Ft!==0&&Dt!==null){n=Dt;var f=hn;e:switch(Ft){case 1:Ft=0,hn=null,os(t,n,f,1);break;case 2:case 9:if(Pm(f)){Ft=0,hn=null,wp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),ti(t)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Pm(f)?(Ft=0,hn=null,wp(n)):(Ft=0,hn=null,os(t,n,f,7));break;case 5:var v=null;switch(Dt.tag){case 26:v=Dt.memoizedState;case 5:case 27:var E=Dt;if(!v||ly(v)){Ft=0,hn=null;var R=E.sibling;if(R!==null)Dt=R;else{var z=E.return;z!==null?(Dt=z,Su(z)):Dt=null}break e}}Ft=0,hn=null,os(t,n,f,5);break;case 6:Ft=0,hn=null,os(t,n,f,6);break;case 8:cf(),ue=6;break t;default:throw Error(s(462))}}w0();break}catch(Q){Sp(t,Q)}while(!0);return Ri=ra=null,F.H=l,F.A=c,Gt=r,Dt!==null?0:(Jt=null,Ut=0,Ho(),ue)}function w0(){for(;Dt!==null&&!xs();)Rp(Dt)}function Rp(t){var n=Jg(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,n===null?Su(t):Dt=n}function wp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Qg(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=Qg(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:wh(n);default:tp(r,n),n=Dt=Cm(n,Mi),n=Jg(r,n,Mi)}t.memoizedProps=t.pendingProps,n===null?Su(t):Dt=n}function os(t,n,r,l){Ri=ra=null,wh(n),Wa=null,El=0;var c=n.return;try{if(g0(t,c,n,r,Ut)){ue=1,du(t,En(r,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;ue=1,du(t,En(r,t.current)),Dt=null;return}n.flags&32768?(Bt||l===1?t=!0:is||(Ut&536870912)!==0?t=!1:(sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Cp(n,t)):Su(n)}function Su(t){var n=t;do{if((n.flags&32768)!==0){Cp(n,sr);return}t=n.return;var r=y0(n.alternate,n,Mi);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ue===0&&(ue=5)}function Cp(t,n){do{var r=_0(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);ue=6,Dt=null}function Dp(t,n,r,l,c,f,v,E,R){t.cancelPendingCommit=null;do Au();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=eh,Bs(t,r,f,v,E,R),t===Jt&&(Dt=Jt=null,Ut=0),as=n,ur=t,ss=r,lf=f,of=c,_p=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,I0(Or,function(){return Mp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,c=rt.p,rt.p=2,v=Gt,Gt|=4;try{v0(t,n,r)}finally{Gt=v,rt.p=c,F.T=l}}ze=1,Vp(),Ip(),Np()}}function Vp(){if(ze===1){ze=0;var t=ur,n=as,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=rt.p;rt.p=2;var c=Gt;Gt|=4;try{hp(n,t);var f=bf,v=ym(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&pm(E.ownerDocument.documentElement,E)){if(R!==null&&Zc(E)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var Z=E.ownerDocument||document,k=Z&&Z.defaultView||window;if(k.getSelection){var B=k.getSelection(),vt=E.textContent.length,pt=Math.min(R.start,vt),Xt=R.end===void 0?pt:Math.min(R.end,vt);!B.extend&&pt>Xt&&(v=Xt,Xt=pt,pt=v);var x=gm(E,pt),I=gm(E,Xt);if(x&&I&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==I.node||B.focusOffset!==I.offset)){var P=Z.createRange();P.setStart(x.node,x.offset),B.removeAllRanges(),pt>Xt?(B.addRange(P),B.extend(I.node,I.offset)):(P.setEnd(I.node,I.offset),B.addRange(P))}}}}for(Z=[],B=E;B=B.parentNode;)B.nodeType===1&&Z.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var Y=Z[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Uu=!!Af,bf=Af=null}finally{Gt=c,rt.p=l,F.T=r}}t.current=n,ze=2}}function Ip(){if(ze===2){ze=0;var t=ur,n=as,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=rt.p;rt.p=2;var c=Gt;Gt|=4;try{lp(t,n.alternate,n)}finally{Gt=c,rt.p=l,F.T=r}}ze=3}}function Np(){if(ze===4||ze===3){ze=0,_o();var t=ur,n=as,r=ss,l=_p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,as=ur=null,Op(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(or=null),Ra(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,c=rt.p,rt.p=2,F.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{F.T=n,rt.p=c}}(ss&3)!==0&&Au(),ti(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===uf?Vl++:(Vl=0,uf=t):Vl=0,Il(0)}}function Op(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ul(n)))}function Au(t){return Vp(),Ip(),Np(),Mp()}function Mp(){if(ze!==5)return!1;var t=ur,n=lf;lf=0;var r=Ra(ss),l=F.T,c=rt.p;try{rt.p=32>r?32:r,F.T=null,r=of,of=null;var f=ur,v=ss;if(ze=0,as=ur=null,ss=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,pp(f.current),dp(f,f.current,v,r),Gt=E,Il(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(le,f)}catch{}return!0}finally{rt.p=c,F.T=l,Op(t,n)}}function xp(t,n,r){n=En(r,n),n=Bh(t.stateNode,n,2),t=Wi(t,n,2),t!==null&&(hi(t,2),ti(t))}function Zt(t,n,r){if(t.tag===3)xp(t,t,r);else for(;n!==null;){if(n.tag===3){xp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(or===null||!or.has(l))){t=En(r,t),r=zg(2),l=Wi(n,r,2),l!==null&&(kg(r,l,n,t),hi(l,2),ti(l));break}}n=n.return}}function df(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new S0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(nf=!0,c.add(r),t=C0.bind(null,t,n,r),n.then(t,t))}function C0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Jt===t&&(Ut&r)===r&&(ue===4||ue===3&&(Ut&62914560)===Ut&&300>mn()-sf?(Gt&2)===0&&ls(t,0):rf|=r,rs===Ut&&(rs=0)),ti(t)}function Up(t,n){n===0&&(n=ks()),t=Ha(t,n),t!==null&&(hi(t,n),ti(t))}function D0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Up(t,r)}function V0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Up(t,r)}function I0(t,n){return Ir(t,n)}var bu=null,us=null,mf=!1,Ru=!1,gf=!1,ha=0;function ti(t){t!==us&&t.next===null&&(us===null?bu=us=t:us=us.next=t),Ru=!0,mf||(mf=!0,O0())}function Il(t,n){if(!gf&&Ru){gf=!0;do for(var r=!1,l=bu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ge(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,kp(l,f))}else f=Ut,f=ba(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Lr(l,f)||(r=!0,kp(l,f));l=l.next}while(r);gf=!1}}function N0(){Lp()}function Lp(){Ru=mf=!1;var t=0;ha!==0&&(B0()&&(t=ha),ha=0);for(var n=mn(),r=null,l=bu;l!==null;){var c=l.next,f=Pp(l,n);f===0?(l.next=null,r===null?bu=c:r.next=c,c===null&&(us=r)):(r=l,(t!==0||(f&3)!==0)&&(Ru=!0)),l=c}Il(t)}function Pp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ge(f),E=1<<v,R=c[v];R===-1?((E&r)===0||(E&l)!==0)&&(c[v]=Ps(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,r=Ut,r=ba(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Nr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Lr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Nr(l),Ra(r)){case 2:case 8:r=Sa;break;case 32:r=Or;break;case 268435456:r=Aa;break;default:r=Or}return l=zp.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Nr(l),t.callbackPriority=2,t.callbackNode=null,2}function zp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Au()&&t.callbackNode!==r)return null;var l=Ut;return l=ba(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ep(t,l,n),Pp(t,mn()),t.callbackNode!=null&&t.callbackNode===r?zp.bind(null,t):null)}function kp(t,n){if(Au())return null;Ep(t,n,!0)}function O0(){j0(function(){(Gt&6)!==0?Ir(Us,N0):Lp()})}function pf(){return ha===0&&(ha=zs()),ha}function Bp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function qp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function M0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Bp((c[me]||null).action),v=l.submitter;v&&(n=(n=v[me]||null)?Bp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Oa("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ha!==0){var R=v?qp(c,v):new FormData(c);Uh(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?qp(c,v):new FormData(c),Uh(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var yf=0;yf<th.length;yf++){var _f=th[yf],x0=_f.toLowerCase(),U0=_f[0].toUpperCase()+_f.slice(1);Mn(x0,"on"+U0)}Mn(Em,"onAnimationEnd"),Mn(Tm,"onAnimationIteration"),Mn(Sm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(JE,"onTransitionRun"),Mn(WE,"onTransitionStart"),Mn(t0,"onTransitionCancel"),Mn(Am,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function jp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(Q){fu(Q)}c.currentTarget=null,f=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(Q){fu(Q)}c.currentTarget=null,f=R}}}}function Vt(t,n){var r=n[js];r===void 0&&(r=n[js]=new Set);var l=t+"__bubble";r.has(l)||(Hp(n,t,2,!1),r.add(l))}function vf(t,n,r){var l=0;n&&(l|=4),Hp(r,t,l,n)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Ef(t){if(!t[wu]){t[wu]=!0,Hs.forEach(function(r){r!=="selectionchange"&&(L0.has(r)||vf(r,!1,t),vf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wu]||(n[wu]=!0,vf("selectionchange",!1,n))}}function Hp(t,n,r,l){switch(dy(n)){case 2:var c=uT;break;case 8:c=cT;break;default:c=xf}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Tf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=fi(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Do(function(){var z=f,Q=yn(r),Z=[];t:{var k=bm.get(t);if(k!==void 0){var B=Oa,vt=t;switch(t){case"keypress":if(Fn(r)===0)break t;case"keydown":case"keyup":B=za;break;case"focusin":vt="focus",B=Ua;break;case"focusout":vt="blur",B=Ua;break;case"beforeblur":case"afterblur":B=Ua;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Lo;break;case Em:case Tm:case Sm:B=La;break;case Am:B=zo;break;case"scroll":case"scrollend":B=Vo;break;case"wheel":B=ka;break;case"copy":case"cut":case"paste":B=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=el;break;case"toggle":case"beforetoggle":B=Bo}var pt=(n&4)!==0,Xt=!pt&&(t==="scroll"||t==="scrollend"),x=pt?k!==null?k+"Capture":null:k;pt=[];for(var I=z,P;I!==null;){var Y=I;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||x===null||(Y=Gr(I,x),Y!=null&&pt.push(Ol(I,Y,P))),Xt)break;I=I.return}0<pt.length&&(k=new B(k,vt,null,r,Q),Z.push({event:k,listeners:pt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",k&&r!==pi&&(vt=r.relatedTarget||r.fromElement)&&(fi(vt)||vt[gn]))break t;if((B||k)&&(k=Q.window===Q?Q:(k=Q.ownerDocument)?k.defaultView||k.parentWindow:window,B?(vt=r.relatedTarget||r.toElement,B=z,vt=vt?fi(vt):null,vt!==null&&(Xt=h(vt),pt=vt.tag,vt!==Xt||pt!==5&&pt!==27&&pt!==6)&&(vt=null)):(B=null,vt=z),B!==vt)){if(pt=vn,Y="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(pt=el,Y="onPointerLeave",x="onPointerEnter",I="pointer"),Xt=B==null?k:qn(B),P=vt==null?k:qn(vt),k=new pt(Y,I+"leave",B,r,Q),k.target=Xt,k.relatedTarget=P,Y=null,fi(Q)===z&&(pt=new pt(x,I+"enter",vt,r,Q),pt.target=P,pt.relatedTarget=Xt,Y=pt),Xt=Y,B&&vt)e:{for(pt=B,x=vt,I=0,P=pt;P;P=cs(P))I++;for(P=0,Y=x;Y;Y=cs(Y))P++;for(;0<I-P;)pt=cs(pt),I--;for(;0<P-I;)x=cs(x),P--;for(;I--;){if(pt===x||x!==null&&pt===x.alternate)break e;pt=cs(pt),x=cs(x)}pt=null}else pt=null;B!==null&&Gp(Z,k,B,pt,!1),vt!==null&&Xt!==null&&Gp(Z,Xt,vt,pt,!0)}}t:{if(k=z?qn(z):window,B=k.nodeName&&k.nodeName.toLowerCase(),B==="select"||B==="input"&&k.type==="file")var ot=um;else if(Se(k))if(cm)ot=XE;else{ot=YE;var Ct=QE}else B=k.nodeName,!B||B.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&Ks(z.elementType)&&(ot=um):ot=KE;if(ot&&(ot=ot(t,z))){Ti(Z,ot,r,Q);break t}Ct&&Ct(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Ki(k,"number",k.value)}switch(Ct=z?qn(z):window,t){case"focusin":(Se(Ct)||Ct.contentEditable==="true")&&(Ba=Ct,$c=z,rl=null);break;case"focusout":rl=$c=Ba=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,_m(Z,r,Q);break;case"selectionchange":if($E)break;case"keydown":case"keyup":_m(Z,r,Q)}var ht;if(Kn)t:{switch(t){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Mt?j(t,r)&&(yt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(yt="onCompositionStart");yt&&(_&&r.locale!=="ko"&&(Mt||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Mt&&(ht=Zs()):(Gn=Q,Xi="value"in Gn?Gn.value:Gn.textContent,Mt=!0)),Ct=Cu(z,yt),0<Ct.length&&(yt=new Ws(yt,t,null,r,Q),Z.push({event:yt,listeners:Ct}),ht?yt.data=ht:(ht=nt(r),ht!==null&&(yt.data=ht)))),(ht=m?Te(t,r):xt(t,r))&&(yt=Cu(z,"onBeforeInput"),0<yt.length&&(Ct=new Ws("onBeforeInput","beforeinput",null,r,Q),Z.push({event:Ct,listeners:yt}),Ct.data=ht)),M0(Z,t,z,r,Q)}jp(Z,n)})}function Ol(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Cu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Gr(t,r),c!=null&&l.unshift(Ol(t,c,f)),c=Gr(t,n),c!=null&&l.push(Ol(t,c,f))),t.tag===3)return l;t=t.return}return[]}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Gp(t,n,r,l,c){for(var f=n._reactName,v=[];r!==null&&r!==l;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,c?(z=Gr(r,f),z!=null&&v.unshift(Ol(r,z,R))):c||(z=Gr(r,f),z!=null&&v.push(Ol(r,z,R)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var P0=/\r\n?/g,z0=/\u0000|\uFFFD/g;function Fp(t){return(typeof t=="string"?t:""+t).replace(P0,`
`).replace(z0,"")}function Qp(t,n){return n=Fp(n),Fp(t)===n}function Du(){}function Kt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":jn(t,"class",l);break;case"tabIndex":jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,r,l);break;case"style":Ys(t,l,f);break;case"data":if(n!=="object"){jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Na(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Kt(t,n,"name",c.name,c,null),Kt(t,n,"formEncType",c.formEncType,c,null),Kt(t,n,"formMethod",c.formMethod,c,null),Kt(t,n,"formTarget",c.formTarget,c,null)):(Kt(t,n,"encType",c.encType,c,null),Kt(t,n,"method",c.method,c,null),Kt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Na(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Du);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Yi(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Gc.get(r)||r,Yi(t,r,l))}}function Sf(t,n,r,l,c,f){switch(r){case"style":Ys(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Yi(t,r,l)}}}function ke(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,r,null)}}c&&Kt(t,n,"srcSet",r.srcSet,r,null),l&&Kt(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=f=v=c=null,R=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Kt(t,n,l,Q,r,null)}}qr(t,f,E,R,z,v,c,!1),Ia(t);return;case"select":Vt("invalid",t),l=v=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Kt(t,n,c,E,r,null)}n=f,r=v,t.multiple=!!l,n!=null?gi(t,!!l,n,!1):r!=null&&gi(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(v in r)if(r.hasOwnProperty(v)&&(E=r[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,v,E,r,null)}jr(t,l,c,f),Ia(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,R,l,r,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Vt(Nl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,z,l,r,null)}return;default:if(Ks(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&Sf(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Kt(t,n,E,l,r,null))}function k0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,R=null,z=null,Q=null;for(B in r){var Z=r[B];if(r.hasOwnProperty(B)&&Z!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(B)||Kt(t,n,B,null,l,Z)}}for(var k in l){var B=l[k];if(Z=r[k],l.hasOwnProperty(k)&&(B!=null||Z!=null))switch(k){case"type":f=B;break;case"name":c=B;break;case"checked":z=B;break;case"defaultChecked":Q=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:B!==Z&&Kt(t,n,k,B,l,Z)}}sn(t,v,E,R,z,Q,f,c);return;case"select":B=v=E=k=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=r[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Kt(t,n,c,f,l,R)}n=E,r=v,l=B,k!=null?gi(t,!!r,k,!1):!!l!=!!r&&(n!=null?gi(t,!!r,n,!0):gi(t,!!r,r?[]:"",!1));return;case"textarea":B=k=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=r[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":k=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Kt(t,n,v,c,l,f)}Qt(t,k,B);return;case"option":for(var vt in r)if(k=r[vt],r.hasOwnProperty(vt)&&k!=null&&!l.hasOwnProperty(vt))switch(vt){case"selected":t.selected=!1;break;default:Kt(t,n,vt,null,l,k)}for(R in l)if(k=l[R],B=r[R],l.hasOwnProperty(R)&&k!==B&&(k!=null||B!=null))switch(R){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Kt(t,n,R,k,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)k=r[pt],r.hasOwnProperty(pt)&&k!=null&&!l.hasOwnProperty(pt)&&Kt(t,n,pt,null,l,k);for(z in l)if(k=l[z],B=r[z],l.hasOwnProperty(z)&&k!==B&&(k!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Kt(t,n,z,k,l,B)}return;default:if(Ks(n)){for(var Xt in r)k=r[Xt],r.hasOwnProperty(Xt)&&k!==void 0&&!l.hasOwnProperty(Xt)&&Sf(t,n,Xt,void 0,l,k);for(Q in l)k=l[Q],B=r[Q],!l.hasOwnProperty(Q)||k===B||k===void 0&&B===void 0||Sf(t,n,Q,k,l,B);return}}for(var x in r)k=r[x],r.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Kt(t,n,x,null,l,k);for(Z in l)k=l[Z],B=r[Z],!l.hasOwnProperty(Z)||k===B||k==null&&B==null||Kt(t,n,Z,k,l,B)}var Af=null,bf=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function Yp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wf=null;function B0(){var t=window.event;return t&&t.type==="popstate"?t===wf?!1:(wf=t,!0):(wf=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,q0=typeof clearTimeout=="function"?clearTimeout:void 0,Zp=typeof Promise=="function"?Promise:void 0,j0=typeof queueMicrotask=="function"?queueMicrotask:typeof Zp<"u"?function(t){return Zp.resolve(null).then(t).catch(H0)}:Xp;function H0(t){setTimeout(function(){throw t})}function hr(t){return t==="head"}function $p(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Ml(v.documentElement),r&2&&Ml(v.body),r&4)for(r=v.head,Ml(r),v=r.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[Pr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=E}}if(c===0){t.removeChild(f),ql(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);ql(n)}function Cf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Cf(r),Qi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function G0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Pr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function F0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function Df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Q0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Vf=null;function Jp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Wp(t,n,r){switch(n=Vu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ml(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Qi(t)}var wn=new Map,ty=new Set;function Iu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var xi=rt.d;rt.d={f:Y0,r:K0,D:X0,C:Z0,L:$0,m:J0,X:tT,S:W0,M:eT};function Y0(){var t=xi.f(),n=Tu();return t||n}function K0(t){var n=Bn(t);n!==null&&n.tag===5&&n.type==="form"?Eg(n):xi.r(t)}var hs=typeof document>"u"?null:document;function ey(t,n,r){var l=hs;if(l&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),ty.has(c)||(ty.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),ce(n),l.head.appendChild(n)))}}function X0(t){xi.D(t),ey("dns-prefetch",t,null)}function Z0(t,n){xi.C(t,n),ey("preconnect",t,n)}function $0(t,n,r){xi.L(t,n,r);var l=hs;if(l&&t&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ge(r.imageSizes)+'"]')):c+='[href="'+ge(t)+'"]';var f=c;switch(n){case"style":f=fs(t);break;case"script":f=ds(t)}wn.has(f)||(t=T({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ul(f))||(n=l.createElement("link"),ke(n,"link",t),ce(n),l.head.appendChild(n)))}}function J0(t,n){xi.m(t,n);var r=hs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(l)+'"][href="'+ge(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ds(t)}if(!wn.has(f)&&(t=T({rel:"modulepreload",href:t},n),wn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ul(f)))return}l=r.createElement("link"),ke(l,"link",t),ce(l),r.head.appendChild(l)}}}function W0(t,n,r){xi.S(t,n,r);var l=hs;if(l&&t){var c=Ze(l).hoistableStyles,f=fs(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(xl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(f))&&If(t,r);var R=v=l.createElement("link");ce(R),ke(R,"link",t),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function tT(t,n){xi.X(t,n);var r=hs;if(r&&t){var l=Ze(r).hoistableScripts,c=ds(t),f=l.get(c);f||(f=r.querySelector(Ul(c)),f||(t=T({src:t,async:!0},n),(n=wn.get(c))&&Nf(t,n),f=r.createElement("script"),ce(f),ke(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function eT(t,n){xi.M(t,n);var r=hs;if(r&&t){var l=Ze(r).hoistableScripts,c=ds(t),f=l.get(c);f||(f=r.querySelector(Ul(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&Nf(t,n),f=r.createElement("script"),ce(f),ke(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ny(t,n,r,l){var c=(c=Et.current)?Iu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=fs(r.href),r=Ze(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=fs(r.href);var f=Ze(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(xl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),f||nT(c,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ds(r),r=Ze(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fs(t){return'href="'+ge(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function iy(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function nT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",r),ce(n),t.head.appendChild(n))}function ds(t){return'[src="'+ge(t)+'"]'}function Ul(t){return"script[async]"+t}function ry(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ge(r.href)+'"]');if(l)return n.instance=l,ce(l),l;var c=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),ke(l,"style",c),Nu(l,r.precedence,t),n.instance=l;case"stylesheet":c=fs(r.href);var f=t.querySelector(xl(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=iy(r),(c=wn.get(c))&&If(l,c),f=(t.ownerDocument||t).createElement("link"),ce(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),ke(f,"link",l),n.state.loading|=4,Nu(f,r.precedence,t),n.instance=f;case"script":return f=ds(r.src),(c=t.querySelector(Ul(f)))?(n.instance=c,ce(c),c):(l=r,(c=wn.get(f))&&(l=T({},r),Nf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),ce(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Nu(l,r.precedence,t));return n.instance}function Nu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function If(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ou=null;function ay(t,n,r){if(Ou===null){var l=new Map,c=Ou=new Map;c.set(r,l)}else c=Ou,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Pr]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function sy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function iT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function rT(){}function aT(t,n,r){if(Ll===null)throw Error(s(475));var l=Ll;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=fs(r.href),f=t.querySelector(xl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Mu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,r=iy(r),(c=wn.get(c))&&If(r,c),f=f.createElement("link"),ce(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),ke(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Mu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function sT(){if(Ll===null)throw Error(s(475));var t=Ll;return t.stylesheets&&t.count===0&&Of(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Of(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Mu(){if(this.count--,this.count===0){if(this.stylesheets)Of(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xu=null;function Of(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xu=new Map,n.forEach(lT,t),xu=null,Mu.call(t))}function lT(t,n){if(!(n.state.loading&4)){var r=xu.get(t);if(r)var l=r.get(null);else{r=new Map,xu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,c),r.set(v,c),this.count++,l=Mu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:it,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function oT(t,n,r,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function oy(t,n,r,l,c,f,v,E,R,z,Q,Z){return t=new oT(t,n,r,v,E,R,z,Z),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=fh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ph(f),t}function uy(t){return t?(t=Ga,t):Ga}function cy(t,n,r,l,c,f){c=uy(c),l.context===null?l.context=c:l.pendingContext=c,l=Ji(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Wi(t,l,n),r!==null&&(dn(r,t,n),dl(r,t,n))}function hy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Mf(t,n){hy(t,n),(t=t.alternate)&&hy(t,n)}function fy(t){if(t.tag===13){var n=Ha(t,67108864);n!==null&&dn(n,t,67108864),Mf(t,67108864)}}var Uu=!0;function uT(t,n,r,l){var c=F.T;F.T=null;var f=rt.p;try{rt.p=2,xf(t,n,r,l)}finally{rt.p=f,F.T=c}}function cT(t,n,r,l){var c=F.T;F.T=null;var f=rt.p;try{rt.p=8,xf(t,n,r,l)}finally{rt.p=f,F.T=c}}function xf(t,n,r,l){if(Uu){var c=Uf(l);if(c===null)Tf(t,n,l,Lu,r),my(t,l);else if(fT(c,t,n,r,l))l.stopPropagation();else if(my(t,l),n&4&&-1<hT.indexOf(t)){for(;c!==null;){var f=Bn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=In(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Ge(v);E.entanglements[1]|=R,v&=~R}ti(f),(Gt&6)===0&&(vu=mn()+500,Il(0))}}break;case 13:E=Ha(f,2),E!==null&&dn(E,f,2),Tu(),Mf(f,2)}if(f=Uf(l),f===null&&Tf(t,n,l,Lu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Tf(t,n,l,null,r)}}function Uf(t){return t=yn(t),Lf(t)}var Lu=null;function Lf(t){if(Lu=null,t=fi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Lu=t,null}function dy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zc()){case Us:return 2;case Sa:return 8;case Or:case kc:return 32;case Aa:return 268435456;default:return 32}default:return 32}}var Pf=!1,fr=null,dr=null,mr=null,zl=new Map,kl=new Map,gr=[],hT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function my(t,n){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(n.pointerId)}}function Bl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Bn(n),n!==null&&fy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function fT(t,n,r,l,c){switch(n){case"focusin":return fr=Bl(fr,t,n,r,l,c),!0;case"dragenter":return dr=Bl(dr,t,n,r,l,c),!0;case"mouseover":return mr=Bl(mr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return zl.set(f,Bl(zl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,kl.set(f,Bl(kl.get(f)||null,t,n,r,l,c)),!0}return!1}function gy(t){var n=fi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,To(t.priority,function(){if(r.tag===13){var l=fn();l=Hi(l);var c=Ha(r,l);c!==null&&dn(c,r,l),Mf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Uf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);pi=l,r.target.dispatchEvent(l),pi=null}else return n=Bn(r),n!==null&&fy(n),t.blockedOn=r,!1;n.shift()}return!0}function py(t,n,r){Pu(t)&&r.delete(n)}function dT(){Pf=!1,fr!==null&&Pu(fr)&&(fr=null),dr!==null&&Pu(dr)&&(dr=null),mr!==null&&Pu(mr)&&(mr=null),zl.forEach(py),kl.forEach(py)}function zu(t,n){t.blockedOn===n&&(t.blockedOn=null,Pf||(Pf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,dT)))}var ku=null;function yy(t){ku!==t&&(ku=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ku===t&&(ku=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Lf(l||r)===null)continue;break}var f=Bn(r);f!==null&&(t.splice(n,3),n-=3,Uh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function ql(t){function n(R){return zu(R,t)}fr!==null&&zu(fr,t),dr!==null&&zu(dr,t),mr!==null&&zu(mr,t),zl.forEach(n),kl.forEach(n);for(var r=0;r<gr.length;r++){var l=gr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)gy(r),r.blockedOn===null&&gr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],v=c[me]||null;if(typeof f=="function")v||yy(r);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[me]||null)E=v.formAction;else if(Lf(c)!==null)continue}else E=v.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),yy(r)}}}function zf(t){this._internalRoot=t}Bu.prototype.render=zf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=fn();cy(r,l,t,n,null,null)},Bu.prototype.unmount=zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;cy(t.current,2,null,t,null,null),Tu(),n[gn]=null}};function Bu(t){this._internalRoot=t}Bu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Gi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<gr.length&&n!==0&&n<gr[r].priority;r++);gr.splice(r,0,t),r===0&&gy(t)}};var _y=e.version;if(_y!=="19.1.1")throw Error(s(527,_y,"19.1.1"));rt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var mT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{le=qu.inject(mT),Ht=qu}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=xg,f=Ug,v=Lg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=oy(t,1,!1,null,null,r,l,c,f,v,E,null),t[gn]=n.current,Ef(t),new zf(n)},Hl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=xg,v=Ug,E=Lg,R=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),n=oy(t,1,!0,n,r??null,l,c,f,v,E,R,z),n.context=uy(null),r=n.current,l=fn(),l=Hi(l),c=Ji(l),c.callback=null,Wi(r,c,l),r=l,n.current.lanes=r,hi(n,r),ti(n),t[gn]=n.current,Ef(t),new Bu(n)},Hl.version="19.1.1",Hl}var Dy;function bT(){if(Dy)return qf.exports;Dy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),qf.exports=AT(),qf.exports}var RT=bT();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Vy="popstate";function wT(a={}){function e(o,h){let{pathname:d="/",search:g="",hash:y=""}=pa(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),nd("",{pathname:d,search:g,hash:y},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function i(o,h){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let y=o.location.href,p=y.indexOf("#");g=p===-1?y:y.slice(0,p)}return g+"#"+(typeof h=="string"?h:Wl(h))}function s(o,h){Pn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return DT(e,i,s,a)}function re(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Pn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CT(){return Math.random().toString(36).substring(2,10)}function Iy(a,e){return{usr:a.state,key:a.key,idx:e}}function nd(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?pa(e):e,state:i,key:e&&e.key||s||CT()}}function Wl({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function pa(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function DT(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:h=!1}=s,d=o.history,g="POP",y=null,p=T();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function T(){return(d.state||{idx:null}).idx}function b(){g="POP";let H=T(),J=H==null?null:H-p;p=H,y&&y({action:g,location:X.location,delta:J})}function C(H,J){g="PUSH";let st=nd(X.location,H,J);i&&i(st,H),p=T()+1;let it=Iy(st,p),At=X.createHref(st);try{d.pushState(it,"",At)}catch(ft){if(ft instanceof DOMException&&ft.name==="DataCloneError")throw ft;o.location.assign(At)}h&&y&&y({action:g,location:X.location,delta:1})}function q(H,J){g="REPLACE";let st=nd(X.location,H,J);i&&i(st,H),p=T();let it=Iy(st,p),At=X.createHref(st);d.replaceState(it,"",At),h&&y&&y({action:g,location:X.location,delta:0})}function G(H){return VT(H)}let X={get action(){return g},get location(){return a(o,d)},listen(H){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Vy,b),y=H,()=>{o.removeEventListener(Vy,b),y=null}},createHref(H){return e(o,H)},createURL:G,encodeLocation(H){let J=G(H);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:C,replace:q,go(H){return d.go(H)}};return X}function VT(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),re(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Wl(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function q_(a,e,i="/"){return IT(a,e,i,!1)}function IT(a,e,i,s){let o=typeof e=="string"?pa(e):e,h=Pi(o.pathname||"/",i);if(h==null)return null;let d=j_(a);NT(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=jT(h);g=BT(d[y],p,s)}return g}function j_(a,e=[],i=[],s=""){let o=(h,d,g)=>{let y={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};y.relativePath.startsWith("/")&&(re(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let p=Ui([s,y.relativePath]),T=i.concat(y);h.children&&h.children.length>0&&(re(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),j_(h.children,e,T,p)),!(h.path==null&&!h.index)&&e.push({path:p,score:zT(p,h.index),routesMeta:T})};return a.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))o(h,d);else for(let g of H_(h.path))o(h,d,g)}),e}function H_(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),h=i.replace(/\?$/,"");if(s.length===0)return o?[h,""]:[h];let d=H_(s.join("/")),g=[];return g.push(...d.map(y=>y===""?h:[h,y].join("/"))),o&&g.push(...d),g.map(y=>a.startsWith("/")&&y===""?"/":y)}function NT(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:kT(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var OT=/^:[\w-]+$/,MT=3,xT=2,UT=1,LT=10,PT=-2,Ny=a=>a==="*";function zT(a,e){let i=a.split("/"),s=i.length;return i.some(Ny)&&(s+=PT),e&&(s+=xT),i.filter(o=>!Ny(o)).reduce((o,h)=>o+(OT.test(h)?MT:h===""?UT:LT),s)}function kT(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function BT(a,e,i=!1){let{routesMeta:s}=a,o={},h="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,T=h==="/"?e:e.slice(h.length)||"/",b=ic({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},T),C=y.route;if(!b&&p&&i&&!s[s.length-1].route.index&&(b=ic({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Ui([h,b.pathname]),pathnameBase:QT(Ui([h,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(h=Ui([h,b.pathnameBase]))}return d}function ic(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=qT(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let h=o[0],d=h.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:T,isOptional:b},C)=>{if(T==="*"){let G=g[C]||"";d=h.slice(0,h.length-G.length).replace(/(.)\/+$/,"$1")}const q=g[C];return b&&!q?p[T]=void 0:p[T]=(q||"").replace(/%2F/g,"/"),p},{}),pathname:h,pathnameBase:d,pattern:a}}function qT(a,e=!1,i=!0){Pn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function jT(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Pn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Pi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function HT(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?pa(a):a;return{pathname:i?i.startsWith("/")?i:GT(i,e):e,search:YT(s),hash:KT(o)}}function GT(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Ff(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function FT(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function G_(a){let e=FT(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function F_(a,e,i,s=!1){let o;typeof a=="string"?o=pa(a):(o={...a},re(!o.pathname||!o.pathname.includes("?"),Ff("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),Ff("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),Ff("#","search","hash",o)));let h=a===""||o.pathname==="",d=h?"/":o.pathname,g;if(d==null)g=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),b-=1;o.pathname=C.join("/")}g=b>=0?e[b]:"/"}let y=HT(o,g),p=d&&d!=="/"&&d.endsWith("/"),T=(h||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||T)&&(y.pathname+="/"),y}var Ui=a=>a.join("/").replace(/\/\/+/g,"/"),QT=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),YT=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,KT=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function XT(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Q_=["POST","PUT","PATCH","DELETE"];new Set(Q_);var ZT=["GET",...Q_];new Set(ZT);var Ds=K.createContext(null);Ds.displayName="DataRouter";var Tc=K.createContext(null);Tc.displayName="DataRouterState";K.createContext(!1);var Y_=K.createContext({isTransitioning:!1});Y_.displayName="ViewTransition";var $T=K.createContext(new Map);$T.displayName="Fetchers";var JT=K.createContext(null);JT.displayName="Await";var oi=K.createContext(null);oi.displayName="Navigation";var uo=K.createContext(null);uo.displayName="Location";var qi=K.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var Cd=K.createContext(null);Cd.displayName="RouteError";function WT(a,{relative:e}={}){re(co(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=K.useContext(oi),{hash:o,pathname:h,search:d}=ho(a,{relative:e}),g=h;return i!=="/"&&(g=h==="/"?i:Ui([i,h])),s.createHref({pathname:g,search:d,hash:o})}function co(){return K.useContext(uo)!=null}function ya(){return re(co(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(uo).location}var K_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X_(a){K.useContext(oi).static||K.useLayoutEffect(a)}function Sc(){let{isDataRoute:a}=K.useContext(qi);return a?f1():t1()}function t1(){re(co(),"useNavigate() may be used only in the context of a <Router> component.");let a=K.useContext(Ds),{basename:e,navigator:i}=K.useContext(oi),{matches:s}=K.useContext(qi),{pathname:o}=ya(),h=JSON.stringify(G_(s)),d=K.useRef(!1);return X_(()=>{d.current=!0}),K.useCallback((y,p={})=>{if(Pn(d.current,K_),!d.current)return;if(typeof y=="number"){i.go(y);return}let T=F_(y,JSON.parse(h),o,p.relative==="path");a==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Ui([e,T.pathname])),(p.replace?i.replace:i.push)(T,p.state,p)},[e,i,h,o,a])}K.createContext(null);function ho(a,{relative:e}={}){let{matches:i}=K.useContext(qi),{pathname:s}=ya(),o=JSON.stringify(G_(i));return K.useMemo(()=>F_(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function e1(a,e){return Z_(a,e)}function Z_(a,e,i,s){re(co(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=K.useContext(oi),{matches:h}=K.useContext(qi),d=h[h.length-1],g=d?d.params:{},y=d?d.pathname:"/",p=d?d.pathnameBase:"/",T=d&&d.route;{let J=T&&T.path||"";$_(y,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let b=ya(),C;if(e){let J=typeof e=="string"?pa(e):e;re(p==="/"||J.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${J.pathname}" was given in the \`location\` prop.`),C=J}else C=b;let q=C.pathname||"/",G=q;if(p!=="/"){let J=p.replace(/^\//,"").split("/");G="/"+q.replace(/^\//,"").split("/").slice(J.length).join("/")}let X=q_(a,{pathname:G});Pn(T||X!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Pn(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let H=s1(X&&X.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:Ui([p,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?p:Ui([p,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),h,i,s);return e&&H?K.createElement(uo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},H):H}function n1(){let a=h1(),e=XT(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:h},"ErrorBoundary")," or"," ",K.createElement("code",{style:h},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),i?K.createElement("pre",{style:o},i):null,d)}var i1=K.createElement(n1,null),r1=class extends K.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?K.createElement(qi.Provider,{value:this.props.routeContext},K.createElement(Cd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a1({routeContext:a,match:e,children:i}){let s=K.useContext(Ds);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(qi.Provider,{value:a},i)}function s1(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,h=i?.errors;if(h!=null){let y=o.findIndex(p=>p.route.id&&h?.[p.route.id]!==void 0);re(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let d=!1,g=-1;if(i)for(let y=0;y<o.length;y++){let p=o[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=y),p.route.id){let{loaderData:T,errors:b}=i,C=p.route.loader&&!T.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||C){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((y,p,T)=>{let b,C=!1,q=null,G=null;i&&(b=h&&p.route.id?h[p.route.id]:void 0,q=p.route.errorElement||i1,d&&(g<0&&T===0?($_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,G=null):g===T&&(C=!0,G=p.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,T+1)),H=()=>{let J;return b?J=q:C?J=G:p.route.Component?J=K.createElement(p.route.Component,null):p.route.element?J=p.route.element:J=y,K.createElement(a1,{match:p,routeContext:{outlet:y,matches:X,isDataRoute:i!=null},children:J})};return i&&(p.route.ErrorBoundary||p.route.errorElement||T===0)?K.createElement(r1,{location:i.location,revalidation:i.revalidation,component:q,error:b,children:H(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):H()},null)}function Dd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l1(a){let e=K.useContext(Ds);return re(e,Dd(a)),e}function o1(a){let e=K.useContext(Tc);return re(e,Dd(a)),e}function u1(a){let e=K.useContext(qi);return re(e,Dd(a)),e}function Vd(a){let e=u1(a),i=e.matches[e.matches.length-1];return re(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function c1(){return Vd("useRouteId")}function h1(){let a=K.useContext(Cd),e=o1("useRouteError"),i=Vd("useRouteError");return a!==void 0?a:e.errors?.[i]}function f1(){let{router:a}=l1("useNavigate"),e=Vd("useNavigate"),i=K.useRef(!1);return X_(()=>{i.current=!0}),K.useCallback(async(o,h={})=>{Pn(i.current,K_),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...h}))},[a,e])}var Oy={};function $_(a,e,i){!e&&!Oy[a]&&(Oy[a]=!0,Pn(!1,i))}K.memo(d1);function d1({routes:a,future:e,state:i}){return Z_(a,void 0,i,e)}function id(a){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function m1({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:h=!1}){re(!co(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=K.useMemo(()=>({basename:d,navigator:o,static:h,future:{}}),[d,o,h]);typeof i=="string"&&(i=pa(i));let{pathname:y="/",search:p="",hash:T="",state:b=null,key:C="default"}=i,q=K.useMemo(()=>{let G=Pi(y,d);return G==null?null:{location:{pathname:G,search:p,hash:T,state:b,key:C},navigationType:s}},[d,y,p,T,b,C,s]);return Pn(q!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${T}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:K.createElement(oi.Provider,{value:g},K.createElement(uo.Provider,{children:e,value:q}))}function g1({children:a,location:e}){return e1(rd(a),e)}function rd(a,e=[]){let i=[];return K.Children.forEach(a,(s,o)=>{if(!K.isValidElement(s))return;let h=[...e,o];if(s.type===K.Fragment){i.push.apply(i,rd(s.props.children,h));return}re(s.type===id,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=rd(s.props.children,h)),i.push(d)}),i}var Xu="get",Zu="application/x-www-form-urlencoded";function Ac(a){return a!=null&&typeof a.tagName=="string"}function p1(a){return Ac(a)&&a.tagName.toLowerCase()==="button"}function y1(a){return Ac(a)&&a.tagName.toLowerCase()==="form"}function _1(a){return Ac(a)&&a.tagName.toLowerCase()==="input"}function v1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function E1(a,e){return a.button===0&&(!e||e==="_self")&&!v1(a)}var ju=null;function T1(){if(ju===null)try{new FormData(document.createElement("form"),0),ju=!1}catch{ju=!0}return ju}var S1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qf(a){return a!=null&&!S1.has(a)?(Pn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zu}"`),null):a}function A1(a,e){let i,s,o,h,d;if(y1(a)){let g=a.getAttribute("action");s=g?Pi(g,e):null,i=a.getAttribute("method")||Xu,o=Qf(a.getAttribute("enctype"))||Zu,h=new FormData(a)}else if(p1(a)||_1(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||g.getAttribute("action");if(s=y?Pi(y,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||Xu,o=Qf(a.getAttribute("formenctype"))||Qf(g.getAttribute("enctype"))||Zu,h=new FormData(g,a),!T1()){let{name:p,type:T,value:b}=a;if(T==="image"){let C=p?`${p}.`:"";h.append(`${C}x`,"0"),h.append(`${C}y`,"0")}else p&&h.append(p,b)}}else{if(Ac(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Xu,s=null,o=Zu,d=a}return h&&o==="text/plain"&&(d=h,h=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Id(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function b1(a,e,i){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&Pi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function R1(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w1(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function C1(a,e,i){let s=await Promise.all(a.map(async o=>{let h=e.routes[o.route.id];if(h){let d=await R1(h,i);return d.links?d.links():[]}return[]}));return N1(s.flat(1).filter(w1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function My(a,e,i,s,o,h){let d=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return h==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):h==="data"?e.filter((y,p)=>{let T=s.routes[y.route.id];if(!T||!T.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let b=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function D1(a,e,{includeHydrateFallback:i}={}){return V1(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let h=[o.module];return o.clientActionModule&&(h=h.concat(o.clientActionModule)),o.clientLoaderModule&&(h=h.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(h=h.concat(o.hydrateFallbackModule)),o.imports&&(h=h.concat(o.imports)),h}).flat(1))}function V1(a){return[...new Set(a)]}function I1(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function N1(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let h=JSON.stringify(I1(o));return i.has(h)||(i.add(h),s.push({key:h,link:o})),s},[])}function J_(){let a=K.useContext(Ds);return Id(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function O1(){let a=K.useContext(Tc);return Id(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Nd=K.createContext(void 0);Nd.displayName="FrameworkContext";function W_(){let a=K.useContext(Nd);return Id(a,"You must render this element inside a <HydratedRouter> element"),a}function M1(a,e){let i=K.useContext(Nd),[s,o]=K.useState(!1),[h,d]=K.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:T,onTouchStart:b}=e,C=K.useRef(null);K.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let X=J=>{J.forEach(st=>{d(st.isIntersecting)})},H=new IntersectionObserver(X,{threshold:.5});return C.current&&H.observe(C.current),()=>{H.disconnect()}}},[a]),K.useEffect(()=>{if(s){let X=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(X)}}},[s]);let q=()=>{o(!0)},G=()=>{o(!1),d(!1)};return i?a!=="intent"?[h,C,{}]:[h,C,{onFocus:Gl(g,q),onBlur:Gl(y,G),onMouseEnter:Gl(p,q),onMouseLeave:Gl(T,G),onTouchStart:Gl(b,q)}]:[!1,C,{}]}function Gl(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function x1({page:a,...e}){let{router:i}=J_(),s=K.useMemo(()=>q_(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?K.createElement(L1,{page:a,matches:s,...e}):null}function U1(a){let{manifest:e,routeModules:i}=W_(),[s,o]=K.useState([]);return K.useEffect(()=>{let h=!1;return C1(a,e,i).then(d=>{h||o(d)}),()=>{h=!0}},[a,e,i]),s}function L1({page:a,matches:e,...i}){let s=ya(),{manifest:o,routeModules:h}=W_(),{basename:d}=J_(),{loaderData:g,matches:y}=O1(),p=K.useMemo(()=>My(a,e,y,o,s,"data"),[a,e,y,o,s]),T=K.useMemo(()=>My(a,e,y,o,s,"assets"),[a,e,y,o,s]),b=K.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let G=new Set,X=!1;if(e.forEach(J=>{let st=o.routes[J.route.id];!st||!st.hasLoader||(!p.some(it=>it.route.id===J.route.id)&&J.route.id in g&&h[J.route.id]?.shouldRevalidate||st.hasClientLoader?X=!0:G.add(J.route.id))}),G.size===0)return[];let H=b1(a,d,"data");return X&&G.size>0&&H.searchParams.set("_routes",e.filter(J=>G.has(J.route.id)).map(J=>J.route.id).join(",")),[H.pathname+H.search]},[d,g,s,o,p,e,a,h]),C=K.useMemo(()=>D1(T,o),[T,o]),q=U1(T);return K.createElement(K.Fragment,null,b.map(G=>K.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...i})),C.map(G=>K.createElement("link",{key:G,rel:"modulepreload",href:G,...i})),q.map(({key:G,link:X})=>K.createElement("link",{key:G,...X})))}function P1(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var tv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tv&&(window.__reactRouterVersion="7.7.1")}catch{}function z1({basename:a,children:e,window:i}){let s=K.useRef();s.current==null&&(s.current=wT({window:i,v5Compat:!0}));let o=s.current,[h,d]=K.useState({action:o.action,location:o.location}),g=K.useCallback(y=>{K.startTransition(()=>d(y))},[d]);return K.useLayoutEffect(()=>o.listen(g),[o,g]),K.createElement(m1,{basename:a,children:e,location:h.location,navigationType:h.action,navigator:o})}var ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nv=K.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:h,replace:d,state:g,target:y,to:p,preventScrollReset:T,viewTransition:b,...C},q){let{basename:G}=K.useContext(oi),X=typeof p=="string"&&ev.test(p),H,J=!1;if(typeof p=="string"&&X&&(H=p,tv))try{let w=new URL(window.location.href),N=p.startsWith("//")?new URL(w.protocol+p):new URL(p),M=Pi(N.pathname,G);N.origin===w.origin&&M!=null?p=M+N.search+N.hash:J=!0}catch{Pn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let st=WT(p,{relative:o}),[it,At,ft]=M1(s,C),Ot=j1(p,{replace:d,state:g,target:y,preventScrollReset:T,relative:o,viewTransition:b});function O(w){e&&e(w),w.defaultPrevented||Ot(w)}let A=K.createElement("a",{...C,...ft,href:H||st,onClick:J||h?e:O,ref:P1(q,At),target:y,"data-discover":!X&&i==="render"?"true":void 0});return it&&!X?K.createElement(K.Fragment,null,A,K.createElement(x1,{page:st})):A});nv.displayName="Link";var k1=K.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:h,to:d,viewTransition:g,children:y,...p},T){let b=ho(d,{relative:p.relative}),C=ya(),q=K.useContext(Tc),{navigator:G,basename:X}=K.useContext(oi),H=q!=null&&Y1(b)&&g===!0,J=G.encodeLocation?G.encodeLocation(b).pathname:b.pathname,st=C.pathname,it=q&&q.navigation&&q.navigation.location?q.navigation.location.pathname:null;i||(st=st.toLowerCase(),it=it?it.toLowerCase():null,J=J.toLowerCase()),it&&X&&(it=Pi(it,X)||it);const At=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let ft=st===J||!o&&st.startsWith(J)&&st.charAt(At)==="/",Ot=it!=null&&(it===J||!o&&it.startsWith(J)&&it.charAt(J.length)==="/"),O={isActive:ft,isPending:Ot,isTransitioning:H},A=ft?e:void 0,w;typeof s=="function"?w=s(O):w=[s,ft?"active":null,Ot?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let N=typeof h=="function"?h(O):h;return K.createElement(nv,{...p,"aria-current":A,className:w,ref:T,style:N,to:d,viewTransition:g},typeof y=="function"?y(O):y)});k1.displayName="NavLink";var B1=K.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:h,method:d=Xu,action:g,onSubmit:y,relative:p,preventScrollReset:T,viewTransition:b,...C},q)=>{let G=F1(),X=Q1(g,{relative:p}),H=d.toLowerCase()==="get"?"get":"post",J=typeof g=="string"&&ev.test(g),st=it=>{if(y&&y(it),it.defaultPrevented)return;it.preventDefault();let At=it.nativeEvent.submitter,ft=At?.getAttribute("formmethod")||d;G(At||it.currentTarget,{fetcherKey:e,method:ft,navigate:i,replace:o,state:h,relative:p,preventScrollReset:T,viewTransition:b})};return K.createElement("form",{ref:q,method:H,action:X,onSubmit:s?y:st,...C,"data-discover":!J&&a==="render"?"true":void 0})});B1.displayName="Form";function q1(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iv(a){let e=K.useContext(Ds);return re(e,q1(a)),e}function j1(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:h,viewTransition:d}={}){let g=Sc(),y=ya(),p=ho(a,{relative:h});return K.useCallback(T=>{if(E1(T,e)){T.preventDefault();let b=i!==void 0?i:Wl(y)===Wl(p);g(a,{replace:b,state:s,preventScrollReset:o,relative:h,viewTransition:d})}},[y,g,p,i,s,e,a,o,h,d])}var H1=0,G1=()=>`__${String(++H1)}__`;function F1(){let{router:a}=iv("useSubmit"),{basename:e}=K.useContext(oi),i=c1();return K.useCallback(async(s,o={})=>{let{action:h,method:d,encType:g,formData:y,body:p}=A1(s,e);if(o.navigate===!1){let T=o.fetcherKey||G1();await a.fetch(T,i,o.action||h,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||h,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function Q1(a,{relative:e}={}){let{basename:i}=K.useContext(oi),s=K.useContext(qi);re(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),h={...ho(a||".",{relative:e})},d=ya();if(a==null){h.search=d.search;let g=new URLSearchParams(h.search),y=g.getAll("index");if(y.some(T=>T==="")){g.delete("index"),y.filter(b=>b).forEach(b=>g.append("index",b));let T=g.toString();h.search=T?`?${T}`:""}}return(!a||a===".")&&o.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:Ui([i,h.pathname])),Wl(h)}function Y1(a,{relative:e}={}){let i=K.useContext(Y_);re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=iv("useViewTransitionState"),o=ho(a,{relative:e});if(!i.isTransitioning)return!1;let h=Pi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Pi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return ic(o.pathname,d)!=null||ic(o.pathname,h)!=null}function rv(){const a=Sc(),e={cursor:"pointer"};return ct.jsx("div",{className:"header",children:ct.jsx("h1",{style:e,onClick:()=>a("/"),children:"Anonymous Letter"})})}function K1({color:a,recipient:e,message:i}){const s={padding:"5px",height:"400px",width:"400px",border:"solid 5px black",display:"flex",flexDirection:"column",flexShrink:"0",boxSizing:"border-box",borderRadius:"10px"},o={fontFamily:"Arial, Helvetica, sans-serif",wordWrap:"break-word",whiteSpace:"pre-wrap",margin:"5px",fontSize:"1.46rem",overflowWrap:"break-word"},h={backgroundColor:a,height:"100%",border:"solid 1px black",overflow:"auto"},d={padding:"10px"};return ct.jsxs("div",{style:s,children:[ct.jsxs("h1",{style:d,children:["to: ",e]}),ct.jsx("hr",{}),ct.jsx("div",{style:h,children:ct.jsx("h2",{style:o,children:i})})]})}const X1=()=>{};var xy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},Z1=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,y=o+2<a.length,p=y?a[o+2]:0,T=h>>2,b=(h&3)<<4|g>>4;let C=(g&15)<<2|p>>6,q=p&63;y||(q=64,d||(C=64)),s.push(i[T],i[b],i[C],i[q])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(av(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):Z1(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const b=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||p==null||b==null)throw new $1;const C=h<<2|g>>4;if(s.push(C),p!==64){const q=g<<4&240|p>>2;if(s.push(q),b!==64){const G=p<<6&192|b;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class $1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J1=function(a){const e=av(a);return sv.encodeByteArray(e,!0)},rc=function(a){return J1(a).replace(/\./g,"")},W1=function(a){try{return sv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=()=>tS().__FIREBASE_DEFAULTS__,nS=()=>{if(typeof process>"u"||typeof xy>"u")return;const a=xy.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},iS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&W1(a[1]);return e&&JSON.parse(e)},Od=()=>{try{return X1()||eS()||nS()||iS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},rS=a=>Od()?.emulatorHosts?.[a],aS=a=>{const e=rS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},lv=()=>Od()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lS(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[rc(JSON.stringify(i)),rc(JSON.stringify(d)),""].join(".")}const Kl={};function uS(){const a={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?a.emulator.push(e):a.prod.push(e);return a}function cS(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let Uy=!1;function hS(a,e){if(typeof window>"u"||typeof document>"u"||!Md(window.location.host)||Kl[a]===e||Kl[a]||Uy)return;Kl[a]=e;function i(C){return`__firebase__banner__${C}`}const s="__firebase__banner",h=uS().prod.length>0;function d(){const C=document.getElementById(s);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,q){C.setAttribute("width","24"),C.setAttribute("id",q),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function p(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Uy=!0,d()},C}function T(C,q){C.setAttribute("id",q),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=cS(s),q=i("text"),G=document.getElementById(q)||document.createElement("span"),X=i("learnmore"),H=document.getElementById(X)||document.createElement("a"),J=i("preprendIcon"),st=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const it=C.element;g(it),T(H,X);const At=p();y(st,J),it.append(st,G,H,At),document.body.appendChild(it)}h?(G.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dS(){const a=Od()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mS(){return!dS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gS(){try{return typeof indexedDB=="object"}catch{return!1}}function pS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="FirebaseError";class Vs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=yS,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ov.prototype.create)}}class ov{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?_S(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Vs(o,g,s)}}function _S(a,e){return a.replace(vS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const vS=/\{\$([^}]+)}/g;function ac(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(Ly(h)&&Ly(d)){if(!ac(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Ly(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(a){return a&&a._delegate?a._delegate:a}class eo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new sS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SS(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:TS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(a){return a===fa?void 0:a}function SS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ES(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Pt||(Pt={}));const bS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},RS=Pt.INFO,wS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},CS=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=wS[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uv{constructor(e){this.name=e,this._logLevel=RS,this._logHandler=CS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const DS=(a,e)=>e.some(i=>a instanceof i);let Py,zy;function VS(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IS(){return zy||(zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cv=new WeakMap,ad=new WeakMap,hv=new WeakMap,Yf=new WeakMap,xd=new WeakMap;function NS(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(_r(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&cv.set(i,a)}).catch(()=>{}),xd.set(e,a),e}function OS(a){if(ad.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});ad.set(a,e)}let sd={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return ad.get(a);if(e==="objectStoreNames")return a.objectStoreNames||hv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function MS(a){sd=a(sd)}function xS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(Kf(this),e,...i);return hv.set(s,e.sort?e.sort():[e]),_r(s)}:IS().includes(a)?function(...e){return a.apply(Kf(this),e),_r(cv.get(this))}:function(...e){return _r(a.apply(Kf(this),e))}}function US(a){return typeof a=="function"?xS(a):(a instanceof IDBTransaction&&OS(a),DS(a,VS())?new Proxy(a,sd):a)}function _r(a){if(a instanceof IDBRequest)return NS(a);if(Yf.has(a))return Yf.get(a);const e=US(a);return e!==a&&(Yf.set(a,e),xd.set(e,a)),e}const Kf=a=>xd.get(a);function LS(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=_r(d);return s&&d.addEventListener("upgradeneeded",y=>{s(_r(d.result),y.oldVersion,y.newVersion,_r(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const PS=["get","getKey","getAll","getAllKeys","count"],zS=["put","add","delete","clear"],Xf=new Map;function ky(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Xf.get(e))return Xf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=zS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||PS.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return Xf.set(e,h),h}MS(a=>({...a,get:(e,i,s)=>ky(e,i)||a.get(e,i,s),has:(e,i)=>!!ky(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function BS(a){return a.getComponent()?.type==="VERSION"}const ld="@firebase/app",By="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new uv("@firebase/app"),qS="@firebase/app-compat",jS="@firebase/analytics-compat",HS="@firebase/analytics",GS="@firebase/app-check-compat",FS="@firebase/app-check",QS="@firebase/auth",YS="@firebase/auth-compat",KS="@firebase/database",XS="@firebase/data-connect",ZS="@firebase/database-compat",$S="@firebase/functions",JS="@firebase/functions-compat",WS="@firebase/installations",tA="@firebase/installations-compat",eA="@firebase/messaging",nA="@firebase/messaging-compat",iA="@firebase/performance",rA="@firebase/performance-compat",aA="@firebase/remote-config",sA="@firebase/remote-config-compat",lA="@firebase/storage",oA="@firebase/storage-compat",uA="@firebase/firestore",cA="@firebase/ai",hA="@firebase/firestore-compat",fA="firebase",dA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="[DEFAULT]",mA={[ld]:"fire-core",[qS]:"fire-core-compat",[HS]:"fire-analytics",[jS]:"fire-analytics-compat",[FS]:"fire-app-check",[GS]:"fire-app-check-compat",[QS]:"fire-auth",[YS]:"fire-auth-compat",[KS]:"fire-rtdb",[XS]:"fire-data-connect",[ZS]:"fire-rtdb-compat",[$S]:"fire-fn",[JS]:"fire-fn-compat",[WS]:"fire-iid",[tA]:"fire-iid-compat",[eA]:"fire-fcm",[nA]:"fire-fcm-compat",[iA]:"fire-perf",[rA]:"fire-perf-compat",[aA]:"fire-rc",[sA]:"fire-rc-compat",[lA]:"fire-gcs",[oA]:"fire-gcs-compat",[uA]:"fire-fst",[hA]:"fire-fst-compat",[cA]:"fire-vertex","fire-js":"fire-js",[fA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,gA=new Map,ud=new Map;function qy(a,e){try{a.container.addComponent(e)}catch(i){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function lc(a){const e=a.name;if(ud.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;ud.set(e,a);for(const i of sc.values())qy(i,a);for(const i of gA.values())qy(i,a);return!0}function pA(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function yA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new ov("app","Firebase",_A);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=dA;function fv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:od,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw vr.create("bad-app-name",{appName:String(o)});if(i||(i=lv()),!i)throw vr.create("no-options");const h=sc.get(o);if(h){if(ac(i,h.options)&&ac(s,h.config))return h;throw vr.create("duplicate-app",{appName:o})}const d=new AS(o);for(const y of ud.values())d.addComponent(y);const g=new vA(i,s,d);return sc.set(o,g),g}function TA(a=od){const e=sc.get(a);if(!e&&a===od&&lv())return fv();if(!e)throw vr.create("no-app",{appName:a});return e}function _s(a,e,i){let s=mA[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(d.join(" "));return}lc(new eo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firebase-heartbeat-database",AA=1,no="firebase-heartbeat-store";let Zf=null;function dv(){return Zf||(Zf=LS(SA,AA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(no)}catch(i){console.warn(i)}}}}).catch(a=>{throw vr.create("idb-open",{originalErrorMessage:a.message})})),Zf}async function bA(a){try{const i=(await dv()).transaction(no),s=await i.objectStore(no).get(mv(a));return await i.done,s}catch(e){if(e instanceof Vs)zi.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e?.message});zi.warn(i.message)}}}async function jy(a,e){try{const s=(await dv()).transaction(no,"readwrite");await s.objectStore(no).put(e,mv(a)),await s.done}catch(i){if(i instanceof Vs)zi.warn(i.message);else{const s=vr.create("idb-set",{originalErrorMessage:i?.message});zi.warn(s.message)}}}function mv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA=1024,wA=30;class CA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new VA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>wA){const o=IA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Hy(),{heartbeatsToSend:i,unsentEntries:s}=DA(this._heartbeatsCache.heartbeats),o=rc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return zi.warn(e),""}}}function Hy(){return new Date().toISOString().substring(0,10)}function DA(a,e=RA){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Gy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Gy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class VA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gS()?pS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gy(a){return rc(JSON.stringify({version:2,heartbeats:a})).length}function IA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(a){lc(new eo("platform-logger",e=>new kS(e),"PRIVATE")),lc(new eo("heartbeat",e=>new CA(e),"PRIVATE")),_s(ld,By,a),_s(ld,By,"esm2020"),_s("fire-js","")}NA("");var OA="firebase",MA="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(OA,MA,"app");var Fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,gv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function w(){}w.prototype=A.prototype,O.D=A.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(N,M,U){for(var D=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)D[xe-2]=arguments[xe];return A.prototype[M].apply(N,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,w){w||(w=0);var N=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)N[M]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(M=0;16>M;++M)N[M]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=O.g[0],w=O.g[1],M=O.g[2];var U=O.g[3],D=A+(U^w&(M^U))+N[0]+3614090360&4294967295;A=w+(D<<7&4294967295|D>>>25),D=U+(M^A&(w^M))+N[1]+3905402710&4294967295,U=A+(D<<12&4294967295|D>>>20),D=M+(w^U&(A^w))+N[2]+606105819&4294967295,M=U+(D<<17&4294967295|D>>>15),D=w+(A^M&(U^A))+N[3]+3250441966&4294967295,w=M+(D<<22&4294967295|D>>>10),D=A+(U^w&(M^U))+N[4]+4118548399&4294967295,A=w+(D<<7&4294967295|D>>>25),D=U+(M^A&(w^M))+N[5]+1200080426&4294967295,U=A+(D<<12&4294967295|D>>>20),D=M+(w^U&(A^w))+N[6]+2821735955&4294967295,M=U+(D<<17&4294967295|D>>>15),D=w+(A^M&(U^A))+N[7]+4249261313&4294967295,w=M+(D<<22&4294967295|D>>>10),D=A+(U^w&(M^U))+N[8]+1770035416&4294967295,A=w+(D<<7&4294967295|D>>>25),D=U+(M^A&(w^M))+N[9]+2336552879&4294967295,U=A+(D<<12&4294967295|D>>>20),D=M+(w^U&(A^w))+N[10]+4294925233&4294967295,M=U+(D<<17&4294967295|D>>>15),D=w+(A^M&(U^A))+N[11]+2304563134&4294967295,w=M+(D<<22&4294967295|D>>>10),D=A+(U^w&(M^U))+N[12]+1804603682&4294967295,A=w+(D<<7&4294967295|D>>>25),D=U+(M^A&(w^M))+N[13]+4254626195&4294967295,U=A+(D<<12&4294967295|D>>>20),D=M+(w^U&(A^w))+N[14]+2792965006&4294967295,M=U+(D<<17&4294967295|D>>>15),D=w+(A^M&(U^A))+N[15]+1236535329&4294967295,w=M+(D<<22&4294967295|D>>>10),D=A+(M^U&(w^M))+N[1]+4129170786&4294967295,A=w+(D<<5&4294967295|D>>>27),D=U+(w^M&(A^w))+N[6]+3225465664&4294967295,U=A+(D<<9&4294967295|D>>>23),D=M+(A^w&(U^A))+N[11]+643717713&4294967295,M=U+(D<<14&4294967295|D>>>18),D=w+(U^A&(M^U))+N[0]+3921069994&4294967295,w=M+(D<<20&4294967295|D>>>12),D=A+(M^U&(w^M))+N[5]+3593408605&4294967295,A=w+(D<<5&4294967295|D>>>27),D=U+(w^M&(A^w))+N[10]+38016083&4294967295,U=A+(D<<9&4294967295|D>>>23),D=M+(A^w&(U^A))+N[15]+3634488961&4294967295,M=U+(D<<14&4294967295|D>>>18),D=w+(U^A&(M^U))+N[4]+3889429448&4294967295,w=M+(D<<20&4294967295|D>>>12),D=A+(M^U&(w^M))+N[9]+568446438&4294967295,A=w+(D<<5&4294967295|D>>>27),D=U+(w^M&(A^w))+N[14]+3275163606&4294967295,U=A+(D<<9&4294967295|D>>>23),D=M+(A^w&(U^A))+N[3]+4107603335&4294967295,M=U+(D<<14&4294967295|D>>>18),D=w+(U^A&(M^U))+N[8]+1163531501&4294967295,w=M+(D<<20&4294967295|D>>>12),D=A+(M^U&(w^M))+N[13]+2850285829&4294967295,A=w+(D<<5&4294967295|D>>>27),D=U+(w^M&(A^w))+N[2]+4243563512&4294967295,U=A+(D<<9&4294967295|D>>>23),D=M+(A^w&(U^A))+N[7]+1735328473&4294967295,M=U+(D<<14&4294967295|D>>>18),D=w+(U^A&(M^U))+N[12]+2368359562&4294967295,w=M+(D<<20&4294967295|D>>>12),D=A+(w^M^U)+N[5]+4294588738&4294967295,A=w+(D<<4&4294967295|D>>>28),D=U+(A^w^M)+N[8]+2272392833&4294967295,U=A+(D<<11&4294967295|D>>>21),D=M+(U^A^w)+N[11]+1839030562&4294967295,M=U+(D<<16&4294967295|D>>>16),D=w+(M^U^A)+N[14]+4259657740&4294967295,w=M+(D<<23&4294967295|D>>>9),D=A+(w^M^U)+N[1]+2763975236&4294967295,A=w+(D<<4&4294967295|D>>>28),D=U+(A^w^M)+N[4]+1272893353&4294967295,U=A+(D<<11&4294967295|D>>>21),D=M+(U^A^w)+N[7]+4139469664&4294967295,M=U+(D<<16&4294967295|D>>>16),D=w+(M^U^A)+N[10]+3200236656&4294967295,w=M+(D<<23&4294967295|D>>>9),D=A+(w^M^U)+N[13]+681279174&4294967295,A=w+(D<<4&4294967295|D>>>28),D=U+(A^w^M)+N[0]+3936430074&4294967295,U=A+(D<<11&4294967295|D>>>21),D=M+(U^A^w)+N[3]+3572445317&4294967295,M=U+(D<<16&4294967295|D>>>16),D=w+(M^U^A)+N[6]+76029189&4294967295,w=M+(D<<23&4294967295|D>>>9),D=A+(w^M^U)+N[9]+3654602809&4294967295,A=w+(D<<4&4294967295|D>>>28),D=U+(A^w^M)+N[12]+3873151461&4294967295,U=A+(D<<11&4294967295|D>>>21),D=M+(U^A^w)+N[15]+530742520&4294967295,M=U+(D<<16&4294967295|D>>>16),D=w+(M^U^A)+N[2]+3299628645&4294967295,w=M+(D<<23&4294967295|D>>>9),D=A+(M^(w|~U))+N[0]+4096336452&4294967295,A=w+(D<<6&4294967295|D>>>26),D=U+(w^(A|~M))+N[7]+1126891415&4294967295,U=A+(D<<10&4294967295|D>>>22),D=M+(A^(U|~w))+N[14]+2878612391&4294967295,M=U+(D<<15&4294967295|D>>>17),D=w+(U^(M|~A))+N[5]+4237533241&4294967295,w=M+(D<<21&4294967295|D>>>11),D=A+(M^(w|~U))+N[12]+1700485571&4294967295,A=w+(D<<6&4294967295|D>>>26),D=U+(w^(A|~M))+N[3]+2399980690&4294967295,U=A+(D<<10&4294967295|D>>>22),D=M+(A^(U|~w))+N[10]+4293915773&4294967295,M=U+(D<<15&4294967295|D>>>17),D=w+(U^(M|~A))+N[1]+2240044497&4294967295,w=M+(D<<21&4294967295|D>>>11),D=A+(M^(w|~U))+N[8]+1873313359&4294967295,A=w+(D<<6&4294967295|D>>>26),D=U+(w^(A|~M))+N[15]+4264355552&4294967295,U=A+(D<<10&4294967295|D>>>22),D=M+(A^(U|~w))+N[6]+2734768916&4294967295,M=U+(D<<15&4294967295|D>>>17),D=w+(U^(M|~A))+N[13]+1309151649&4294967295,w=M+(D<<21&4294967295|D>>>11),D=A+(M^(w|~U))+N[4]+4149444226&4294967295,A=w+(D<<6&4294967295|D>>>26),D=U+(w^(A|~M))+N[11]+3174756917&4294967295,U=A+(D<<10&4294967295|D>>>22),D=M+(A^(U|~w))+N[2]+718787259&4294967295,M=U+(D<<15&4294967295|D>>>17),D=w+(U^(M|~A))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var w=A-this.blockSize,N=this.B,M=this.h,U=0;U<A;){if(M==0)for(;U<=w;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<A;)if(N[M++]=O.charCodeAt(U++),M==this.blockSize){o(this,N),M=0;break}}else for(;U<A;)if(N[M++]=O[U++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=A},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var w=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=w&255,w/=256;for(this.u(O),O=Array(16),A=w=0;4>A;++A)for(var N=0;32>N;N+=8)O[w++]=this.g[A]>>>N&255;return O};function h(O,A){var w=g;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=A(O)}function d(O,A){this.h=A;for(var w=[],N=!0,M=O.length-1;0<=M;M--){var U=O[M]|0;N&&U==A||(w[M]=U,N=!1)}this.g=w}var g={};function y(O){return-128<=O&&128>O?h(O,function(A){return new d([A|0],0>A?-1:0)}):new d([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return H(p(-O));for(var A=[],w=1,N=0;O>=w;N++)A[N]=O/w|0,w*=4294967296;return new d(A,0)}function T(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return H(T(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=p(Math.pow(A,8)),N=b,M=0;M<O.length;M+=8){var U=Math.min(8,O.length-M),D=parseInt(O.substring(M,M+U),A);8>U?(U=p(Math.pow(A,U)),N=N.j(U).add(p(D))):(N=N.j(w),N=N.add(p(D)))}return N}var b=y(0),C=y(1),q=y(16777216);a=d.prototype,a.m=function(){if(X(this))return-H(this).m();for(var O=0,A=1,w=0;w<this.g.length;w++){var N=this.i(w);O+=(0<=N?N:4294967296+N)*A,A*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(G(this))return"0";if(X(this))return"-"+H(this).toString(O);for(var A=p(Math.pow(O,6)),w=this,N="";;){var M=At(w,A).g;w=J(w,M.j(A));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=M,G(w))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function G(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function X(O){return O.h==-1}a.l=function(O){return O=J(this,O),X(O)?-1:G(O)?0:1};function H(O){for(var A=O.g.length,w=[],N=0;N<A;N++)w[N]=~O.g[N];return new d(w,~O.h).add(C)}a.abs=function(){return X(this)?H(this):this},a.add=function(O){for(var A=Math.max(this.g.length,O.g.length),w=[],N=0,M=0;M<=A;M++){var U=N+(this.i(M)&65535)+(O.i(M)&65535),D=(U>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);N=D>>>16,U&=65535,D&=65535,w[M]=D<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function J(O,A){return O.add(H(A))}a.j=function(O){if(G(this)||G(O))return b;if(X(this))return X(O)?H(this).j(H(O)):H(H(this).j(O));if(X(O))return H(this.j(H(O)));if(0>this.l(q)&&0>O.l(q))return p(this.m()*O.m());for(var A=this.g.length+O.g.length,w=[],N=0;N<2*A;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<O.g.length;M++){var U=this.i(N)>>>16,D=this.i(N)&65535,xe=O.i(M)>>>16,se=O.i(M)&65535;w[2*N+2*M]+=D*se,st(w,2*N+2*M),w[2*N+2*M+1]+=U*se,st(w,2*N+2*M+1),w[2*N+2*M+1]+=D*xe,st(w,2*N+2*M+1),w[2*N+2*M+2]+=U*xe,st(w,2*N+2*M+2)}for(N=0;N<A;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=A;N<2*A;N++)w[N]=0;return new d(w,0)};function st(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function it(O,A){this.g=O,this.h=A}function At(O,A){if(G(A))throw Error("division by zero");if(G(O))return new it(b,b);if(X(O))return A=At(H(O),A),new it(H(A.g),H(A.h));if(X(A))return A=At(O,H(A)),new it(H(A.g),A.h);if(30<O.g.length){if(X(O)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var w=C,N=A;0>=N.l(O);)w=ft(w),N=ft(N);var M=Ot(w,1),U=Ot(N,1);for(N=Ot(N,2),w=Ot(w,2);!G(N);){var D=U.add(N);0>=D.l(O)&&(M=M.add(w),U=D),N=Ot(N,1),w=Ot(w,1)}return A=J(O,M.j(A)),new it(M,A)}for(M=b;0<=O.l(A);){for(w=Math.max(1,Math.floor(O.m()/A.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=p(w),D=U.j(A);X(D)||0<D.l(O);)w-=N,U=p(w),D=U.j(A);G(U)&&(U=C),M=M.add(U),O=J(O,D)}return new it(M,O)}a.A=function(O){return At(this,O).h},a.and=function(O){for(var A=Math.max(this.g.length,O.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)&O.i(N);return new d(w,this.h&O.h)},a.or=function(O){for(var A=Math.max(this.g.length,O.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)|O.i(N);return new d(w,this.h|O.h)},a.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),w=[],N=0;N<A;N++)w[N]=this.i(N)^O.i(N);return new d(w,this.h^O.h)};function ft(O){for(var A=O.g.length+1,w=[],N=0;N<A;N++)w[N]=O.i(N)<<1|O.i(N-1)>>>31;return new d(w,O.h)}function Ot(O,A){var w=A>>5;A%=32;for(var N=O.g.length-w,M=[],U=0;U<N;U++)M[U]=0<A?O.i(U+w)>>>A|O.i(U+w+1)<<32-A:O.i(U+w);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,Er=d}).apply(typeof Fy<"u"?Fy:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pv,Fl,yv,$u,cd,_v,vv,Ev;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in _))break t;_=_[L]}u=u[u.length-1],S=_[u],m=m(S),m!=S&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var _=0,S=!1,L={next:function(){if(!S&&_<u.length){var j=_++;return{value:m(j,u[j]),done:!1}}return S=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function b(u,m,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,S),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function C(u,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,C.apply(null,arguments)}function q(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function G(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,L,j){for(var nt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)nt[Mt-2]=arguments[Mt];return m.prototype[L].apply(S,nt)}}function X(u){const m=u.length;if(0<m){const _=Array(m);for(let S=0;S<m;S++)_[S]=u[S];return _}return[]}function H(u,m){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(y(S)){const L=u.length||0,j=S.length||0;u.length=L+j;for(let nt=0;nt<j;nt++)u[L+nt]=S[nt]}else u.push(S)}}class J{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){return/^[\s\xa0]*$/.test(u)}function it(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function At(u){return At[" "](u),u}At[" "]=function(){};var ft=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function Ot(u,m,_){for(const S in u)m.call(_,u[S],S,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function A(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let _,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(_ in S)u[_]=S[_];for(let j=0;j<w.length;j++)_=w[j],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function M(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function U(u){g.setTimeout(()=>{throw u},0)}function D(){var u=kt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class xe{constructor(){this.h=this.g=null}add(m,_){const S=se.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var se=new J(()=>new F,u=>u.reset());class F{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,dt=!1,kt=new xe,V=()=>{const u=g.Promise.resolve(void 0);rt=()=>{u.then(W)}};var W=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){U(_)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}dt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var mt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function wt(u,m){if(et.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ft){t:{try{At(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Et[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}G(wt,et);var Et={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),$t=0;function zn(u,m,_,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=L,this.key=++$t,this.da=this.fa=!1}function ji(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ui(u){this.src=u,this.g={},this.h=0}ui.prototype.add=function(u,m,_,S,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var nt=Ir(u,m,S,L);return-1<nt?(m=u[nt],_||(m.fa=!1)):(m=new zn(m,this.src,j,!!S,L),m.fa=_,u.push(m)),m};function Vr(u,m){var _=m.type;if(_ in u.g){var S=u.g[_],L=Array.prototype.indexOf.call(S,m,void 0),j;(j=0<=L)&&Array.prototype.splice.call(S,L,1),j&&(ji(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ir(u,m,_,S){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==S)return L}return-1}var Nr="closure_lm_"+(1e6*Math.random()|0),xs={};function _o(u,m,_,S,L){if(Array.isArray(m)){for(var j=0;j<m.length;j++)_o(u,m[j],_,S,L);return null}return _=vo(_),u&&u[Ce]?u.K(m,_,p(S)?!!S.capture:!1,L):mn(u,m,_,!1,S,L)}function mn(u,m,_,S,L,j){if(!m)throw Error("Invalid event type");var nt=p(L)?!!L.capture:!!L,Mt=Aa(u);if(Mt||(u[Nr]=Mt=new ui(u)),_=Mt.add(m,_,S,nt,j),_.proxy)return _;if(S=zc(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)mt||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(Or(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function zc(){function u(_){return m.call(u.src,u.listener,_)}const m=kc;return u}function Us(u,m,_,S,L){if(Array.isArray(m))for(var j=0;j<m.length;j++)Us(u,m[j],_,S,L);else S=p(S)?!!S.capture:!!S,_=vo(_),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],_=Ir(j,_,S,L),-1<_&&(ji(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Aa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ir(m,_,S,L)),(_=-1<u?m[u]:null)&&Sa(_))}function Sa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Vr(m.i,u);else{var _=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(_,S,u.capture):m.detachEvent?m.detachEvent(Or(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=Aa(m))?(Vr(_,u),_.h==0&&(_.src=null,m[Nr]=null)):ji(u)}}}function Or(u){return u in xs?xs[u]:xs[u]="on"+u}function kc(u,m){if(u.da)u=!0;else{m=new wt(m,this);var _=u.listener,S=u.ha||u.src;u.fa&&Sa(u),u=_.call(S,m)}return u}function Aa(u){return u=u[Nr],u instanceof ui?u:null}var Ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function vo(u){return typeof u=="function"?u:(u[Ls]||(u[Ls]=function(m){return u.handleEvent(m)}),u[Ls])}function le(){at.call(this),this.i=new ui(this),this.M=this,this.F=null}G(le,at),le.prototype[Ce]=!0,le.prototype.removeEventListener=function(u,m,_,S){Us(this,u,m,_,S)};function Ht(u,m){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new et(m,u);else if(m instanceof et)m.target=m.target||u;else{var L=m;m=new et(S,u),N(m,L)}if(L=!0,_)for(var j=_.length-1;0<=j;j--){var nt=m.g=_[j];L=an(nt,S,!0,m)&&L}if(nt=m.g=u,L=an(nt,S,!0,m)&&L,L=an(nt,S,!1,m)&&L,_)for(j=0;j<_.length;j++)nt=m.g=_[j],L=an(nt,S,!1,m)&&L}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],S=0;S<_.length;S++)ji(_[S]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,_,S){return this.i.add(String(u),m,!1,_,S)},le.prototype.L=function(u,m,_,S){return this.i.add(String(u),m,!0,_,S)};function an(u,m,_,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,j=0;j<m.length;++j){var nt=m[j];if(nt&&!nt.da&&nt.capture==_){var Mt=nt.listener,Te=nt.ha||nt.src;nt.fa&&Vr(u.i,nt),L=Mt.call(Te,S)!==!1&&L}}return L&&!S.defaultPrevented}function Ge(u,m,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Eo(u){u.g=Ge(()=>{u.g=null,u.i&&(u.i=!1,Eo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Bc extends at{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){at.call(this),this.h=u,this.g={}}G(Mr,at);var xr=[];function Ur(u){Ot(u.g,function(m,_){this.g.hasOwnProperty(_)&&Sa(m)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Ur(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=g.JSON.stringify,ba=g.JSON.parse,Lr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ps(){}Ps.prototype.h=null;function zs(u){return u.h||(u.h=u.i())}function ks(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){et.call(this,"d")}G(hi,et);function Bs(){et.call(this,"c")}G(Bs,et);var kn={},qs=null;function Hi(){return qs=qs||new le}kn.La="serverreachability";function Ra(u){et.call(this,kn.La,u)}G(Ra,et);function Gi(u){const m=Hi();Ht(m,new Ra(m))}kn.STAT_EVENT="statevent";function To(u,m){et.call(this,kn.STAT_EVENT,u),this.stat=m}G(To,et);function ee(u){const m=Hi();Ht(m,new To(m,u))}kn.Ma="timingevent";function Ee(u,m){et.call(this,kn.Ma,u),this.size=m}G(Ee,et);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function js(u,m,_,S,L,j){u.info(function(){if(u.g)if(j)for(var nt="",Mt=j.split("&"),Te=0;Te<Mt.length;Te++){var xt=Mt[Te].split("=");if(1<xt.length){var Ve=xt[0];xt=xt[1];var Se=Ve.split("_");nt=2<=Se.length&&Se[1]=="type"?nt+(Ve+"="+xt+"&"):nt+(Ve+"=redacted&")}}else nt=null;else nt=j;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+_+`
`+nt})}function qc(u,m,_,S,L,j,nt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+_+`
`+j+" "+nt})}function Fi(u,m,_,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Pr(u,_)+(S?" "+S:"")})}function So(u,m){u.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Pr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var L=S[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var nt=1;nt<L.length;nt++)L[nt]=""}}}}return In(_)}catch{return m}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bn;function qn(){}G(qn,Ps),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},Bn=new qn;function Ze(u,m,_,S){this.j=u,this.i=m,this.l=_,this.R=S||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Hs={},wa={};function Nn(u,m,_){u.L=1,u.v=jr(sn(m)),u.m=_,u.P=!0,di(u,null)}function di(u,m){u.F=Date.now(),zr(u),u.A=sn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Xs(_.i,"t",S),u.C=0,_=u.j.J,u.h=new ce,u.g=zo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Bc(C(u.Y,u,u.g),u.O)),m=u.U,_=u.g,S=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(xr[0]=L.toString()),L=xr);for(var j=0;j<L.length;j++){var nt=_o(_,L[j],S||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Gi(),js(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Se=vn(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Io(this.g)))){this.J||Se!=4||m==7||(m==8||0>=Ti?Gi(3):Gi(2)),Yi(this);var _=this.g.Z();this.X=_;e:if(Ao(this)){var S=Io(this.g);u="";var L=S.length,j=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),jn(this);var nt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(j&&m==L-1)});S.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,qc(this.i,this.u,this.A,this.l,this.R,Se,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Te=this.g;if((Mt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(Mt)){var xt=Mt;break e}}xt=null}if(_=xt)Fi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kr(this,_);else{this.o=!1,this.s=3,ee(12),Ue(this),jn(this);break t}}if(this.P){_=!0;let Le;for(;!this.J&&this.C<nt.length;)if(Le=bo(this,nt),Le==wa){Se==4&&(this.s=4,ee(14),_=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Hs){this.s=4,ee(15),Fi(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else Fi(this.i,this.l,Le,null),kr(this,Le);if(Ao(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||nt.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)Fi(this.i,this.l,nt,"[Invalid Chunked Response]"),Ue(this),jn(this);else if(0<nt.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),Zr(Ve),Ve.M=!0,ee(11))}}else Fi(this.i,this.l,nt,null),kr(this,nt);Se==4&&Ue(this),this.o&&!this.J&&(Se==4?Uo(this.j,this):(this.o=!1,zr(this)))}else Qc(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Ue(this),jn(this)}}}catch{}finally{}};function Ao(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bo(u,m){var _=u.C,S=m.indexOf(`
`,_);return S==-1?wa:(_=Number(m.substring(_,S)),isNaN(_)?Hs:(S+=1,S+_>m.length?wa:(m=m.slice(S,S+_),u.C=S+_,m)))}Ze.prototype.cancel=function(){this.J=!0,Ue(this)};function zr(u){u.S=Date.now()+u.I,Ro(u,u.I)}function Ro(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(C(u.ba,u),m)}function Yi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(So(this.i,this.A),this.L!=2&&(Gi(),ee(17)),Ue(this),this.s=2,jn(this)):Ro(this,this.S-u)};function jn(u){u.j.G==0||u.J||Uo(u.j,u)}function Ue(u){Yi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ur(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function kr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Gs(_.h,u))){if(!u.K&&Gs(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)za(_),La(_);else break t;tl(_),ee(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=me(C(_.Za,_),6e3));if(1>=Da(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((u.K||_.g==u)&&za(_),!st(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let xt=L[m];if(_.T=xt[0],xt=xt[1],_.G==2)if(xt[0]=="c"){_.K=xt[1],_.ia=xt[2];const Ve=xt[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const Se=xt[4];Se!=null&&(_.Aa=Se,_.j.info("SVER="+_.Aa));const Ti=xt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(S=1.5*Ti,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Le=u.g;if(Le){const Xn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var j=S.h;j.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Va(j,j.h),j.h=null))}if(S.D){const nl=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(S.ya=nl,Qt(S.I,S.D,nl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var nt=u;if(S.qa=Po(S,S.J?S.ia:null,S.W),nt.K){$e(S.h,nt);var Mt=nt,Te=S.L;Te&&(Mt.I=Te),Mt.B&&(Yi(Mt),zr(Mt)),S.g=nt}else Mo(S);0<_.i.length&&Pa(_)}else xt[0]!="stop"&&xt[0]!="close"||Ei(_,7);else _.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ei(_,7):Js(_):xt[0]!="noop"&&_.l&&_.l.ta(xt),_.v=0)}}Gi(4)}catch{}}var wo=class{constructor(u,m){this.g=u,this.map=m}};function mi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ca(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Da(u){return u.h?1:u.g?u.g.size:0}function Gs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Va(u,m){u.g?u.g.add(m):u.h=m}function $e(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mi.prototype.cancel=function(){if(this.i=Fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return X(u.i)}function jc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,S=0;S<_;S++)m.push(u[S]);return m}m=[],_=0;for(S in u)m[_++]=u[S];return m}function Ia(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const S in u)m[_++]=S;return m}}}function Qs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ia(u),S=jc(u),L=S.length,j=0;j<L;j++)m.call(void 0,S[j],_&&_[j],u)}var Br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),L=null;if(0<=S){var j=u[_].substring(0,S);L=u[_].substring(S+1)}else j=u[_];m(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,qr(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.s),this.l=u.l;var m=u.i,_=new pi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),gi(this,_),this.m=u.m}else u&&(m=String(u).match(Br))?(this.h=!1,qr(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),Ki(this,m[4]),this.l=pn(m[5]||"",!0),gi(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Hr(m,Ys,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Hr(m,Ys,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Hr(_,_.charAt(0)=="/"?Gc:Ks,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Hr(_,Na)),u.join("")};function sn(u){return new ge(u)}function qr(u,m,_){u.j=_?pn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gi(u,m,_){m instanceof pi?(u.i=m,Do(u.i,u.h)):(_||(m=Hr(m,Fc)),u.i=new pi(m,u.h))}function Qt(u,m,_){u.i.set(m,_)}function jr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Co),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Co(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ys=/[#\/\?@]/g,Ks=/[#\?:]/g,Gc=/[#\?]/g,Fc=/[#\?@]/g,Na=/#/g;function pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Hc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=pi.prototype,a.add=function(u,m){yn(this),this.i=null,u=Hn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function yi(u,m){yn(u),m=Hn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _i(u,m){return yn(u),m=Hn(u,m),u.g.has(m)}a.forEach=function(u,m){yn(this),this.g.forEach(function(_,S){_.forEach(function(L){u.call(m,L,S,this)},this)},this)},a.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let S=0;S<m.length;S++){const L=u[S];for(let j=0;j<L.length;j++)_.push(m[S])}return _},a.V=function(u){yn(this);let m=[];if(typeof u=="string")_i(this,u)&&(m=m.concat(this.g.get(Hn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return yn(this),this.i=null,u=Hn(this,u),_i(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Xs(u,m,_){yi(u,m),0<_.length&&(u.i=null,u.g.set(Hn(u,m),X(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var S=m[_];const j=encodeURIComponent(String(S)),nt=this.V(S);for(S=0;S<nt.length;S++){var L=j;nt[S]!==""&&(L+="="+encodeURIComponent(String(nt[S]))),u.push(L)}}return this.i=u.join("&")};function Hn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Do(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(_,S){var L=S.toLowerCase();S!=L&&(yi(this,S),Xs(this,L,_))},u)),u.j=m}function Gr(u,m){const _=new gn;if(g.Image){const S=new Image;S.onload=q(_n,_,"TestLoadImage: loaded",!0,m,S),S.onerror=q(_n,_,"TestLoadImage: error",!1,m,S),S.onabort=q(_n,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=q(_n,_,"TestLoadImage: timeout",!1,m,S),g.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function On(u,m){const _=new gn,S=new AbortController,L=setTimeout(()=>{S.abort(),_n(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(j=>{clearTimeout(L),j.ok?_n(_,"TestPingServer: ok",!0,m):_n(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),_n(_,"TestPingServer: error",!1,m)})}function _n(u,m,_,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(_)}catch{}}function Fr(){this.g=new Lr}function Gn(u,m,_){const S=_||"";try{Qs(u,function(L,j){let nt=L;p(L)&&(nt=In(L)),m.push(S+j+"="+encodeURIComponent(nt))})}catch(L){throw m.push(S+"type="+encodeURIComponent("_badmap")),L}}function Xi(u){this.l=u.Ub||null,this.j=u.eb||!1}G(Xi,Ps),Xi.prototype.g=function(){return new vi(this.l,this.j)},Xi.prototype.i=function(u){return function(){return u}}({});function vi(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}G(vi,le),a=vi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Qn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zs(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zs(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Qn(this),this.readyState==3&&Zs(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},a.Qa=function(u){this.g&&(this.response=u,Fn(this))},a.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $s(u){let m="";return Ot(u,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function De(u,m,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=$s(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Qt(u,m,_))}function qt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}G(qt,le);var Oa=/^https?$/i,Qr=["POST","PUT"];a=qt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bn.g(),this.v=this.o?zs(this.o):zs(Bn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Vo(this,j);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)_.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const j of S.keys())_.set(j,S.get(j));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Qr,m,void 0))||S||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,nt]of _)this.g.setRequestHeader(j,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yr(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Vo(this,j)}};function Vo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ma(u),Yn(u)}function Ma(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Yn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),qt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?xa(this):this.bb())},a.bb=function(){xa(this)};function xa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)Ge(u.Ea,0,u);else if(Ht(u,"readystatechange"),vn(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var S;if(S=nt===0){var L=String(u.D).match(Br)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),S=!Oa.test(L?L.toLowerCase():"")}_=S}if(_)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var j=2<vn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Ma(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){Yr(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{_.onreadystatechange=S}catch{}}}function Yr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ba(m)}};function Io(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qc(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(st(u[S]))continue;var _=M(u[S]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[L]||[];m[L]=j,j.push(_)}O(m,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ua(u){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,u),this.cb=Kr("retryDelaySeedMs",1e4,u),this.Wa=Kr("forwardChannelMaxRetries",2,u),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(u&&u.concurrentRequestLimit),this.Da=new Fr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ua.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,S){ee(0),this.W=u,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Po(this,null,this.W),Pa(this)};function Js(u){if(No(u),u.G==3){var m=u.U++,_=sn(u.I);if(Qt(_,"SID",u.K),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),Xr(u,_),m=new Ze(u,u.j,m),m.L=2,m.v=jr(sn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=zo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),zr(m)}Lo(u)}function La(u){u.g&&(Zr(u),u.g.cancel(),u.g=null)}function No(u){La(u),u.u&&(g.clearTimeout(u.u),u.u=null),za(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Pa(u){if(!Ca(u.h)&&!u.s){u.s=!0;var m=u.Ga;rt||V(),dt||(rt(),dt=!0),kt.add(m,u),u.B=0}}function Yc(u,m){return Da(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(C(u.Ga,u,m),el(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Ze(this,this.j,u);let j=this.o;if(this.S&&(j?(j=A(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Oo(this,L,m),_=sn(this.I),Qt(_,"RID",u),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),Xr(this,_),j&&(this.O?m="headers="+encodeURIComponent(String($s(j)))+"&"+m:this.m&&De(_,this.m,j)),Va(this.h,L),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",m),Qt(_,"SID","null"),L.T=!0,Nn(L,_,null)):Nn(L,_,m),this.G=2}}else this.G==3&&(u?Ws(this,u):this.i.length==0||Ca(this.h)||Ws(this))};function Ws(u,m){var _;m?_=m.l:_=u.U++;const S=sn(u.I);Qt(S,"SID",u.K),Qt(S,"RID",_),Qt(S,"AID",u.T),Xr(u,S),u.m&&u.o&&De(S,u.m,u.o),_=new Ze(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Oo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Va(u.h,_),Nn(_,S,m)}function Xr(u,m){u.H&&Ot(u.H,function(_,S){Qt(m,S,_)}),u.l&&Qs({},function(_,S){Qt(m,S,_)})}function Oo(u,m,_){_=Math.min(u.i.length,_);var S=u.l?C(u.l.Na,u.l,u):null;t:{var L=u.i;let j=-1;for(;;){const nt=["count="+_];j==-1?0<_?(j=L[0].g,nt.push("ofs="+j)):j=0:nt.push("ofs="+j);let Mt=!0;for(let Te=0;Te<_;Te++){let xt=L[Te].g;const Ve=L[Te].map;if(xt-=j,0>xt)j=Math.max(0,L[Te].g-100),Mt=!1;else try{Gn(Ve,nt,"req"+xt+"_")}catch{S&&S(Ve)}}if(Mt){S=nt.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,S}function Mo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;rt||V(),dt||(rt(),dt=!0),kt.add(m,u),u.v=0}}function tl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(C(u.Fa,u),el(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(C(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),La(this),xo(this))};function Zr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function xo(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),Xr(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=jr(sn(m)),_.m=null,_.P=!0,di(_,u)}a.Za=function(){this.C!=null&&(this.C=null,La(this),tl(this),ee(19))};function za(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Uo(u,m){var _=null;if(u.g==m){za(u),Zr(u),u.g=null;var S=2}else if(Gs(u.h,m))_=m.D,$e(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;S=Hi(),Ht(S,new Ee(S,_)),Pa(u)}else Mo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(S==1&&Yc(u,m)||S==2&&tl(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function el(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=C(u.fb,u),S=u.Xa;const L=!S;S=new ge(S||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||qr(S,"https"),jr(S),L?Gr(S.toString(),_):On(S.toString(),_)}else ee(2);u.G=0,u.l&&u.l.sa(m),Lo(u),No(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Lo(u){if(u.G=0,u.ka=[],u.l){const m=Fs(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ka,m),H(u.ka,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.ra()}}function Po(u,m,_){var S=_ instanceof ge?sn(_):new ge(_);if(S.g!="")m&&(S.g=m+"."+S.g),Ki(S,S.s);else{var L=g.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var j=new ge(null);S&&qr(j,S),m&&(j.g=m),L&&Ki(j,L),_&&(j.l=_),S=j}return _=u.D,m=u.ya,_&&m&&Qt(S,_,m),Qt(S,"VER",u.la),Xr(u,S),S}function zo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Xi({eb:_})):new qt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ko(){}a=ko.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function ka(){}ka.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){le.call(this),this.g=new Ua(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!st(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!st(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}G(Je,le),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Js(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=In(u),u=_);m.i.push(new wo(m.Ya++,u)),m.G==3&&Pa(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,Je.aa.N.call(this)};function Bo(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}G(Bo,hi);function qo(){Bs.call(this),this.status=1}G(qo,Bs);function Kn(u){this.g=u}G(Kn,ko),Kn.prototype.ua=function(){Ht(this.g,"a")},Kn.prototype.ta=function(u){Ht(this.g,new Bo(u))},Kn.prototype.sa=function(u){Ht(this.g,new qo)},Kn.prototype.ra=function(){Ht(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,Ev=function(){return new ka},vv=function(){return Hi()},_v=kn,cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,$u=Qi,fi.COMPLETE="complete",yv=fi,ks.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",le.prototype.listen=le.prototype.K,Fl=ks,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,pv=qt}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const Qy="@firebase/firestore",Yy="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new uv("@firebase/firestore");function ms(){return ma.logLevel}function lt(a,...e){if(ma.logLevel<=Pt.DEBUG){const i=e.map(Ud);ma.debug(`Firestore (${Is}): ${a}`,...i)}}function ki(a,...e){if(ma.logLevel<=Pt.ERROR){const i=e.map(Ud);ma.error(`Firestore (${Is}): ${a}`,...i)}}function Ss(a,...e){if(ma.logLevel<=Pt.WARN){const i=e.map(Ud);ma.warn(`Firestore (${Is}): ${a}`,...i)}}function Ud(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Tv(a,s,i)}function Tv(a,e,i){let s=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw ki(s),new Error(s)}function jt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||Tv(e,o,s)}function St(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ke.UNAUTHENTICATED))}shutdown(){}}class UA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class LA{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let h=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Tr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=h;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Tr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new Sv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class PA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new PA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const s=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Ky(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=BA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function It(a,e){return a<e?-1:a>e?1:0}function hd(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),h=e.charAt(s);if(o!==h)return $f(o)===$f(h)?It(o,h):$f(o)?1:-1}return It(a.length,e.length)}const qA=55296,jA=57343;function $f(a){const e=a.charCodeAt(0);return e>=qA&&e<=jA}function As(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy="__name__";class ei{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&_t(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ei.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return It(e.length,i.length)}static compareSegments(e,i){const s=ei.isNumericId(e),o=ei.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ei.extractNumericId(e).compare(ei.extractNumericId(i)):hd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class Wt extends ei{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const HA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ei{construct(e,i,s){return new qe(e,i,s)}static isValidIdentifier(e){return HA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xy}static keyField(){return new qe([Xy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ut(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Wt.fromString(e))}static fromName(e){return new gt(Wt.fromString(e).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(a,e,i){if(!i)throw new ut(tt.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function GA(a,e,i,s){if(e===!0&&s===!0)throw new ut(tt.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Zy(a){if(!gt.isDocumentKey(a))throw new ut(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function $y(a){if(gt.isDocumentKey(a))throw new ut(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function bv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Pd(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":_t(12329,{type:typeof a})}function oc(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ut(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Pd(a);throw new ut(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(a,e){const i={typeString:a};return e&&(i.value=e),i}function fo(a,e){if(!bv(a))throw new ut(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ut(tt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-62135596800,Wy=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Wy);return new te(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Jy)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wy}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fo(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:ve("string",te._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(e){return new Tt(e)}static min(){return new Tt(new te(0,0))}static max(){return new Tt(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=-1;function FA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Ar(o,gt.empty(),e)}function QA(a){return new Ar(a.readTime,a.key,io)}class Ar{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ar(Tt.min(),gt.empty(),io)}static max(){return new Ar(Tt.max(),gt.empty(),io)}}function YA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:It(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(a){if(a.code!==tt.FAILED_PRECONDITION||a.message!==KA)throw a;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):$.reject(i)}static resolve(e){return new $((i,s)=>{i(e)})}static reject(e){return new $((i,s)=>{s(e)})}static waitFor(e){return new $((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},y=>s(y))}),d=!0,h===o&&i()})}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next(o=>o?$.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new $((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const p=y;i(e[p]).next(T=>{d[p]=T,++g,g===h&&s(d)},T=>o(T))}})}static doWhile(e,i){return new $((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function ZA(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Os(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=-1;function Rc(a){return a==null}function uc(a){return a===0&&1/a==-1/0}function $A(a){return typeof a=="number"&&Number.isInteger(a)&&!uc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="";function JA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=t_(e)),e=WA(a.get(i),e);return t_(e)}function WA(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case Rv:i+="";break;default:i+=h}}return i}function t_(a){return a+Rv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function _a(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function wv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new Be(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _t(27949);return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(e){return new n_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class n_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(qe.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new we(qe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Cv("Invalid base64 string: "+h):h}}(e);return new He(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new He(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const tb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(a){if(jt(!!a,39018),typeof a=="string"){let e=0;const i=tb.exec(a);if(jt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(a.seconds),nanos:de(a.nanos)}}function de(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Rr(a){return typeof a=="string"?He.fromBase64String(a):He.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="server_timestamp",Vv="__type__",Iv="__previous_value__",Nv="__local_write_time__";function kd(a){return(a?.mapValue?.fields||{})[Vv]?.stringValue===Dv}function wc(a){const e=a.mapValue.fields[Iv];return kd(e)?wc(e):e}function ro(a){const e=br(a.mapValue.fields[Nv].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,i,s,o,h,d,g,y,p,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=T}}const cc="(default)";class ao{constructor(e,i){this.projectId=e,this.database=i||cc}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===cc}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="__type__",nb="__max__",Fu={mapValue:{}},Mv="__vector__",hc="value";function wr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?kd(a)?4:rb(a)?9007199254740991:ib(a)?10:11:_t(28295,{value:a})}function si(a,e){if(a===e)return!0;const i=wr(a);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return ro(a).isEqual(ro(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=br(o.timestampValue),g=br(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Rr(o.bytesValue).isEqual(Rr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return de(o.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return de(o.integerValue)===de(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=de(o.doubleValue),g=de(h.doubleValue);return d===g?uc(d)===uc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return As(a.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(e_(d)!==e_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!si(d[y],g[y])))return!1;return!0}(a,e);default:return _t(52216,{left:a})}}function so(a,e){return(a.values||[]).find(i=>si(i,e))!==void 0}function bs(a,e){if(a===e)return 0;const i=wr(a),s=wr(e);if(i!==s)return It(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=de(h.integerValue||h.doubleValue),y=de(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(a,e);case 3:return i_(a.timestampValue,e.timestampValue);case 4:return i_(ro(a),ro(e));case 5:return hd(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Rr(h),y=Rr(d);return g.compareTo(y)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const T=It(g[p],y[p]);if(T!==0)return T}return It(g.length,y.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=It(de(h.latitude),de(d.latitude));return g!==0?g:It(de(h.longitude),de(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return r_(a.arrayValue,e.arrayValue);case 10:return function(h,d){const g=h.fields||{},y=d.fields||{},p=g[hc]?.arrayValue,T=y[hc]?.arrayValue,b=It(p?.values?.length||0,T?.values?.length||0);return b!==0?b:r_(p,T)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===Fu.mapValue&&d===Fu.mapValue)return 0;if(h===Fu.mapValue)return 1;if(d===Fu.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),p=d.fields||{},T=Object.keys(p);y.sort(),T.sort();for(let b=0;b<y.length&&b<T.length;++b){const C=hd(y[b],T[b]);if(C!==0)return C;const q=bs(g[y[b]],p[T[b]]);if(q!==0)return q}return It(y.length,T.length)}(a.mapValue,e.mapValue);default:throw _t(23264,{he:i})}}function i_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return It(a,e);const i=br(a),s=br(e),o=It(i.seconds,s.seconds);return o!==0?o:It(i.nanos,s.nanos)}function r_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=bs(i[o],s[o]);if(h)return h}return It(i.length,s.length)}function Rs(a){return fd(a)}function fd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=br(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Rr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return gt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=fd(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${fd(i.fields[d])}`;return o+"}"}(a.mapValue):_t(61005,{value:a})}function Ju(a){switch(wr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wc(a);return e?16+Ju(e):16;case 5:return 2*a.stringValue.length;case 6:return Rr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Ju(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return _a(s.fields,(h,d)=>{o+=h.length+Ju(d)}),o}(a.mapValue);default:throw _t(13486,{value:a})}}function dd(a){return!!a&&"integerValue"in a}function Bd(a){return!!a&&"arrayValue"in a}function a_(a){return!!a&&"nullValue"in a}function s_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Wu(a){return!!a&&"mapValue"in a}function ib(a){return(a?.mapValue?.fields||{})[Ov]?.stringValue===Mv}function Xl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return _a(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Xl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Xl(a.arrayValue.values[i]);return e}return{...a}}function rb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===nb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Wu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(i)}setAll(e){let i=qe.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Xl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Wu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Wu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){_a(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new Dn(Xl(this.value))}}function xv(a){const e=[];return _a(a.fields,(i,s)=>{const o=new qe([i]);if(Wu(s)){const h=xv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Xe(e,0,Tt.min(),Tt.min(),Tt.min(),Dn.empty(),0)}static newFoundDocument(e,i,s,o){return new Xe(e,1,i,Tt.min(),s,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,Tt.min(),Tt.min(),Dn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Tt.min(),Tt.min(),Dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i){this.position=e,this.inclusive=i}}function l_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=bs(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function o_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!si(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i="asc"){this.field=e,this.dir=i}}function ab(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{}class Re extends Uv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new lb(e,i,s):i==="array-contains"?new cb(e,s):i==="in"?new hb(e,s):i==="not-in"?new fb(e,s):i==="array-contains-any"?new db(e,s):new Re(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new ob(e,s):new ub(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(bs(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(bs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Uv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new li(e,i)}matches(e){return Lv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Lv(a){return a.op==="and"}function Pv(a){return sb(a)&&Lv(a)}function sb(a){for(const e of a.filters)if(e instanceof li)return!1;return!0}function md(a){if(a instanceof Re)return a.field.canonicalString()+a.op.toString()+Rs(a.value);if(Pv(a))return a.filters.map(e=>md(e)).join(",");{const e=a.filters.map(i=>md(i)).join(",");return`${a.op}(${e})`}}function zv(a,e){return a instanceof Re?function(s,o){return o instanceof Re&&s.op===o.op&&s.field.isEqual(o.field)&&si(s.value,o.value)}(a,e):a instanceof li?function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&zv(d,o.filters[g]),!0):!1}(a,e):void _t(19439)}function kv(a){return a instanceof Re?function(i){return`${i.field.canonicalString()} ${i.op} ${Rs(i.value)}`}(a):a instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(kv).join(" ,")+"}"}(a):"Filter"}class lb extends Re{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class ob extends Re{constructor(e,i){super(e,"in",i),this.keys=Bv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class ub extends Re{constructor(e,i){super(e,"not-in",i),this.keys=Bv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Bv(a,e){return(e.arrayValue?.values||[]).map(i=>gt.fromName(i.referenceValue))}class cb extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Bd(i)&&so(i.arrayValue,this.value)}}class hb extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class fb extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!so(this.value.arrayValue,i)}}class db extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Bd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>so(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function u_(a,e=null,i=[],s=[],o=null,h=null,d=null){return new mb(a,e,i,s,o,h,d)}function qd(a){const e=St(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>md(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),Rc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Rs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Rs(s)).join(",")),e.Te=i}return e.Te}function jd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!ab(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!zv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!o_(a.startAt,e.startAt)&&o_(a.endAt,e.endAt)}function gd(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gb(a,e,i,s,o,h,d,g){return new Cc(a,e,i,s,o,h,d,g)}function qv(a){return new Cc(a)}function c_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function pb(a){return a.collectionGroup!==null}function Zl(a){const e=St(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(qe.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new dc(h,s))}),i.has(qe.keyField().canonicalString())||e.Ie.push(new dc(qe.keyField(),s))}return e.Ie}function ni(a){const e=St(a);return e.Ee||(e.Ee=yb(e,Zl(a))),e.Ee}function yb(a,e){if(a.limitType==="F")return u_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new dc(o.field,h)});const i=a.endAt?new fc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new fc(a.startAt.position,a.startAt.inclusive):null;return u_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function pd(a,e,i){return new Cc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Dc(a,e){return jd(ni(a),ni(e))&&a.limitType===e.limitType}function jv(a){return`${qd(ni(a))}|lt:${a.limitType}`}function gs(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>kv(o)).join(", ")}]`),Rc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Rs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Rs(o)).join(",")),`Target(${s})`}(ni(a))}; limitType=${a.limitType})`}function Vc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Zl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,y){const p=l_(d,g,y);return d.inclusive?p<=0:p<0}(s.startAt,Zl(s),o)||s.endAt&&!function(d,g,y){const p=l_(d,g,y);return d.inclusive?p>=0:p>0}(s.endAt,Zl(s),o))}(a,e)}function _b(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Hv(a){return(e,i)=>{let s=!1;for(const o of Zl(a)){const h=vb(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function vb(a,e,i){const s=a.field.isKeyField()?gt.comparator(e.key,i.key):function(h,d,g){const y=d.data.field(h),p=g.data.field(h);return y!==null&&p!==null?bs(y,p):_t(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return wv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new ae(gt.comparator);function Bi(){return Eb}const Gv=new ae(gt.comparator);function Ql(...a){let e=Gv;for(const i of a)e=e.insert(i.key,i);return e}function Fv(a){let e=Gv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function da(){return $l()}function Qv(){return $l()}function $l(){return new va(a=>a.toString(),(a,e)=>a.isEqual(e))}const Tb=new ae(gt.comparator),Sb=new we(gt.comparator);function Nt(...a){let e=Sb;for(const i of a)e=e.add(i);return e}const Ab=new we(It);function bb(){return Ab}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uc(e)?"-0":e}}function Yv(a){return{integerValue:""+a}}function Rb(a,e){return $A(e)?Yv(e):Hd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this._=void 0}}function wb(a,e,i){return a instanceof mc?function(o,h){const d={fields:{[Vv]:{stringValue:Dv},[Nv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&kd(h)&&(h=wc(h)),h&&(d.fields[Iv]=h),{mapValue:d}}(i,e):a instanceof lo?Xv(a,e):a instanceof oo?Zv(a,e):function(o,h){const d=Kv(o,h),g=h_(d)+h_(o.Ae);return dd(d)&&dd(o.Ae)?Yv(g):Hd(o.serializer,g)}(a,e)}function Cb(a,e,i){return a instanceof lo?Xv(a,e):a instanceof oo?Zv(a,e):i}function Kv(a,e){return a instanceof gc?function(s){return dd(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class mc extends Ic{}class lo extends Ic{constructor(e){super(),this.elements=e}}function Xv(a,e){const i=$v(e);for(const s of a.elements)i.some(o=>si(o,s))||i.push(s);return{arrayValue:{values:i}}}class oo extends Ic{constructor(e){super(),this.elements=e}}function Zv(a,e){let i=$v(e);for(const s of a.elements)i=i.filter(o=>!si(o,s));return{arrayValue:{values:i}}}class gc extends Ic{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function h_(a){return de(a.integerValue||a.doubleValue)}function $v(a){return Bd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Db(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof lo&&o instanceof lo||s instanceof oo&&o instanceof oo?As(s.elements,o.elements,si):s instanceof gc&&o instanceof gc?si(s.Ae,o.Ae):s instanceof mc&&o instanceof mc}(a.transform,e.transform)}class Vb{constructor(e,i){this.version=e,this.transformResults=i}}class Li{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Nc{}function Jv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new tE(a.key,Li.none()):new mo(a.key,a.data,Li.none());{const i=a.data,s=Dn.empty();let o=new we(qe.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Ea(a.key,s,new Ln(o.toArray()),Li.none())}}function Ib(a,e,i){a instanceof mo?function(o,h,d){const g=o.value.clone(),y=d_(o.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Ea?function(o,h,d){if(!tc(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=d_(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(Wv(o)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Jl(a,e,i,s){return a instanceof mo?function(h,d,g,y){if(!tc(h.precondition,d))return g;const p=h.value.clone(),T=m_(h.fieldTransforms,y,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(a,e,i,s):a instanceof Ea?function(h,d,g,y){if(!tc(h.precondition,d))return g;const p=m_(h.fieldTransforms,y,d),T=d.data;return T.setAll(Wv(h)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(b=>b.field))}(a,e,i,s):function(h,d,g){return tc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function Nb(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=Kv(s.transform,o||null);h!=null&&(i===null&&(i=Dn.empty()),i.set(s.field,h))}return i||null}function f_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&As(s,o,(h,d)=>Db(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class mo extends Nc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ea extends Nc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Wv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function d_(a,e,i){const s=new Map;jt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,Cb(d,g,i[o]))}return s}function m_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,wb(h,d,e))}return s}class tE extends Nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ob extends Nc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Ib(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Qv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const y=Jv(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Nt())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(i,s)=>f_(i,s))&&As(this.baseMutations,e.baseMutations,(i,s)=>f_(i,s))}}class Gd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){jt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return Tb}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Gd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Lt;function Lb(a){switch(a){case tt.OK:return _t(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return _t(15467,{code:a})}}function eE(a){if(a===void 0)return ki("GRPC error has no .code"),tt.UNKNOWN;switch(a){case _e.OK:return tt.OK;case _e.CANCELLED:return tt.CANCELLED;case _e.UNKNOWN:return tt.UNKNOWN;case _e.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case _e.INTERNAL:return tt.INTERNAL;case _e.UNAVAILABLE:return tt.UNAVAILABLE;case _e.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case _e.NOT_FOUND:return tt.NOT_FOUND;case _e.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case _e.ABORTED:return tt.ABORTED;case _e.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case _e.DATA_LOSS:return tt.DATA_LOSS;default:return _t(39323,{code:a})}}(Lt=_e||(_e={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Er([4294967295,4294967295],0);function g_(a){const e=Pb().encode(a),i=new gv;return i.update(e),new Uint8Array(i.digest())}function p_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Er([i,s],0),new Er([o,h],0)]}class Fd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Er.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Er.fromNumber(s)));return o.compare(zb)===1&&(o=new Er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=g_(e),[s,o]=p_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Fd(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const i=g_(e),[s,o]=p_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,go.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Oc(Tt.min(),o,new ae(It),Bi(),Nt())}}class go{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new go(s,i,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class nE{constructor(e,i){this.targetId=e,this.Ce=i}}class iE{constructor(e,i,s=He.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class y_{constructor(){this.ve=0,this.Fe=__(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Nt(),i=Nt(),s=Nt();return this.Fe.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t(38017,{changeType:h})}}),new go(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=__()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bi(),this.Je=Qu(),this.He=Qu(),this.Ye=new ae(It)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:_t(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((s,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(gd(h))if(s===0){const d=new gt(h.path);this.et(i,d,Xe.newNoDocument(d,Tt.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Rr(s).toUint8Array()}catch(y){if(y instanceof Cv)return Ss("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Fd(d,o,h)}catch(y){return Ss(y instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&gd(g.target)){const y=new gt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Xe.newNoDocument(y,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let s=Nt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const o=new Oc(e,i,this.Ye,this.je,s);return this.je=Bi(),this.Je=Qu(),this.He=Qu(),this.Ye=new ae(It),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new y_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new we(It),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new we(It),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y_),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Qu(){return new ae(gt.comparator)}function __(){return new ae(gt.comparator)}const Bb={asc:"ASCENDING",desc:"DESCENDING"},qb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jb={and:"AND",or:"OR"};class Hb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function yd(a,e){return a.useProto3Json||Rc(e)?e:{value:e}}function pc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rE(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function Gb(a,e){return pc(a,e.toTimestamp())}function ii(a){return jt(!!a,49232),Tt.fromTimestamp(function(i){const s=br(i);return new te(s.seconds,s.nanos)}(a))}function Qd(a,e){return _d(a,e).canonicalString()}function _d(a,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function aE(a){const e=Wt.fromString(a);return jt(cE(e),10190,{key:e.toString()}),e}function vd(a,e){return Qd(a.databaseId,e.path)}function Jf(a,e){const i=aE(e);if(i.get(1)!==a.databaseId.projectId)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(lE(i))}function sE(a,e){return Qd(a.databaseId,e)}function Fb(a){const e=aE(a);return e.length===4?Wt.emptyPath():lE(e)}function Ed(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function lE(a){return jt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function v_(a,e,i){return{name:vd(a,e),fields:i.value.mapValue.fields}}function Qb(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_t(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(p,T){return p.useProto3Json?(jt(T===void 0||typeof T=="string",58123),He.fromBase64String(T||"")):(jt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),He.fromUint8Array(T||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(p){const T=p.code===void 0?tt.UNKNOWN:eE(p.code);return new ut(T,p.message||"")}(d);i=new iE(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jf(a,s.document.name),h=ii(s.document.updateTime),d=s.document.createTime?ii(s.document.createTime):Tt.min(),g=new Dn({mapValue:{fields:s.document.fields}}),y=Xe.newFoundDocument(o,h,d,g),p=s.targetIds||[],T=s.removedTargetIds||[];i=new ec(p,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Jf(a,s.document),h=s.readTime?ii(s.readTime):Tt.min(),d=Xe.newNoDocument(o,h),g=s.removedTargetIds||[];i=new ec([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Jf(a,s.document),h=s.removedTargetIds||[];i=new ec([],h,o,null)}else{if(!("filter"in e))return _t(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new Ub(o,h),g=s.targetId;i=new nE(g,d)}}return i}function Yb(a,e){let i;if(e instanceof mo)i={update:v_(a,e.key,e.value)};else if(e instanceof tE)i={delete:vd(a,e.key)};else if(e instanceof Ea)i={update:v_(a,e.key,e.data),updateMask:nR(e.fieldMask)};else{if(!(e instanceof Ob))return _t(16599,{Vt:e.type});i={verify:vd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof gc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:Gb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t(27497)}(a,e.precondition)),i}function Kb(a,e){return a&&a.length>0?(jt(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?ii(o.updateTime):ii(h);return d.isEqual(Tt.min())&&(d=ii(h)),new Vb(d,o.transformResults||[])}(i,e))):[]}function Xb(a,e){return{documents:[sE(a,e.path)]}}function Zb(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=sE(a,o);const h=function(p){if(p.length!==0)return uE(li.create(p,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(p){if(p.length!==0)return p.map(T=>function(C){return{field:ps(C.field),direction:Wb(C.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=yd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:i,parent:o}}function $b(a){let e=Fb(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){jt(s===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=function(b){const C=oE(b);return C instanceof li&&Pv(C)?C.getFilters():[C]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(C=>function(G){return new dc(ys(G.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction))}(C))}(i.orderBy));let g=null;i.limit&&(g=function(b){let C;return C=typeof b=="object"?b.value:b,Rc(C)?null:C}(i.limit));let y=null;i.startAt&&(y=function(b){const C=!!b.before,q=b.values||[];return new fc(q,C)}(i.startAt));let p=null;return i.endAt&&(p=function(b){const C=!b.before,q=b.values||[];return new fc(q,C)}(i.endAt)),gb(e,o,d,h,g,"F",y,p)}function Jb(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function oE(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=ys(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ys(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ys(i.unaryFilter.field);return Re.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ys(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(a):a.fieldFilter!==void 0?function(i){return Re.create(ys(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return li.create(i.compositeFilter.filters.map(s=>oE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(i.compositeFilter.op))}(a):_t(30097,{filter:a})}function Wb(a){return Bb[a]}function tR(a){return qb[a]}function eR(a){return jb[a]}function ps(a){return{fieldPath:a.canonicalString()}}function ys(a){return qe.fromServerFormat(a.fieldPath)}function uE(a){return a instanceof Re?function(i){if(i.op==="=="){if(s_(i.value))return{unaryFilter:{field:ps(i.field),op:"IS_NAN"}};if(a_(i.value))return{unaryFilter:{field:ps(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(s_(i.value))return{unaryFilter:{field:ps(i.field),op:"IS_NOT_NAN"}};if(a_(i.value))return{unaryFilter:{field:ps(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ps(i.field),op:tR(i.op),value:i.value}}}(a):a instanceof li?function(i){const s=i.getFilters().map(o=>uE(o));return s.length===1?s[0]:{compositeFilter:{op:eR(i.op),filters:s}}}(a):_t(54877,{filter:a})}function nR(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function cE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,s,o,h=Tt.min(),d=Tt.min(),g=He.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.yt=e}}function rR(a){const e=$b({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?pd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.Cn=new sR}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Ar.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Ar.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class sR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Wt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hE=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(hE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ws(0)}static cr(){return new ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="LruGarbageCollector",lR=1048576;function S_([a,e],[i,s]){const o=It(a,i);return o===0?It(e,s):o}class oR{constructor(e){this.Ir=e,this.buffer=new we(S_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();S_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class uR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){lt(T_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Os(i)?lt(T_,"Ignoring IndexedDB error during garbage collection: ",i):await Ns(i)}await this.Vr(3e5)})}}class cR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return $.resolve(bc.ce);const s=new oR(i);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(E_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,g,y,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,g=Date.now(),this.removeTargets(e,s,i))).next(b=>(h=b,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(p=Date.now(),ms()<=Pt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${b} documents in `+(p-y)+`ms
Total Duration: ${p-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:b})))}}function hR(a,e){return new cR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.changes=new va(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Jl(s.mutation,o,Ln.empty(),te.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Nt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Nt()){const o=da();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Ql();return h.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=da();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Nt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=Bi();const d=$l(),g=function(){return $l()}();return i.forEach((y,p)=>{const T=s.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof Ea)?h=h.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),Jl(T.mutation,p,T.mutation.getFieldMask(),te.now())):d.set(p.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,h).next(y=>(y.forEach((p,T)=>d.set(p,T)),i.forEach((p,T)=>g.set(p,new dR(T,d.get(p)??null))),g))}recalculateAndSaveOverlays(e,i){const s=$l();let o=new ae((d,g)=>d-g),h=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const p=i.get(y);if(p===null)return;let T=s.get(y)||Ln.empty();T=g.applyToLocalView(p,T),s.set(y,T);const b=(o.get(g.batchId)||Nt()).add(y);o=o.insert(g.batchId,b)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,T=y.value,b=Qv();T.forEach(C=>{if(!h.has(C)){const q=Jv(i.get(C),s.get(C));q!==null&&b.set(C,q),h=h.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,b))}return $.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):pb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):$.resolve(da());let g=io,y=h;return d.next(p=>$.forEach(p,(T,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),h.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next(C=>{y=y.insert(T,C)}))).next(()=>this.populateOverlays(e,p,h)).next(()=>this.computeViews(e,y,p,Nt())).next(T=>({batchId:g,changes:Fv(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,h).next(g=>$.forEach(g,y=>{const p=function(b,C){return new Cc(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(T=>{T.forEach((b,C)=>{d=d.insert(b,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((y,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,Xe.newInvalidDocument(T)))});let g=Ql();return d.forEach((y,p)=>{const T=h.get(y);T!==void 0&&Jl(T.mutation,p,Ln.empty(),te.now()),Vc(i,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ii(o.createTime)}}(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:rR(o.bundledQuery),readTime:ii(o.readTime)}}(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.overlays=new ae(gt.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=da();return $.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.St(e,i,h)}),$.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const o=da(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===h&&y.largestBatchId>s&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ae((p,T)=>p-T);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let T=h.get(p.largestBatchId);T===null&&(T=da(),h=h.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=da(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,T)=>g.set(p,T)),!(g.size()>=o)););return $.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new xb(i,s));let h=this.qr.get(i);h===void 0&&(h=Nt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.Qr=new we(Me.$r),this.Ur=new we(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Gr(new Me(e,i))}zr(e,i){e.forEach(s=>this.removeReference(s,i))}jr(e){const i=new gt(new Wt([])),s=new Me(i,e),o=new Me(i,e+1),h=[];return this.Ur.forEachInRange([s,o],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new Wt([])),s=new Me(i,e),o=new Me(i,e+1);let h=Nt();return this.Ur.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||It(e.Yr,i.Yr)}static Kr(e,i){return It(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new we(Me.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Mb(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?zd:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],d=>{const g=this.Xr(d.Yr);h.push(g)}),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(It);return i.forEach(o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{s=s.add(g.Yr)})}),$.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new gt(h),0);let g=new we(It);return this.Zr.forEachWhile(y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Yr)),!0)},d),$.resolve(this.ti(g))}ti(e){const i=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return $.forEach(i.mutations,o=>{const h=new Me(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,i){const s=new Me(i,0),o=this.Zr.firstAfterOrEqual(s);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.ri=e,this.docs=function(){return new ae(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=Bi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Xe.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=Bi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:T}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||YA(QA(T),s)<=0||(o.has(T.key)||Vc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,s,o){_t(9500)}ii(e,i){return $.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new ER(this)}getSize(e){return $.resolve(this.size)}}class ER extends fR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.persistence=e,this.si=new va(i=>qd(i),jd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Yd,this.targetCount=0,this.ai=ws.ur()}forEachTarget(e,i){return this.si.forEach((s,o)=>i(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ws(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),$.waitFor(h).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),$.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,i){this.ui={},this.overlays={},this.ci=new bc(0),this.li=!1,this.li=!0,this.hi=new yR,this.referenceDelegate=e(this),this.Pi=new TR(this),this.indexManager=new aR,this.remoteDocumentCache=function(o){return new vR(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new iR(i),this.Ii=new gR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new pR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new _R(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new SR(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ai(e,i){return $.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,i)))}}class SR extends XA{constructor(e){super(),this.currentSequenceNumber=e}}class Kd{constructor(e){this.persistence=e,this.Ri=new Yd,this.Vi=null}static mi(e){return new Kd(e)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.fi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,s=>{const o=gt.fromPath(s);return this.gi(e,o).next(h=>{h||i.removeEntry(o,Tt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class yc{constructor(e,i){this.persistence=e,this.pi=new va(s=>JA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=hR(this,i)}static mi(e,i){return new yc(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}wr(e){let i=0;return this.pr(e,s=>{i++}).next(()=>i)}pr(e,i){return $.forEach(this.pi,(s,o)=>this.br(e,s,o).next(h=>h?$.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(g=>{g||(s++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ju(e.data.value)),i}br(e,i,s){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Nt(),o=Nt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Xd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return mS()?8:ZA(fS())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new AR;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)})}).next(()=>h.result)}bs(e,i,s,o){return s.documentReadCount<this.fs?(ms()<=Pt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",gs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ms()<=Pt.DEBUG&&lt("QueryEngine","Query:",gs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ms()<=Pt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",gs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(i))):$.resolve())}ys(e,i){if(c_(i))return $.resolve(null);let s=ni(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=pd(i,null,"F"),s=ni(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Nt(...h);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(y=>{const p=this.Ds(i,g);return this.Cs(i,p,d,y.readTime)?this.ys(e,pd(i,null,"F")):this.vs(e,p,i,y)}))})))}ws(e,i,s,o){return c_(i)||o.isEqual(Tt.min())?$.resolve(null):this.ps.getDocuments(e,s).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?$.resolve(null):(ms()<=Pt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),gs(i)),this.vs(e,d,i,FA(o,io)).next(g=>g))})}Ds(e,i){let s=new we(Hv(e));return i.forEach((o,h)=>{Vc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return ms()<=Pt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",gs(i)),this.ps.getDocumentsMatchingQuery(e,i,Ar.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd="LocalStore",RR=3e8;class wR{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ae(It),this.xs=new va(h=>qd(h),jd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function CR(a,e,i,s){return new wR(a,e,i,s)}async function dE(a,e){const i=St(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let y=Nt();for(const p of o){d.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}for(const p of h){g.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(s,y).next(p=>({Ls:p,removedBatchIds:d,addedBatchIds:g}))})})}function DR(a,e){const i=St(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,y,p,T){const b=p.batch,C=b.keys();let q=$.resolve();return C.forEach(G=>{q=q.next(()=>T.getEntry(y,G)).next(X=>{const H=p.docVersions.get(G);jt(H!==null,48541),X.version.compareTo(H)<0&&(b.applyToRemoteDocument(X,p),X.isValidDocument()&&(X.setReadTime(p.commitVersion),T.addEntry(X)))})}),q.next(()=>g.mutationQueue.removeMutationBatch(y,b))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=Nt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function mE(a){const e=St(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function VR(a,e){const i=St(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach((T,b)=>{const C=o.get(b);if(!C)return;g.push(i.Pi.removeMatchingKeys(h,T.removedDocuments,b).next(()=>i.Pi.addMatchingKeys(h,T.addedDocuments,b)));let q=C.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?q=q.withResumeToken(He.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,s)),o=o.insert(b,q),function(X,H,J){return X.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=RR?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(C,q,T)&&g.push(i.Pi.updateTargetData(h,q))});let y=Bi(),p=Nt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))}),g.push(IR(h,d,e.documentUpdates).next(T=>{y=T.ks,p=T.qs})),!s.isEqual(Tt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(h).next(b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(T)}return $.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,p)).next(()=>y)}).then(h=>(i.Ms=o,h))}function IR(a,e,i){let s=Nt(),o=Nt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=Bi();return i.forEach((g,y)=>{const p=h.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):lt(Zd,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{ks:d,qs:o}})}function NR(a,e){const i=St(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=zd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function OR(a,e){const i=St(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Pi.getTargetData(s,e).next(h=>h?(o=h,$.resolve(o)):i.Pi.allocateTargetId(s).next(d=>(o=new yr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s})}async function Td(a,e,i){const s=St(a),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Os(d))throw d;lt(Zd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function A_(a,e,i){const s=St(a);let o=Tt.min(),h=Nt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,T){const b=St(y),C=b.xs.get(T);return C!==void 0?$.resolve(b.Ms.get(C)):b.Pi.getTargetData(p,T)}(s,d,ni(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{h=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:Tt.min(),i?h:Nt())).next(g=>(MR(s,_b(e),g),{documents:g,Qs:h})))}function MR(a,e,i){let s=a.Os.get(e)||Tt.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Os.set(e,s)}class b_{constructor(){this.activeTargetIds=bb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xR{constructor(){this.Mo=new b_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new b_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="ConnectivityMonitor";class w_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(R_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){lt(R_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function Sd(){return Yu===null?Yu=function(){return 268435456+Math.round(2147483648*Math.random())}():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="RestConnection",LR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===cc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=Sd(),g=this.zo(e,i.toUriEncodedString());lt(Wf,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,h);const{host:p}=new URL(g),T=Md(p);return this.Jo(e,g,y,s,T).then(b=>(lt(Wf,`Received RPC '${e}' ${d}: `,b),b),b=>{throw Ss(Wf,`RPC '${e}' ${d} failed with error: `,b,"url: ",g,"request:",s),b})}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}zo(e,i){const s=LR[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class kR extends PR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=Sd();return new Promise((g,y)=>{const p=new pv;p.setWithCredentials(!0),p.listenOnce(yv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case $u.NO_ERROR:const b=p.getResponseJson();lt(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),g(b);break;case $u.TIMEOUT:lt(Ye,`RPC '${e}' ${d} timed out`),y(new ut(tt.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const C=p.getStatus();if(lt(Ye,`RPC '${e}' ${d} failed with status:`,C,"response text:",p.getResponseText()),C>0){let q=p.getResponseJson();Array.isArray(q)&&(q=q[0]);const G=q?.error;if(G&&G.status&&G.message){const X=function(J){const st=J.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(st)>=0?st:tt.UNKNOWN}(G.status);y(new ut(X,G.message))}else y(new ut(tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ut(tt.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{lt(Ye,`RPC '${e}' ${d} completed.`)}});const T=JSON.stringify(o);lt(Ye,`RPC '${e}' ${d} sending request:`,o),p.send(i,"POST",T,s,15)})}T_(e,i,s){const o=Sd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ev(),g=vv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const T=h.join("");lt(Ye,`Creating RPC '${e}' stream ${o}: ${T}`,y);const b=d.createWebChannel(T,y);this.I_(b);let C=!1,q=!1;const G=new zR({Yo:H=>{q?lt(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(C||(lt(Ye,`Opening RPC '${e}' stream ${o} transport.`),b.open(),C=!0),lt(Ye,`RPC '${e}' stream ${o} sending:`,H),b.send(H))},Zo:()=>b.close()}),X=(H,J,st)=>{H.listen(J,it=>{try{st(it)}catch(At){setTimeout(()=>{throw At},0)}})};return X(b,Fl.EventType.OPEN,()=>{q||(lt(Ye,`RPC '${e}' stream ${o} transport opened.`),G.o_())}),X(b,Fl.EventType.CLOSE,()=>{q||(q=!0,lt(Ye,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(b))}),X(b,Fl.EventType.ERROR,H=>{q||(q=!0,Ss(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),G.a_(new ut(tt.UNAVAILABLE,"The operation could not be completed")))}),X(b,Fl.EventType.MESSAGE,H=>{if(!q){const J=H.data[0];jt(!!J,16349);const st=J,it=st?.error||st[0]?.error;if(it){lt(Ye,`RPC '${e}' stream ${o} received error:`,it);const At=it.status;let ft=function(A){const w=_e[A];if(w!==void 0)return eE(w)}(At),Ot=it.message;ft===void 0&&(ft=tt.INTERNAL,Ot="Unknown error status: "+At+" with message "+it.message),q=!0,G.a_(new ut(ft,Ot)),b.close()}else lt(Ye,`RPC '${e}' stream ${o} received:`,J),G.u_(J)}}),X(g,_v.STAT_EVENT,H=>{H.stat===cd.PROXY?lt(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===cd.NOPROXY&&lt(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{G.__()},0),G}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(a){return new Hb(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="PersistentStream";class pE{constructor(e,i,s,o,h,d,g,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===i&&this.G_(s,o)},s=>{e(()=>{const o=new ut(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return lt(C_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(lt(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BR extends pE{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Qb(this.serializer,e),s=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ii(d.readTime):Tt.min()}(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Ed(this.serializer),i.addTarget=function(h,d){let g;const y=d.target;if(g=gd(y)?{documents:Xb(h,y)}:{query:Zb(h,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=rE(h,d.resumeToken);const p=yd(h,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=pc(h,d.snapshotVersion.toTimestamp());const p=yd(h,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,e);const s=Jb(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Ed(this.serializer),i.removeTarget=e,this.q_(i)}}class qR extends pE{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Kb(e.writeResults,e.commitTime),s=ii(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Ed(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>Yb(this.serializer,s))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{}class HR extends jR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,_d(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(tt.UNKNOWN,h.toString())})}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,_d(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(tt.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class GR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ki(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class FR{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{Ta(this)&&(lt(ga,"Restarting streams for network reachability change."),await async function(y){const p=St(y);p.Ea.add(4),await po(p),p.Ra.set("Unknown"),p.Ea.delete(4),await xc(p)}(this))})}),this.Ra=new GR(s,o)}}async function xc(a){if(Ta(a))for(const e of a.da)await e(!0)}async function po(a){for(const e of a.da)await e(!1)}function yE(a,e){const i=St(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),tm(i)?Wd(i):Ms(i).O_()&&Jd(i,e))}function $d(a,e){const i=St(a),s=Ms(i);i.Ia.delete(e),s.O_()&&_E(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ta(i)&&i.Ra.set("Unknown"))}function Jd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Tt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ms(a).Y_(e)}function _E(a,e){a.Va.Ue(e),Ms(a).Z_(e)}function Wd(a){a.Va=new kb({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Ms(a).start(),a.Ra.ua()}function tm(a){return Ta(a)&&!Ms(a).x_()&&a.Ia.size>0}function Ta(a){return St(a).Ea.size===0}function vE(a){a.Va=void 0}async function QR(a){a.Ra.set("Online")}async function YR(a){a.Ia.forEach((e,i)=>{Jd(a,e)})}async function KR(a,e){vE(a),tm(a)?(a.Ra.ha(e),Wd(a)):a.Ra.set("Unknown")}async function XR(a,e,i){if(a.Ra.set("Online"),e instanceof iE&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))}(a,e)}catch(s){lt(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _c(a,s)}else if(e instanceof ec?a.Va.Ze(e):e instanceof nE?a.Va.st(e):a.Va.tt(e),!i.isEqual(Tt.min()))try{const s=await mE(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const T=h.Ia.get(p);T&&h.Ia.set(p,T.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,p)=>{const T=h.Ia.get(y);if(!T)return;h.Ia.set(y,T.withResumeToken(He.EMPTY_BYTE_STRING,T.snapshotVersion)),_E(h,y);const b=new yr(T.target,y,p,T.sequenceNumber);Jd(h,b)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){lt(ga,"Failed to raise snapshot:",s),await _c(a,s)}}async function _c(a,e,i){if(!Os(e))throw e;a.Ea.add(1),await po(a),a.Ra.set("Offline"),i||(i=()=>mE(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{lt(ga,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await xc(a)})}function EE(a,e){return e().catch(i=>_c(a,i,e))}async function Uc(a){const e=St(a),i=Cr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zd;for(;ZR(e);)try{const o=await NR(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,$R(e,o)}catch(o){await _c(e,o)}TE(e)&&SE(e)}function ZR(a){return Ta(a)&&a.Ta.length<10}function $R(a,e){a.Ta.push(e);const i=Cr(a);i.O_()&&i.X_&&i.ea(e.mutations)}function TE(a){return Ta(a)&&!Cr(a).x_()&&a.Ta.length>0}function SE(a){Cr(a).start()}async function JR(a){Cr(a).ra()}async function WR(a){const e=Cr(a);for(const i of a.Ta)e.ea(i.mutations)}async function t2(a,e,i){const s=a.Ta.shift(),o=Gd.from(s,e,i);await EE(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Uc(a)}async function e2(a,e){e&&Cr(a).X_&&await async function(s,o){if(function(d){return Lb(d)&&d!==tt.ABORTED}(o.code)){const h=s.Ta.shift();Cr(s).B_(),await EE(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await Uc(s)}}(a,e),TE(a)&&SE(a)}async function D_(a,e){const i=St(a);i.asyncQueue.verifyOperationInProgress(),lt(ga,"RemoteStore received new credentials");const s=Ta(i);i.Ea.add(3),await po(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await xc(i)}async function n2(a,e){const i=St(a);e?(i.Ea.delete(2),await xc(i)):e||(i.Ea.add(2),await po(i),i.Ra.set("Unknown"))}function Ms(a){return a.ma||(a.ma=function(i,s,o){const h=St(i);return h.sa(),new BR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:QR.bind(null,a),t_:YR.bind(null,a),r_:KR.bind(null,a),H_:XR.bind(null,a)}),a.da.push(async e=>{e?(a.ma.B_(),tm(a)?Wd(a):a.Ra.set("Unknown")):(await a.ma.stop(),vE(a))})),a.ma}function Cr(a){return a.fa||(a.fa=function(i,s,o){const h=St(i);return h.sa(),new qR(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:JR.bind(null,a),r_:e2.bind(null,a),ta:WR.bind(null,a),na:t2.bind(null,a)}),a.da.push(async e=>{e?(a.fa.B_(),await Uc(a)):(await a.fa.stop(),a.Ta.length>0&&(lt(ga,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))})),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new em(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nm(a,e){if(ki("AsyncQueue",`${e}: ${a}`),Os(a))return new ut(tt.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{static emptySet(e){return new vs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Ql(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof vs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new vs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.ga=new ae(gt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_t(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,s)=>{e.push(s)}),e}}class Cs{constructor(e,i,s,o,h,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Cs(e,i,vs.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class r2{constructor(){this.queries=I_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=St(i),h=o.queries;o.queries=I_(),h.forEach((d,g)=>{for(const y of g.Sa)y.onError(s)})})(this,new ut(tt.ABORTED,"Firestore shutting down"))}}function I_(){return new va(a=>jv(a),Dc)}async function a2(a,e){const i=St(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new i2,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=nm(d,`Initialization of query '${gs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&im(i)}async function s2(a,e){const i=St(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function l2(a,e){const i=St(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&im(i)}function o2(a,e,i){const s=St(a),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function im(a){a.Ca.forEach(e=>{e.next()})}var Ad,N_;(N_=Ad||(Ad={})).Ma="default",N_.Cache="cache";class u2{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Cs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Cs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ad.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e){this.key=e}}class bE{constructor(e){this.key=e}}class c2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=Hv(e),this.tu=new vs(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new V_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const C=o.get(T),q=Vc(this.query,b)?b:null,G=!!C&&this.mutatedKeys.has(C.key),X=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let H=!1;C&&q?C.data.isEqual(q.data)?G!==X&&(s.track({type:3,doc:q}),H=!0):this.su(C,q)||(s.track({type:2,doc:q}),H=!0,(y&&this.eu(q,y)>0||p&&this.eu(q,p)<0)&&(g=!0)):!C&&q?(s.track({type:0,doc:q}),H=!0):C&&!q&&(s.track({type:1,doc:C}),H=!0,(y||p)&&(g=!0)),H&&(q?(d=d.add(q),h=X?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((T,b)=>function(q,G){const X=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:H})}};return X(q)-X(G)}(T.type,b.type)||this.eu(T.doc,b.doc)),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new Cs(this.query,e.tu,h,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Nt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return e.forEach(s=>{this.Xa.has(s)||i.push(new bE(s))}),this.Xa.forEach(s=>{e.has(s)||i.push(new AE(s))}),i}cu(e){this.Ya=e.Qs,this.Xa=Nt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Cs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rm="SyncEngine";class h2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class f2{constructor(e){this.key=e,this.hu=!1}}class d2{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new va(g=>jv(g),Dc),this.Iu=new Map,this.Eu=new Set,this.du=new ae(gt.comparator),this.Au=new Map,this.Ru=new Yd,this.Vu={},this.mu=new Map,this.fu=ws.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function m2(a,e,i=!0){const s=IE(a);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await RE(s,e,i,!0),o}async function g2(a,e){const i=IE(a);await RE(i,e,!0,!1)}async function RE(a,e,i,s){const o=await OR(a.localStore,ni(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await p2(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&yE(a.remoteStore,o),g}async function p2(a,e,i,s,o){a.pu=(b,C,q)=>async function(X,H,J,st){let it=H.view.ru(J);it.Cs&&(it=await A_(X.localStore,H.query,!1).then(({documents:O})=>H.view.ru(O,it)));const At=st&&st.targetChanges.get(H.targetId),ft=st&&st.targetMismatches.get(H.targetId)!=null,Ot=H.view.applyChanges(it,X.isPrimaryClient,At,ft);return M_(X,H.targetId,Ot.au),Ot.snapshot}(a,b,C,q);const h=await A_(a.localStore,e,!0),d=new c2(e,h.Qs),g=d.ru(h.documents),y=go.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),p=d.applyChanges(g,a.isPrimaryClient,y);M_(a,i,p.au);const T=new h2(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),p.snapshot}async function y2(a,e,i){const s=St(a),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter(d=>!Dc(d,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Td(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&$d(s.remoteStore,o.targetId),bd(s,o.targetId)}).catch(Ns)):(bd(s,o.targetId),await Td(s.localStore,o.targetId,!0))}async function _2(a,e){const i=St(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),$d(i.remoteStore,s.targetId))}async function v2(a,e,i){const s=w2(a);try{const o=await function(d,g){const y=St(d),p=te.now(),T=g.reduce((q,G)=>q.add(G.key),Nt());let b,C;return y.persistence.runTransaction("Locally write mutations","readwrite",q=>{let G=Bi(),X=Nt();return y.Ns.getEntries(q,T).next(H=>{G=H,G.forEach((J,st)=>{st.isValidDocument()||(X=X.add(J))})}).next(()=>y.localDocuments.getOverlayedDocuments(q,G)).next(H=>{b=H;const J=[];for(const st of g){const it=Nb(st,b.get(st.key).overlayedDocument);it!=null&&J.push(new Ea(st.key,it,xv(it.value.mapValue),Li.exists(!0)))}return y.mutationQueue.addMutationBatch(q,p,J,g)}).next(H=>{C=H;const J=H.applyToLocalDocumentSet(b,X);return y.documentOverlayCache.saveOverlays(q,H.batchId,J)})}).then(()=>({batchId:C.batchId,changes:Fv(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new ae(It)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p}(s,o.batchId,i),await yo(s,o.changes),await Uc(s.remoteStore)}catch(o){const h=nm(o,"Failed to persist write");i.reject(h)}}async function wE(a,e){const i=St(a);try{const s=await VR(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Au.get(h);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?jt(d.hu,14607):o.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))}),await yo(i,s,e)}catch(s){await Ns(s)}}function O_(a,e,i){const s=St(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=St(d);y.onlineState=g;let p=!1;y.queries.forEach((T,b)=>{for(const C of b.Sa)C.va(g)&&(p=!0)}),p&&im(y)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function E2(a,e,i){const s=St(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new ae(gt.comparator);d=d.insert(h,Xe.newNoDocument(h,Tt.min()));const g=Nt().add(h),y=new Oc(Tt.min(),new Map,new ae(It),d,g);await wE(s,y),s.du=s.du.remove(h),s.Au.delete(e),am(s)}else await Td(s.localStore,e,!1).then(()=>bd(s,e,i)).catch(Ns)}async function T2(a,e){const i=St(a),s=e.batch.batchId;try{const o=await DR(i.localStore,e);DE(i,s,null),CE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await yo(i,o)}catch(o){await Ns(o)}}async function S2(a,e,i){const s=St(a);try{const o=await function(d,g){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let T;return y.mutationQueue.lookupMutationBatch(p,g).next(b=>(jt(b!==null,37113),T=b.keys(),y.mutationQueue.removeMutationBatch(p,b))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,T,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T)).next(()=>y.localDocuments.getDocuments(p,T))})}(s.localStore,e);DE(s,e,i),CE(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await yo(s,o)}catch(o){await Ns(o)}}function CE(a,e){(a.mu.get(e)||[]).forEach(i=>{i.resolve()}),a.mu.delete(e)}function DE(a,e,i){const s=St(a);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function bd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach(s=>{a.Ru.containsKey(s)||VE(a,s)})}function VE(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&($d(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),am(a))}function M_(a,e,i){for(const s of i)s instanceof AE?(a.Ru.addReference(s.key,e),A2(a,s)):s instanceof bE?(lt(rm,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||VE(a,s.key)):_t(19791,{wu:s})}function A2(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(lt(rm,"New document in limbo: "+i),a.Eu.add(s),am(a))}function am(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new gt(Wt.fromString(e)),s=a.fu.next();a.Au.set(s,new f2(i)),a.du=a.du.insert(i,s),yE(a.remoteStore,new yr(ni(qv(i.path)),s,"TargetPurposeLimboResolution",bc.ce))}}async function yo(a,e,i){const s=St(a),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((g,y)=>{d.push(s.pu(y,e,i).then(p=>{if((p||i)&&s.isPrimaryClient){const T=p?!p.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){o.push(p);const T=Xd.As(y.targetId,p);h.push(T)}}))}),await Promise.all(d),s.Pu.H_(o),await async function(y,p){const T=St(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>$.forEach(p,C=>$.forEach(C.Es,q=>T.persistence.referenceDelegate.addReference(b,C.targetId,q)).next(()=>$.forEach(C.ds,q=>T.persistence.referenceDelegate.removeReference(b,C.targetId,q)))))}catch(b){if(!Os(b))throw b;lt(Zd,"Failed to update sequence numbers: "+b)}for(const b of p){const C=b.targetId;if(!b.fromCache){const q=T.Ms.get(C),G=q.snapshotVersion,X=q.withLastLimboFreeSnapshotVersion(G);T.Ms=T.Ms.insert(C,X)}}}(s.localStore,h))}async function b2(a,e){const i=St(a);if(!i.currentUser.isEqual(e)){lt(rm,"User change. New user:",e.toKey());const s=await dE(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(g=>{g.forEach(y=>{y.reject(new ut(tt.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yo(i,s.Ls)}}function R2(a,e){const i=St(a),s=i.Au.get(e);if(s&&s.hu)return Nt().add(s.key);{let o=Nt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function IE(a){const e=St(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=wE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E2.bind(null,e),e.Pu.H_=l2.bind(null,e.eventManager),e.Pu.yu=o2.bind(null,e.eventManager),e}function w2(a){const e=St(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S2.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return CR(this.persistence,new bR,e.initialUser,this.serializer)}Cu(e){return new fE(Kd.mi,this.serializer)}Du(e){return new xR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class C2 extends vc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){jt(this.persistence.referenceDelegate instanceof yc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new fE(s=>yc.mi(s,i),this.serializer)}}class Rd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>O_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=b2.bind(null,this.syncEngine),await n2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r2}()}createDatastore(e){const i=Mc(e.databaseInfo.databaseId),s=function(h){return new kR(h)}(e.databaseInfo);return function(h,d,g,y){return new HR(h,d,g,y)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new FR(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>O_(this.syncEngine,i,0),function(){return w_.v()?new w_:new UR}())}createSyncEngine(e,i){return function(o,h,d,g,y,p,T){const b=new d2(o,h,d,g,y,p);return T&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const s=St(i);lt(ga,"RemoteStore shutting down."),s.Ea.add(5),await po(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rd.provider={build:()=>new Rd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="FirestoreClient";class V2{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Ld.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{lt(Dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(lt(Dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=nm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ed(a,e){a.asyncQueue.verifyOperationInProgress(),lt(Dr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await dE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function x_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await I2(a);lt(Dr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>D_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>D_(e.remoteStore,o)),a._onlineComponents=e}async function I2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(Dr,"Using user provided OfflineComponentProvider");try{await ed(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ss("Error using user provided cache. Falling back to memory cache: "+i),await ed(a,new vc)}}else lt(Dr,"Using default OfflineComponentProvider"),await ed(a,new C2(void 0));return a._offlineComponents}async function NE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(Dr,"Using user provided OnlineComponentProvider"),await x_(a,a._uninitializedComponentsProvider._online)):(lt(Dr,"Using default OnlineComponentProvider"),await x_(a,new Rd))),a._onlineComponents}function N2(a){return NE(a).then(e=>e.syncEngine)}async function O2(a){const e=await NE(a),i=e.eventManager;return i.onListen=m2.bind(null,e.syncEngine),i.onUnlisten=y2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=g2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=_2.bind(null,e.syncEngine),i}function M2(a,e,i={}){const s=new Tr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,y,p){const T=new D2({next:C=>{T.Nu(),d.enqueueAndForget(()=>s2(h,b)),C.fromCache&&y.source==="server"?p.reject(new ut(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(C)},error:C=>p.reject(C)}),b=new u2(g,T,{includeMetadataChanges:!0,qa:!0});return a2(h,b)}(await O2(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="firestore.googleapis.com",L_=!0;class P_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ME,this.ssl=L_}else this.host=e.host,this.ssl=e.ssl??L_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lR)throw new ut(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OE(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new xA;switch(s.type){case"firstParty":return new zA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=U_.get(i);s&&(lt("ComponentProvider","Removing Datastore"),U_.delete(i),s.terminate())}(this),Promise.resolve()}}function x2(a,e,i,s={}){a=oc(a,Lc);const o=Md(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(lS(`https://${g}`),hS("Firestore",!0)),h.host!==ME&&h.host!==g&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:o,emulatorOptions:s};if(!ac(y,d)&&(a._setSettings(y),s.mockUserToken)){let p,T;if(typeof s.mockUserToken=="string")p=s.mockUserToken,T=Ke.MOCK_USER;else{p=oS(s.mockUserToken,a._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ut(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ke(b)}a._authCredentials=new UA(new Sv(p,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Pc(this.firestore,e,this._query)}}class je{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new je(this.firestore,e,this._key)}toJSON(){return{type:je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(fo(i,je._jsonSchema))return new je(e,s||null,new gt(Wt.fromString(i.referencePath)))}}je._jsonSchemaVersion="firestore/documentReference/1.0",je._jsonSchema={type:ve("string",je._jsonSchemaVersion),referencePath:ve("string")};class Sr extends Pc{constructor(e,i,s){super(e,i,qv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new je(this.firestore,null,new gt(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function xE(a,e,...i){if(a=to(a),Av("collection","path",e),a instanceof Lc){const s=Wt.fromString(e,...i);return $y(s),new Sr(a,null,s)}{if(!(a instanceof je||a instanceof Sr))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return $y(s),new Sr(a.firestore,null,s)}}function U2(a,e,...i){if(a=to(a),arguments.length===1&&(e=Ld.newId()),Av("doc","path",e),a instanceof Lc){const s=Wt.fromString(e,...i);return Zy(s),new je(a,null,new gt(s))}{if(!(a instanceof je||a instanceof Sr))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Wt.fromString(e,...i));return Zy(s),new je(a.firestore,a instanceof Sr?a.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="AsyncQueue";class k_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gE(this,"async_queue_retry"),this._c=()=>{const s=td();s&&lt(z_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=td();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=td();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Tr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Os(e))throw e;lt(z_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ki("INTERNAL UNHANDLED ERROR: ",B_(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=em.createAndSchedule(this,e,i,s,h=>this.hc(h));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:B_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function B_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class sm extends Lc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new k_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k_(e),this._firestoreClient=void 0,await e}}}function L2(a,e){const i=typeof a=="object"?a:TA(),s=typeof a=="string"?a:cc,o=pA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=aS("firestore");h&&x2(o,...h)}return o}function UE(a){if(a._terminated)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||P2(a),a._firestoreClient}function P2(a){const e=a._freezeSettings(),i=function(o,h,d,g){return new eb(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,OE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new V2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(He.fromBase64String(e))}catch(i){throw new ut(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Vn(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fo(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:ve("string",Vn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(fo(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:ve("string",ri._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fo(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ai(e.vectorValues);throw new ut(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:ve("string",ai._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=/^__.*__$/;class k2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ea(e,this.data,this.fieldMask,i,this.fieldTransforms):new mo(e,this.data,i,this.fieldTransforms)}}function PE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:a})}}class om{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new om({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ec(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PE(this.Ac)&&z2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class B2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Mc(e)}Cc(e,i,s,o=!1){return new om({Ac:e,methodName:i,Dc:s,path:qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q2(a){const e=a._freezeSettings(),i=Mc(a._databaseId);return new B2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function j2(a,e,i,s,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,o);qE("Data must be an object, but it was:",d,s);const g=kE(s,d);let y,p;if(h.merge)y=new Ln(d.fieldMask),p=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const b of h.mergeFields){const C=H2(e,b,i);if(!d.contains(C))throw new ut(tt.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);F2(T,C)||T.push(C)}y=new Ln(T),p=d.fieldTransforms.filter(b=>y.covers(b.field))}else y=null,p=d.fieldTransforms;return new k2(new Dn(g),y,p)}function zE(a,e){if(BE(a=to(a)))return qE("Unsupported field value:",e,a),kE(a,e);if(a instanceof LE)return function(s,o){if(!PE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let y=zE(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=to(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Rb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=te.fromDate(s);return{timestampValue:pc(o.serializer,h)}}if(s instanceof te){const h=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pc(o.serializer,h)}}if(s instanceof ri)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:rE(o.serializer,s._byteString)};if(s instanceof je){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Qd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ai)return function(d,g){return{mapValue:{fields:{[Ov]:{stringValue:Mv},[hc]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return Hd(g.serializer,p)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Pd(s)}`)}(a,e)}function kE(a,e){const i={};return wv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(a,(s,o)=>{const h=zE(o,e.mc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function BE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof te||a instanceof ri||a instanceof Vn||a instanceof je||a instanceof LE||a instanceof ai)}function qE(a,e,i){if(!BE(i)||!bv(i)){const s=Pd(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function H2(a,e,i){if((e=to(e))instanceof lm)return e._internalPath;if(typeof e=="string")return jE(a,e);throw Ec("Field path arguments must be of type string or ",a,!1,void 0,i)}const G2=new RegExp("[~\\*/\\[\\]]");function jE(a,e,i){if(e.search(G2)>=0)throw Ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new lm(...e.split("."))._internalPath}catch{throw Ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Ec(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new ut(tt.INVALID_ARGUMENT,g+a+y)}function F2(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(GE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Q2 extends HE{data(){return super.data()}}function GE(a,e){return typeof e=="string"?jE(a,e):e instanceof lm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ut(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class K2{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return _a(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){const i=e.fields?.[hc].arrayValue?.values?.map(s=>de(s.doubleValue));return new ai(i)}convertGeoPoint(e){return new ri(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=wc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ro(e));default:return null}}convertTimestamp(e){const i=br(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);jt(cE(s),9688,{name:e});const o=new ao(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return o.isEqual(i)||ki(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(a,e,i){let s;return s=a?a.toFirestore(e):e,s}class Ku{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Es extends HE{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(GE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Es._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Es._jsonSchemaVersion="firestore/documentSnapshot/1.0",Es._jsonSchema={type:ve("string",Es._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class nc extends Es{data(e={}){return super.data(e)}}class Ts{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ku(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new nc(this._firestore,this._userDataWriter,s.key,s,new Ku(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new nc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new nc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ku(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:Z2(g.type),doc:y,oldIndex:p,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ts._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ld.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Z2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:a})}}Ts._jsonSchemaVersion="firestore/querySnapshot/1.0",Ts._jsonSchema={type:ve("string",Ts._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class $2 extends K2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,i)}}function J2(a){a=oc(a,Pc);const e=oc(a.firestore,sm),i=UE(e),s=new $2(e);return Y2(a._query),M2(i,a._query).then(o=>new Ts(e,s,a,o))}function W2(a,e){const i=oc(a.firestore,sm),s=U2(a),o=X2(a.converter,e);return tw(i,[j2(q2(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,Li.exists(!1))]).then(()=>s)}function tw(a,e){return function(s,o){const h=new Tr;return s.asyncQueue.enqueueAndForget(async()=>v2(await N2(s),o,h)),h.promise}(UE(a),e)}(function(e,i=!0){(function(o){Is=o})(EA),lc(new eo("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new sm(new LA(s.getProvider("auth-internal")),new kA(d,s.getProvider("app-check-internal")),function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ut(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(p.options.projectId,T)}(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),_s(Qy,Yy,e),_s(Qy,Yy,"esm2020")})();const ew={apiKey:"AIzaSyDdlo_lGx4zpz1S0gHdzoF9pBkVkZltG1s",authDomain:"anonymous-25b6d.firebaseapp.com",projectId:"anonymous-25b6d",storageBucket:"anonymous-25b6d.firebasestorage.app",messagingSenderId:"416240841047",appId:"1:416240841047:web:374ef2ad2be095d18d4e12",measurementId:"G-W9MHJHZ5VG"},nw=fv(ew),FE=L2(nw);function iw(){const[a,e]=K.useState(""),[i,s]=K.useState([]),[o,h]=K.useState(""),d=Sc(),g=xE(FE,"letters");async function y(){try{const b=(await J2(g)).docs.map(C=>({...C.data()}));s(b),h(b)}catch(T){console.error(T)}}function p(){if(a.trim()==="")s(o);else{const T=o.filter(b=>b.recipient.toLowerCase()===a.toLowerCase());s(T)}}return K.useEffect(()=>{y()},[]),ct.jsxs(ct.Fragment,{children:[ct.jsx(rv,{}),ct.jsxs("div",{className:"search-container",children:[ct.jsx("input",{value:a,type:"text",placeholder:"insert your name..",onChange:T=>e(T.target.value)}),ct.jsx("button",{onClick:p,children:"Search"})]}),ct.jsx("div",{className:"result-status-container",children:ct.jsxs("h5",{children:[i.length," results found."]})}),ct.jsx("button",{className:"create-button",onClick:()=>{d("/create")},children:"+"}),ct.jsx("div",{className:"letter-container",children:i.map((T,b)=>ct.jsx(K1,{recipient:T.recipient,message:T.message,color:T.color},b))})]})}function Cn({color:a,onColorPicked:e}){return ct.jsx(ct.Fragment,{children:ct.jsx("div",{children:ct.jsx("button",{onClick:()=>e(a),className:"color-button",style:{backgroundColor:a}})})})}function rw(){const a=xE(FE,"letters"),[e,i]=K.useState(""),[s,o]=K.useState(""),[h,d]=K.useState("white"),g=Sc(),y={padding:"5px",height:"400px",width:"400px",border:"solid 5px black",display:"flex",flexDirection:"column",flexShrink:"0",boxSizing:"border-box",borderRadius:"10px"},p={padding:"10px"},T={height:"100%",resize:"none",fontSize:"1.5rem",fontWeight:"bold",fontFamily:"Arial, Helvetica, sans-serif",backgroundColor:h},b={display:"flex"},C={fontSize:"1.6rem",fontWeight:"bold",width:"100%",backgroundColor:"transparent",border:"none",padding:"0"},q={display:"flex",justifyContent:"center",fontSize:"3rem",margin:"0",fontFamily:"Arial, Helvetica, sans-serif",backgroundColor:"gainsboro"};async function G(){if(e!==""&&s!=="")try{await W2(a,{recipient:e,message:s,color:h}),g("/")}catch(X){console.error(X)}}return ct.jsxs(ct.Fragment,{children:[ct.jsx(rv,{}),ct.jsx("h1",{style:q,children:"Create a letter"}),ct.jsxs("div",{className:"create-box-container",children:[ct.jsxs("div",{style:y,children:[ct.jsxs("div",{style:b,children:[ct.jsx("h1",{style:p,children:"to: "}),ct.jsx("input",{placeholder:"insert name..",style:C,onChange:X=>i(X.target.value.toLowerCase())})]}),ct.jsx("hr",{}),ct.jsx("textarea",{type:"text",style:T,onChange:X=>o(X.target.value)})]}),ct.jsxs("div",{className:"color-container",children:[ct.jsx(Cn,{color:"white",onColorPicked:d}),ct.jsx(Cn,{color:"gold",onColorPicked:d}),ct.jsx(Cn,{color:"skyblue",onColorPicked:d}),ct.jsx(Cn,{color:"salmon",onColorPicked:d}),ct.jsx(Cn,{color:"grey",onColorPicked:d}),ct.jsx(Cn,{color:"lemonchiffon",onColorPicked:d}),ct.jsx(Cn,{color:"palegreen",onColorPicked:d}),ct.jsx(Cn,{color:"plum",onColorPicked:d}),ct.jsx(Cn,{color:"lavender",onColorPicked:d}),ct.jsx(Cn,{color:"lightpink",onColorPicked:d}),ct.jsx(Cn,{color:"limegreen",onColorPicked:d}),ct.jsx(Cn,{color:"peru",onColorPicked:d})]})]}),ct.jsx("div",{className:"create-letter-button-container",children:ct.jsx("button",{onClick:()=>{g("/"),G()},children:"Submit"})})]})}function aw(){return ct.jsx(ct.Fragment,{children:ct.jsx(z1,{children:ct.jsxs(g1,{children:[ct.jsx(id,{path:"/",element:ct.jsx(iw,{})}),ct.jsx(id,{path:"/create",element:ct.jsx(rw,{})})]})})})}RT.createRoot(document.getElementById("root")).render(ct.jsx(K.StrictMode,{children:ct.jsx(aw,{})}));
